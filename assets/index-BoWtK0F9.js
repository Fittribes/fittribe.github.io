function dw(a,r){for(var s=0;s<r.length;s++){const i=r[s];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in a)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(a,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function sf(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function ui(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var r=a.default;if(typeof r=="function"){var s=function i(){var o=!1;try{o=this instanceof i}catch{}return o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(a).forEach(function(i){var o=Object.getOwnPropertyDescriptor(a,i);Object.defineProperty(s,i,o.get?o:{enumerable:!0,get:function(){return a[i]}})}),s}var ed={exports:{}},qs={};var O0;function fw(){if(O0)return qs;O0=1;var a=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(i,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:a,type:i,key:f,ref:o!==void 0?o:null,props:c}}return qs.Fragment=r,qs.jsx=s,qs.jsxs=s,qs}var R0;function hw(){return R0||(R0=1,ed.exports=fw()),ed.exports}var d=hw(),td={exports:{}},ue={};var D0;function mw(){if(D0)return ue;D0=1;var a=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function _(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,j={};function C(O,Y,I){this.props=O,this.context=Y,this.refs=j,this.updater=I||S}C.prototype.isReactComponent={},C.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function D(){}D.prototype=C.prototype;function T(O,Y,I){this.props=O,this.context=Y,this.refs=j,this.updater=I||S}var P=T.prototype=new D;P.constructor=T,E(P,C.prototype),P.isPureReactComponent=!0;var N=Array.isArray;function M(){}var z={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function Z(O,Y,I){var J=I.ref;return{$$typeof:a,type:O,key:Y,ref:J!==void 0?J:null,props:I}}function Q(O,Y){return Z(O.type,Y,O.props)}function de(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function ne(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(I){return Y[I]})}var Ue=/\/+/g;function _e(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?ne(""+O.key):Y.toString(36)}function Ne(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(M,M):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function $(O,Y,I,J,oe){var ce=typeof O;(ce==="undefined"||ce==="boolean")&&(O=null);var he=!1;if(O===null)he=!0;else switch(ce){case"bigint":case"string":case"number":he=!0;break;case"object":switch(O.$$typeof){case a:case r:he=!0;break;case b:return he=O._init,$(he(O._payload),Y,I,J,oe)}}if(he)return oe=oe(O),he=J===""?"."+_e(O,0):J,N(oe)?(I="",he!=null&&(I=he.replace(Ue,"$&/")+"/"),$(oe,Y,I,"",function(ma){return ma})):oe!=null&&(de(oe)&&(oe=Q(oe,I+(oe.key==null||O&&O.key===oe.key?"":(""+oe.key).replace(Ue,"$&/")+"/")+he)),Y.push(oe)),1;he=0;var et=J===""?".":J+":";if(N(O))for(var $e=0;$e<O.length;$e++)J=O[$e],ce=et+_e(J,$e),he+=$(J,Y,I,ce,oe);else if($e=_(O),typeof $e=="function")for(O=$e.call(O),$e=0;!(J=O.next()).done;)J=J.value,ce=et+_e(J,$e++),he+=$(J,Y,I,ce,oe);else if(ce==="object"){if(typeof O.then=="function")return $(Ne(O),Y,I,J,oe);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return he}function X(O,Y,I){if(O==null)return O;var J=[],oe=0;return $(O,J,"","",function(ce){return Y.call(I,ce,oe++)}),J}function ae(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(I){(O._status===0||O._status===-1)&&(O._status=1,O._result=I)},function(I){(O._status===0||O._status===-1)&&(O._status=2,O._result=I)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var xe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Se={map:X,forEach:function(O,Y,I){X(O,function(){Y.apply(this,arguments)},I)},count:function(O){var Y=0;return X(O,function(){Y++}),Y},toArray:function(O){return X(O,function(Y){return Y})||[]},only:function(O){if(!de(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ue.Activity=v,ue.Children=Se,ue.Component=C,ue.Fragment=s,ue.Profiler=o,ue.PureComponent=T,ue.StrictMode=i,ue.Suspense=g,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,ue.__COMPILER_RUNTIME={__proto__:null,c:function(O){return z.H.useMemoCache(O)}},ue.cache=function(O){return function(){return O.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(O,Y,I){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var J=E({},O.props),oe=O.key;if(Y!=null)for(ce in Y.key!==void 0&&(oe=""+Y.key),Y)!K.call(Y,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&Y.ref===void 0||(J[ce]=Y[ce]);var ce=arguments.length-2;if(ce===1)J.children=I;else if(1<ce){for(var he=Array(ce),et=0;et<ce;et++)he[et]=arguments[et+2];J.children=he}return Z(O.type,oe,J)},ue.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},ue.createElement=function(O,Y,I){var J,oe={},ce=null;if(Y!=null)for(J in Y.key!==void 0&&(ce=""+Y.key),Y)K.call(Y,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(oe[J]=Y[J]);var he=arguments.length-2;if(he===1)oe.children=I;else if(1<he){for(var et=Array(he),$e=0;$e<he;$e++)et[$e]=arguments[$e+2];oe.children=et}if(O&&O.defaultProps)for(J in he=O.defaultProps,he)oe[J]===void 0&&(oe[J]=he[J]);return Z(O,ce,oe)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(O){return{$$typeof:m,render:O}},ue.isValidElement=de,ue.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ae}},ue.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},ue.startTransition=function(O){var Y=z.T,I={};z.T=I;try{var J=O(),oe=z.S;oe!==null&&oe(I,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(M,xe)}catch(ce){xe(ce)}finally{Y!==null&&I.types!==null&&(Y.types=I.types),z.T=Y}},ue.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},ue.use=function(O){return z.H.use(O)},ue.useActionState=function(O,Y,I){return z.H.useActionState(O,Y,I)},ue.useCallback=function(O,Y){return z.H.useCallback(O,Y)},ue.useContext=function(O){return z.H.useContext(O)},ue.useDebugValue=function(){},ue.useDeferredValue=function(O,Y){return z.H.useDeferredValue(O,Y)},ue.useEffect=function(O,Y){return z.H.useEffect(O,Y)},ue.useEffectEvent=function(O){return z.H.useEffectEvent(O)},ue.useId=function(){return z.H.useId()},ue.useImperativeHandle=function(O,Y,I){return z.H.useImperativeHandle(O,Y,I)},ue.useInsertionEffect=function(O,Y){return z.H.useInsertionEffect(O,Y)},ue.useLayoutEffect=function(O,Y){return z.H.useLayoutEffect(O,Y)},ue.useMemo=function(O,Y){return z.H.useMemo(O,Y)},ue.useOptimistic=function(O,Y){return z.H.useOptimistic(O,Y)},ue.useReducer=function(O,Y,I){return z.H.useReducer(O,Y,I)},ue.useRef=function(O){return z.H.useRef(O)},ue.useState=function(O){return z.H.useState(O)},ue.useSyncExternalStore=function(O,Y,I){return z.H.useSyncExternalStore(O,Y,I)},ue.useTransition=function(){return z.H.useTransition()},ue.version="19.2.1",ue}var U0;function _o(){return U0||(U0=1,td.exports=mw()),td.exports}var R=_o();const gw=sf(R);var rd={exports:{}},$s={},ad={exports:{}},nd={};var M0;function yw(){return M0||(M0=1,(function(a){function r($,X){var ae=$.length;$.push(X);e:for(;0<ae;){var xe=ae-1>>>1,Se=$[xe];if(0<o(Se,X))$[xe]=X,$[ae]=Se,ae=xe;else break e}}function s($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var X=$[0],ae=$.pop();if(ae!==X){$[0]=ae;e:for(var xe=0,Se=$.length,O=Se>>>1;xe<O;){var Y=2*(xe+1)-1,I=$[Y],J=Y+1,oe=$[J];if(0>o(I,ae))J<Se&&0>o(oe,I)?($[xe]=oe,$[J]=ae,xe=J):($[xe]=I,$[Y]=ae,xe=Y);else if(J<Se&&0>o(oe,ae))$[xe]=oe,$[J]=ae,xe=J;else break e}}return X}function o($,X){var ae=$.sortIndex-X.sortIndex;return ae!==0?ae:$.id-X.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var g=[],y=[],b=1,v=null,w=3,_=!1,S=!1,E=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function P($){for(var X=s(y);X!==null;){if(X.callback===null)i(y);else if(X.startTime<=$)i(y),X.sortIndex=X.expirationTime,r(g,X);else break;X=s(y)}}function N($){if(E=!1,P($),!S)if(s(g)!==null)S=!0,M||(M=!0,ne());else{var X=s(y);X!==null&&Ne(N,X.startTime-$)}}var M=!1,z=-1,K=5,Z=-1;function Q(){return j?!0:!(a.unstable_now()-Z<K)}function de(){if(j=!1,M){var $=a.unstable_now();Z=$;var X=!0;try{e:{S=!1,E&&(E=!1,D(z),z=-1),_=!0;var ae=w;try{t:{for(P($),v=s(g);v!==null&&!(v.expirationTime>$&&Q());){var xe=v.callback;if(typeof xe=="function"){v.callback=null,w=v.priorityLevel;var Se=xe(v.expirationTime<=$);if($=a.unstable_now(),typeof Se=="function"){v.callback=Se,P($),X=!0;break t}v===s(g)&&i(g),P($)}else i(g);v=s(g)}if(v!==null)X=!0;else{var O=s(y);O!==null&&Ne(N,O.startTime-$),X=!1}}break e}finally{v=null,w=ae,_=!1}X=void 0}}finally{X?ne():M=!1}}}var ne;if(typeof T=="function")ne=function(){T(de)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,_e=Ue.port2;Ue.port1.onmessage=de,ne=function(){_e.postMessage(null)}}else ne=function(){C(de,0)};function Ne($,X){z=C(function(){$(a.unstable_now())},X)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function($){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var ae=w;w=X;try{return $()}finally{w=ae}},a.unstable_requestPaint=function(){j=!0},a.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ae=w;w=$;try{return X()}finally{w=ae}},a.unstable_scheduleCallback=function($,X,ae){var xe=a.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?xe+ae:xe):ae=xe,$){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ae+Se,$={id:b++,callback:X,priorityLevel:$,startTime:ae,expirationTime:Se,sortIndex:-1},ae>xe?($.sortIndex=ae,r(y,$),s(g)===null&&$===s(y)&&(E?(D(z),z=-1):E=!0,Ne(N,ae-xe))):($.sortIndex=Se,r(g,$),S||_||(S=!0,M||(M=!0,ne()))),$},a.unstable_shouldYield=Q,a.unstable_wrapCallback=function($){var X=w;return function(){var ae=w;w=X;try{return $.apply(this,arguments)}finally{w=ae}}}})(nd)),nd}var z0;function pw(){return z0||(z0=1,ad.exports=yw()),ad.exports}var sd={exports:{}},ht={};var B0;function bw(){if(B0)return ht;B0=1;var a=_o();function r(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(r(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:y,implementation:b}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ht.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(r(299));return c(g,y,null,b)},ht.flushSync=function(g){var y=f.T,b=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=y,i.p=b,i.d.f()}},ht.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},ht.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},ht.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,v=m(b,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,_=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:_}):b==="script"&&i.d.X(g,{crossOrigin:v,integrity:w,fetchPriority:_,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ht.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},ht.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,v=m(b,y.crossOrigin);i.d.L(g,b,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ht.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=m(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},ht.requestFormReset=function(g){i.d.r(g)},ht.unstable_batchedUpdates=function(g,y){return g(y)},ht.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},ht.useFormStatus=function(){return f.H.useHostTransitionStatus()},ht.version="19.2.1",ht}var L0;function vw(){if(L0)return sd.exports;L0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),sd.exports=bw(),sd.exports}var q0;function xw(){if(q0)return $s;q0=1;var a=pw(),r=_o(),s=vw();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(i(188))}function y(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var h=u.alternate;if(h===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===n)return g(u),e;if(h===l)return g(u),t;h=h.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=h;else{for(var p=!1,x=u.child;x;){if(x===n){p=!0,n=u,l=h;break}if(x===l){p=!0,l=u,n=h;break}x=x.sibling}if(!p){for(x=h.child;x;){if(x===n){p=!0,n=h,l=u;break}if(x===l){p=!0,l=h,n=u;break}x=x.sibling}if(!p)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),T=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=de&&e[de]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Symbol.for("react.client.reference");function _e(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case C:return"Profiler";case j:return"StrictMode";case N:return"Suspense";case M:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case T:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return t=e.displayName||null,t!==null?t:_e(e.type)||"Memo";case K:t=e._payload,e=e._init;try{return _e(e(t))}catch{}}return null}var Ne=Array.isArray,$=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},xe=[],Se=-1;function O(e){return{current:e}}function Y(e){0>Se||(e.current=xe[Se],xe[Se]=null,Se--)}function I(e,t){Se++,xe[Se]=e.current,e.current=t}var J=O(null),oe=O(null),ce=O(null),he=O(null);function et(e,t){switch(I(ce,t),I(oe,e),I(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?e0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=e0(t),e=t0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(J),I(J,e)}function $e(){Y(J),Y(oe),Y(ce)}function ma(e){e.memoizedState!==null&&I(he,e);var t=J.current,n=t0(t,e.type);t!==n&&(I(oe,e),I(J,n))}function ga(e){oe.current===e&&(Y(J),Y(oe)),he.current===e&&(Y(he),Ms._currentValue=ae)}var zo,Cf;function ya(e){if(zo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zo=t&&t[1]||"",Cf=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zo+e+Cf}var Bo=!1;function Lo(e,t){if(!e||Bo)return"";Bo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(H){var q=H}Reflect.construct(e,[],F)}else{try{F.call()}catch(H){q=H}e.call(F.prototype)}}else{try{throw Error()}catch(H){q=H}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),p=h[0],x=h[1];if(p&&x){var k=p.split(`
`),L=x.split(`
`);for(u=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;if(l===k.length||u===L.length)for(l=k.length-1,u=L.length-1;1<=l&&0<=u&&k[l]!==L[u];)u--;for(;1<=l&&0<=u;l--,u--)if(k[l]!==L[u]){if(l!==1||u!==1)do if(l--,u--,0>u||k[l]!==L[u]){var V=`
`+k[l].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=l&&0<=u);break}}}finally{Bo=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ya(n):""}function Vb(e,t){switch(e.tag){case 26:case 27:case 5:return ya(e.type);case 16:return ya("Lazy");case 13:return e.child!==t&&t!==null?ya("Suspense Fallback"):ya("Suspense");case 19:return ya("SuspenseList");case 0:case 15:return Lo(e.type,!1);case 11:return Lo(e.type.render,!1);case 1:return Lo(e.type,!0);case 31:return ya("Activity");default:return""}}function Of(e){try{var t="",n=null;do t+=Vb(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var qo=Object.prototype.hasOwnProperty,$o=a.unstable_scheduleCallback,Ho=a.unstable_cancelCallback,Pb=a.unstable_shouldYield,Gb=a.unstable_requestPaint,kt=a.unstable_now,Ib=a.unstable_getCurrentPriorityLevel,Rf=a.unstable_ImmediatePriority,Df=a.unstable_UserBlockingPriority,bi=a.unstable_NormalPriority,Yb=a.unstable_LowPriority,Uf=a.unstable_IdlePriority,Fb=a.log,Kb=a.unstable_setDisableYieldValue,Fn=null,Nt=null;function qr(e){if(typeof Fb=="function"&&Kb(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Fn,e)}catch{}}var Tt=Math.clz32?Math.clz32:Qb,Xb=Math.log,Jb=Math.LN2;function Qb(e){return e>>>=0,e===0?32:31-(Xb(e)/Jb|0)|0}var vi=256,xi=262144,wi=4194304;function pa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _i(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,h=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var x=l&134217727;return x!==0?(l=x&~h,l!==0?u=pa(l):(p&=x,p!==0?u=pa(p):n||(n=x&~e,n!==0&&(u=pa(n))))):(x=l&~h,x!==0?u=pa(x):p!==0?u=pa(p):n||(n=l&~e,n!==0&&(u=pa(n)))),u===0?0:t!==0&&t!==u&&(t&h)===0&&(h=u&-u,n=t&-t,h>=n||h===32&&(n&4194048)!==0)?t:u}function Kn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Zb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mf(){var e=wi;return wi<<=1,(wi&62914560)===0&&(wi=4194304),e}function Vo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wb(e,t,n,l,u,h){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var x=e.entanglements,k=e.expirationTimes,L=e.hiddenUpdates;for(n=p&~n;0<n;){var V=31-Tt(n),F=1<<V;x[V]=0,k[V]=-1;var q=L[V];if(q!==null)for(L[V]=null,V=0;V<q.length;V++){var H=q[V];H!==null&&(H.lane&=-536870913)}n&=~F}l!==0&&zf(e,l,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(p&~t))}function zf(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Tt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Bf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Tt(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function Lf(e,t){var n=t&-t;return n=(n&42)!==0?1:Po(n),(n&(e.suspendedLanes|t))!==0?0:n}function Po(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Go(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qf(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:j0(e.type))}function $f(e,t){var n=X.p;try{return X.p=e,t()}finally{X.p=n}}var $r=Math.random().toString(36).slice(2),nt="__reactFiber$"+$r,pt="__reactProps$"+$r,Ga="__reactContainer$"+$r,Io="__reactEvents$"+$r,ev="__reactListeners$"+$r,tv="__reactHandles$"+$r,Hf="__reactResources$"+$r,Jn="__reactMarker$"+$r;function Yo(e){delete e[nt],delete e[pt],delete e[Io],delete e[ev],delete e[tv]}function Ia(e){var t=e[nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ga]||n[nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=o0(e);e!==null;){if(n=e[nt])return n;e=o0(e)}return t}e=n,n=e.parentNode}return null}function Ya(e){if(e=e[nt]||e[Ga]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Qn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Fa(e){var t=e[Hf];return t||(t=e[Hf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function rt(e){e[Jn]=!0}var Vf=new Set,Pf={};function ba(e,t){Ka(e,t),Ka(e+"Capture",t)}function Ka(e,t){for(Pf[e]=t,e=0;e<t.length;e++)Vf.add(t[e])}var rv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gf={},If={};function av(e){return qo.call(If,e)?!0:qo.call(Gf,e)?!1:rv.test(e)?If[e]=!0:(Gf[e]=!0,!1)}function Si(e,t,n){if(av(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ji(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function hr(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nv(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,h=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(p){n=""+p,h.call(this,p)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fo(e){if(!e._valueTracker){var t=Yf(e)?"checked":"value";e._valueTracker=nv(e,t,""+e[t])}}function Ff(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Yf(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sv=/[\n"\\]/g;function qt(e){return e.replace(sv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ko(e,t,n,l,u,h,p,x){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lt(t)):e.value!==""+Lt(t)&&(e.value=""+Lt(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?Xo(e,p,Lt(t)):n!=null?Xo(e,p,Lt(n)):l!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Lt(x):e.removeAttribute("name")}function Kf(e,t,n,l,u,h,p,x){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||n!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){Fo(e);return}n=n!=null?""+Lt(n):"",t=t!=null?""+Lt(t):n,x||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=x?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Fo(e)}function Xo(e,t,n){t==="number"&&Ei(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Xa(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Lt(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Xf(e,t,n){if(t!=null&&(t=""+Lt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Lt(n):""}function Jf(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(Ne(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Lt(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Fo(e)}function Ja(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var iv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qf(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||iv.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Zf(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Qf(e,u,l)}else for(var h in t)t.hasOwnProperty(h)&&Qf(e,h,t[h])}function Jo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ov=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ki(e){return ov.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mr(){}var Qo=null;function Zo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qa=null,Za=null;function Wf(e){var t=Ya(e);if(t&&(e=t.stateNode)){var n=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ko(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[pt]||null;if(!u)throw Error(i(90));Ko(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Ff(l)}break e;case"textarea":Xf(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Xa(e,!!n.multiple,t,!1)}}}var Wo=!1;function eh(e,t,n){if(Wo)return e(t,n);Wo=!0;try{var l=e(t);return l}finally{if(Wo=!1,(Qa!==null||Za!==null)&&(hl(),Qa&&(t=Qa,e=Za,Za=Qa=null,Wf(t),e)))for(t=0;t<e.length;t++)Wf(e[t])}}function Zn(e,t){var n=e.stateNode;if(n===null)return null;var l=n[pt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=!1;if(gr)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){ec=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{ec=!1}var Hr=null,tc=null,Ni=null;function th(){if(Ni)return Ni;var e,t=tc,n=t.length,l,u="value"in Hr?Hr.value:Hr.textContent,h=u.length;for(e=0;e<n&&t[e]===u[e];e++);var p=n-e;for(l=1;l<=p&&t[n-l]===u[h-l];l++);return Ni=u.slice(e,1<l?1-l:void 0)}function Ti(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function rh(){return!1}function bt(e){function t(n,l,u,h,p){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ai:rh,this.isPropagationStopped=rh,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),t}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=bt(va),es=v({},va,{view:0,detail:0}),cv=bt(es),rc,ac,ts,Oi=v({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ts&&(ts&&e.type==="mousemove"?(rc=e.screenX-ts.screenX,ac=e.screenY-ts.screenY):ac=rc=0,ts=e),rc)},movementY:function(e){return"movementY"in e?e.movementY:ac}}),ah=bt(Oi),uv=v({},Oi,{dataTransfer:0}),dv=bt(uv),fv=v({},es,{relatedTarget:0}),nc=bt(fv),hv=v({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),mv=bt(hv),gv=v({},va,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yv=bt(gv),pv=v({},va,{data:0}),nh=bt(pv),bv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xv[e])?!!t[e]:!1}function sc(){return wv}var _v=v({},es,{key:function(e){if(e.key){var t=bv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(e){return e.type==="keypress"?Ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sv=bt(_v),jv=v({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sh=bt(jv),Ev=v({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),kv=bt(Ev),Nv=v({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tv=bt(Nv),Av=v({},Oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cv=bt(Av),Ov=v({},va,{newState:0,oldState:0}),Rv=bt(Ov),Dv=[9,13,27,32],ic=gr&&"CompositionEvent"in window,rs=null;gr&&"documentMode"in document&&(rs=document.documentMode);var Uv=gr&&"TextEvent"in window&&!rs,ih=gr&&(!ic||rs&&8<rs&&11>=rs),lh=" ",oh=!1;function ch(e,t){switch(e){case"keyup":return Dv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wa=!1;function Mv(e,t){switch(e){case"compositionend":return uh(t);case"keypress":return t.which!==32?null:(oh=!0,lh);case"textInput":return e=t.data,e===lh&&oh?null:e;default:return null}}function zv(e,t){if(Wa)return e==="compositionend"||!ic&&ch(e,t)?(e=th(),Ni=tc=Hr=null,Wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ih&&t.locale!=="ko"?null:t.data;default:return null}}var Bv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bv[e.type]:t==="textarea"}function fh(e,t,n,l){Qa?Za?Za.push(l):Za=[l]:Qa=l,t=xl(t,"onChange"),0<t.length&&(n=new Ci("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var as=null,ns=null;function Lv(e){Kg(e,0)}function Ri(e){var t=Qn(e);if(Ff(t))return e}function hh(e,t){if(e==="change")return t}var mh=!1;if(gr){var lc;if(gr){var oc="oninput"in document;if(!oc){var gh=document.createElement("div");gh.setAttribute("oninput","return;"),oc=typeof gh.oninput=="function"}lc=oc}else lc=!1;mh=lc&&(!document.documentMode||9<document.documentMode)}function yh(){as&&(as.detachEvent("onpropertychange",ph),ns=as=null)}function ph(e){if(e.propertyName==="value"&&Ri(ns)){var t=[];fh(t,ns,e,Zo(e)),eh(Lv,t)}}function qv(e,t,n){e==="focusin"?(yh(),as=t,ns=n,as.attachEvent("onpropertychange",ph)):e==="focusout"&&yh()}function $v(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ri(ns)}function Hv(e,t){if(e==="click")return Ri(t)}function Vv(e,t){if(e==="input"||e==="change")return Ri(t)}function Pv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:Pv;function ss(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!qo.call(t,u)||!At(e[u],t[u]))return!1}return!0}function bh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vh(e,t){var n=bh(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bh(n)}}function xh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ei(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ei(e.document)}return t}function cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Gv=gr&&"documentMode"in document&&11>=document.documentMode,en=null,uc=null,is=null,dc=!1;function _h(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dc||en==null||en!==Ei(l)||(l=en,"selectionStart"in l&&cc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),is&&ss(is,l)||(is=l,l=xl(uc,"onSelect"),0<l.length&&(t=new Ci("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=en)))}function xa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tn={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},fc={},Sh={};gr&&(Sh=document.createElement("div").style,"AnimationEvent"in window||(delete tn.animationend.animation,delete tn.animationiteration.animation,delete tn.animationstart.animation),"TransitionEvent"in window||delete tn.transitionend.transition);function wa(e){if(fc[e])return fc[e];if(!tn[e])return e;var t=tn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Sh)return fc[e]=t[n];return e}var jh=wa("animationend"),Eh=wa("animationiteration"),kh=wa("animationstart"),Iv=wa("transitionrun"),Yv=wa("transitionstart"),Fv=wa("transitioncancel"),Nh=wa("transitionend"),Th=new Map,hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hc.push("scrollEnd");function Xt(e,t){Th.set(e,t),ba(t,[e])}var Di=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$t=[],rn=0,mc=0;function Ui(){for(var e=rn,t=mc=rn=0;t<e;){var n=$t[t];$t[t++]=null;var l=$t[t];$t[t++]=null;var u=$t[t];$t[t++]=null;var h=$t[t];if($t[t++]=null,l!==null&&u!==null){var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}h!==0&&Ah(n,u,h)}}function Mi(e,t,n,l){$t[rn++]=e,$t[rn++]=t,$t[rn++]=n,$t[rn++]=l,mc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function gc(e,t,n,l){return Mi(e,t,n,l),zi(e)}function _a(e,t){return Mi(e,null,null,t),zi(e)}function Ah(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,h=e.return;h!==null;)h.childLanes|=n,l=h.alternate,l!==null&&(l.childLanes|=n),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,u&&t!==null&&(u=31-Tt(n),e=h.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),h):null}function zi(e){if(50<Ts)throw Ts=0,ju=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var an={};function Kv(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,l){return new Kv(e,t,n,l)}function yc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yr(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ch(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bi(e,t,n,l,u,h){var p=0;if(l=e,typeof e=="function")yc(e)&&(p=1);else if(typeof e=="string")p=Wx(e,n,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=Ct(31,n,t,u),e.elementType=Z,e.lanes=h,e;case E:return Sa(n.children,u,h,t);case j:p=8,u|=24;break;case C:return e=Ct(12,n,t,u|2),e.elementType=C,e.lanes=h,e;case N:return e=Ct(13,n,t,u),e.elementType=N,e.lanes=h,e;case M:return e=Ct(19,n,t,u),e.elementType=M,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:p=10;break e;case D:p=9;break e;case P:p=11;break e;case z:p=14;break e;case K:p=16,l=null;break e}p=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=Ct(p,n,t,u),t.elementType=e,t.type=l,t.lanes=h,t}function Sa(e,t,n,l){return e=Ct(7,e,l,t),e.lanes=n,e}function pc(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function Oh(e){var t=Ct(18,null,null,0);return t.stateNode=e,t}function bc(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Rh=new WeakMap;function Ht(e,t){if(typeof e=="object"&&e!==null){var n=Rh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Of(t)},Rh.set(e,t),t)}return{value:e,source:t,stack:Of(t)}}var nn=[],sn=0,Li=null,ls=0,Vt=[],Pt=0,Vr=null,sr=1,ir="";function pr(e,t){nn[sn++]=ls,nn[sn++]=Li,Li=e,ls=t}function Dh(e,t,n){Vt[Pt++]=sr,Vt[Pt++]=ir,Vt[Pt++]=Vr,Vr=e;var l=sr;e=ir;var u=32-Tt(l)-1;l&=~(1<<u),n+=1;var h=32-Tt(t)+u;if(30<h){var p=u-u%5;h=(l&(1<<p)-1).toString(32),l>>=p,u-=p,sr=1<<32-Tt(t)+u|n<<u|l,ir=h+e}else sr=1<<h|n<<u|l,ir=e}function vc(e){e.return!==null&&(pr(e,1),Dh(e,1,0))}function xc(e){for(;e===Li;)Li=nn[--sn],nn[sn]=null,ls=nn[--sn],nn[sn]=null;for(;e===Vr;)Vr=Vt[--Pt],Vt[Pt]=null,ir=Vt[--Pt],Vt[Pt]=null,sr=Vt[--Pt],Vt[Pt]=null}function Uh(e,t){Vt[Pt++]=sr,Vt[Pt++]=ir,Vt[Pt++]=Vr,sr=t.id,ir=t.overflow,Vr=e}var st=null,ze=null,we=!1,Pr=null,Gt=!1,wc=Error(i(519));function Gr(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw os(Ht(t,e)),wc}function Mh(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[nt]=e,t[pt]=l,n){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(n=0;n<Cs.length;n++)pe(Cs[n],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),Kf(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),Jf(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Zg(t.textContent,n)?(l.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),l.onScroll!=null&&pe("scroll",t),l.onScrollEnd!=null&&pe("scrollend",t),l.onClick!=null&&(t.onclick=mr),t=!0):t=!1,t||Gr(e,!0)}function zh(e){for(st=e.return;st;)switch(st.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:st=st.return}}function ln(e){if(e!==st)return!1;if(!we)return zh(e),we=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||qu(e.type,e.memoizedProps)),n=!n),n&&ze&&Gr(e),zh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ze=l0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ze=l0(e)}else t===27?(t=ze,na(e.type)?(e=Gu,Gu=null,ze=e):ze=t):ze=st?Yt(e.stateNode.nextSibling):null;return!0}function ja(){ze=st=null,we=!1}function _c(){var e=Pr;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),Pr=null),e}function os(e){Pr===null?Pr=[e]:Pr.push(e)}var Sc=O(null),Ea=null,br=null;function Ir(e,t,n){I(Sc,t._currentValue),t._currentValue=n}function vr(e){e._currentValue=Sc.current,Y(Sc)}function jc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Ec(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var p=u.child;h=h.firstContext;e:for(;h!==null;){var x=h;h=u;for(var k=0;k<t.length;k++)if(x.context===t[k]){h.lanes|=n,x=h.alternate,x!==null&&(x.lanes|=n),jc(h.return,n,e),l||(p=null);break e}h=x.next}}else if(u.tag===18){if(p=u.return,p===null)throw Error(i(341));p.lanes|=n,h=p.alternate,h!==null&&(h.lanes|=n),jc(p,n,e),p=null}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===e){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}}function on(e,t,n,l){e=null;for(var u=t,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var p=u.alternate;if(p===null)throw Error(i(387));if(p=p.memoizedProps,p!==null){var x=u.type;At(u.pendingProps.value,p.value)||(e!==null?e.push(x):e=[x])}}else if(u===he.current){if(p=u.alternate,p===null)throw Error(i(387));p.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ms):e=[Ms])}u=u.return}e!==null&&Ec(t,e,n,l),t.flags|=262144}function qi(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ka(e){Ea=e,br=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return Bh(Ea,e)}function $i(e,t){return Ea===null&&ka(e),Bh(e,t)}function Bh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},br===null){if(e===null)throw Error(i(308));br=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else br=br.next=t;return n}var Xv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Jv=a.unstable_scheduleCallback,Qv=a.unstable_NormalPriority,Ke={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kc(){return{controller:new Xv,data:new Map,refCount:0}}function cs(e){e.refCount--,e.refCount===0&&Jv(Qv,function(){e.controller.abort()})}var us=null,Nc=0,cn=0,un=null;function Zv(e,t){if(us===null){var n=us=[];Nc=0,cn=Cu(),un={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Nc++,t.then(Lh,Lh),t}function Lh(){if(--Nc===0&&us!==null){un!==null&&(un.status="fulfilled");var e=us;us=null,cn=0,un=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Wv(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var qh=$.S;$.S=function(e,t){_g=kt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zv(e,t),qh!==null&&qh(e,t)};var Na=O(null);function Tc(){var e=Na.current;return e!==null?e:De.pooledCache}function Hi(e,t){t===null?I(Na,Na.current):I(Na,t.pool)}function $h(){var e=Tc();return e===null?null:{parent:Ke._currentValue,pool:e}}var dn=Error(i(460)),Ac=Error(i(474)),Vi=Error(i(542)),Pi={then:function(){}};function Hh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(mr,mr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gh(e),e;default:if(typeof t.status=="string")t.then(mr,mr);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gh(e),e}throw Aa=t,dn}}function Ta(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Aa=n,dn):n}}var Aa=null;function Ph(){if(Aa===null)throw Error(i(459));var e=Aa;return Aa=null,e}function Gh(e){if(e===dn||e===Vi)throw Error(i(483))}var fn=null,ds=0;function Gi(e){var t=ds;return ds+=1,fn===null&&(fn=[]),Vh(fn,e,t)}function fs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ii(e,t){throw t.$$typeof===w?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ih(e){function t(U,A){if(e){var B=U.deletions;B===null?(U.deletions=[A],U.flags|=16):B.push(A)}}function n(U,A){if(!e)return null;for(;A!==null;)t(U,A),A=A.sibling;return null}function l(U){for(var A=new Map;U!==null;)U.key!==null?A.set(U.key,U):A.set(U.index,U),U=U.sibling;return A}function u(U,A){return U=yr(U,A),U.index=0,U.sibling=null,U}function h(U,A,B){return U.index=B,e?(B=U.alternate,B!==null?(B=B.index,B<A?(U.flags|=67108866,A):B):(U.flags|=67108866,A)):(U.flags|=1048576,A)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function x(U,A,B,G){return A===null||A.tag!==6?(A=pc(B,U.mode,G),A.return=U,A):(A=u(A,B),A.return=U,A)}function k(U,A,B,G){var se=B.type;return se===E?V(U,A,B.props.children,G,B.key):A!==null&&(A.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===K&&Ta(se)===A.type)?(A=u(A,B.props),fs(A,B),A.return=U,A):(A=Bi(B.type,B.key,B.props,null,U.mode,G),fs(A,B),A.return=U,A)}function L(U,A,B,G){return A===null||A.tag!==4||A.stateNode.containerInfo!==B.containerInfo||A.stateNode.implementation!==B.implementation?(A=bc(B,U.mode,G),A.return=U,A):(A=u(A,B.children||[]),A.return=U,A)}function V(U,A,B,G,se){return A===null||A.tag!==7?(A=Sa(B,U.mode,G,se),A.return=U,A):(A=u(A,B),A.return=U,A)}function F(U,A,B){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=pc(""+A,U.mode,B),A.return=U,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _:return B=Bi(A.type,A.key,A.props,null,U.mode,B),fs(B,A),B.return=U,B;case S:return A=bc(A,U.mode,B),A.return=U,A;case K:return A=Ta(A),F(U,A,B)}if(Ne(A)||ne(A))return A=Sa(A,U.mode,B,null),A.return=U,A;if(typeof A.then=="function")return F(U,Gi(A),B);if(A.$$typeof===T)return F(U,$i(U,A),B);Ii(U,A)}return null}function q(U,A,B,G){var se=A!==null?A.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return se!==null?null:x(U,A,""+B,G);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case _:return B.key===se?k(U,A,B,G):null;case S:return B.key===se?L(U,A,B,G):null;case K:return B=Ta(B),q(U,A,B,G)}if(Ne(B)||ne(B))return se!==null?null:V(U,A,B,G,null);if(typeof B.then=="function")return q(U,A,Gi(B),G);if(B.$$typeof===T)return q(U,A,$i(U,B),G);Ii(U,B)}return null}function H(U,A,B,G,se){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(B)||null,x(A,U,""+G,se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return U=U.get(G.key===null?B:G.key)||null,k(A,U,G,se);case S:return U=U.get(G.key===null?B:G.key)||null,L(A,U,G,se);case K:return G=Ta(G),H(U,A,B,G,se)}if(Ne(G)||ne(G))return U=U.get(B)||null,V(A,U,G,se,null);if(typeof G.then=="function")return H(U,A,B,Gi(G),se);if(G.$$typeof===T)return H(U,A,B,$i(A,G),se);Ii(A,G)}return null}function ee(U,A,B,G){for(var se=null,je=null,te=A,me=A=0,ve=null;te!==null&&me<B.length;me++){te.index>me?(ve=te,te=null):ve=te.sibling;var Ee=q(U,te,B[me],G);if(Ee===null){te===null&&(te=ve);break}e&&te&&Ee.alternate===null&&t(U,te),A=h(Ee,A,me),je===null?se=Ee:je.sibling=Ee,je=Ee,te=ve}if(me===B.length)return n(U,te),we&&pr(U,me),se;if(te===null){for(;me<B.length;me++)te=F(U,B[me],G),te!==null&&(A=h(te,A,me),je===null?se=te:je.sibling=te,je=te);return we&&pr(U,me),se}for(te=l(te);me<B.length;me++)ve=H(te,U,me,B[me],G),ve!==null&&(e&&ve.alternate!==null&&te.delete(ve.key===null?me:ve.key),A=h(ve,A,me),je===null?se=ve:je.sibling=ve,je=ve);return e&&te.forEach(function(ca){return t(U,ca)}),we&&pr(U,me),se}function ie(U,A,B,G){if(B==null)throw Error(i(151));for(var se=null,je=null,te=A,me=A=0,ve=null,Ee=B.next();te!==null&&!Ee.done;me++,Ee=B.next()){te.index>me?(ve=te,te=null):ve=te.sibling;var ca=q(U,te,Ee.value,G);if(ca===null){te===null&&(te=ve);break}e&&te&&ca.alternate===null&&t(U,te),A=h(ca,A,me),je===null?se=ca:je.sibling=ca,je=ca,te=ve}if(Ee.done)return n(U,te),we&&pr(U,me),se;if(te===null){for(;!Ee.done;me++,Ee=B.next())Ee=F(U,Ee.value,G),Ee!==null&&(A=h(Ee,A,me),je===null?se=Ee:je.sibling=Ee,je=Ee);return we&&pr(U,me),se}for(te=l(te);!Ee.done;me++,Ee=B.next())Ee=H(te,U,me,Ee.value,G),Ee!==null&&(e&&Ee.alternate!==null&&te.delete(Ee.key===null?me:Ee.key),A=h(Ee,A,me),je===null?se=Ee:je.sibling=Ee,je=Ee);return e&&te.forEach(function(uw){return t(U,uw)}),we&&pr(U,me),se}function Re(U,A,B,G){if(typeof B=="object"&&B!==null&&B.type===E&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case _:e:{for(var se=B.key;A!==null;){if(A.key===se){if(se=B.type,se===E){if(A.tag===7){n(U,A.sibling),G=u(A,B.props.children),G.return=U,U=G;break e}}else if(A.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===K&&Ta(se)===A.type){n(U,A.sibling),G=u(A,B.props),fs(G,B),G.return=U,U=G;break e}n(U,A);break}else t(U,A);A=A.sibling}B.type===E?(G=Sa(B.props.children,U.mode,G,B.key),G.return=U,U=G):(G=Bi(B.type,B.key,B.props,null,U.mode,G),fs(G,B),G.return=U,U=G)}return p(U);case S:e:{for(se=B.key;A!==null;){if(A.key===se)if(A.tag===4&&A.stateNode.containerInfo===B.containerInfo&&A.stateNode.implementation===B.implementation){n(U,A.sibling),G=u(A,B.children||[]),G.return=U,U=G;break e}else{n(U,A);break}else t(U,A);A=A.sibling}G=bc(B,U.mode,G),G.return=U,U=G}return p(U);case K:return B=Ta(B),Re(U,A,B,G)}if(Ne(B))return ee(U,A,B,G);if(ne(B)){if(se=ne(B),typeof se!="function")throw Error(i(150));return B=se.call(B),ie(U,A,B,G)}if(typeof B.then=="function")return Re(U,A,Gi(B),G);if(B.$$typeof===T)return Re(U,A,$i(U,B),G);Ii(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,A!==null&&A.tag===6?(n(U,A.sibling),G=u(A,B),G.return=U,U=G):(n(U,A),G=pc(B,U.mode,G),G.return=U,U=G),p(U)):n(U,A)}return function(U,A,B,G){try{ds=0;var se=Re(U,A,B,G);return fn=null,se}catch(te){if(te===dn||te===Vi)throw te;var je=Ct(29,te,null,U.mode);return je.lanes=G,je.return=U,je}finally{}}}var Ca=Ih(!0),Yh=Ih(!1),Yr=!1;function Cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Kr(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ke&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=zi(e),Ah(e,null,n),t}return Mi(e,l,t,n),zi(e)}function hs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Bf(e,n)}}function Rc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};h===null?u=h=p:h=h.next=p,n=n.next}while(n!==null);h===null?u=h=t:h=h.next=t}else u=h=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Dc=!1;function ms(){if(Dc){var e=un;if(e!==null)throw e}}function gs(e,t,n,l){Dc=!1;var u=e.updateQueue;Yr=!1;var h=u.firstBaseUpdate,p=u.lastBaseUpdate,x=u.shared.pending;if(x!==null){u.shared.pending=null;var k=x,L=k.next;k.next=null,p===null?h=L:p.next=L,p=k;var V=e.alternate;V!==null&&(V=V.updateQueue,x=V.lastBaseUpdate,x!==p&&(x===null?V.firstBaseUpdate=L:x.next=L,V.lastBaseUpdate=k))}if(h!==null){var F=u.baseState;p=0,V=L=k=null,x=h;do{var q=x.lane&-536870913,H=q!==x.lane;if(H?(be&q)===q:(l&q)===q){q!==0&&q===cn&&(Dc=!0),V!==null&&(V=V.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ee=e,ie=x;q=t;var Re=n;switch(ie.tag){case 1:if(ee=ie.payload,typeof ee=="function"){F=ee.call(Re,F,q);break e}F=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ie.payload,q=typeof ee=="function"?ee.call(Re,F,q):ee,q==null)break e;F=v({},F,q);break e;case 2:Yr=!0}}q=x.callback,q!==null&&(e.flags|=64,H&&(e.flags|=8192),H=u.callbacks,H===null?u.callbacks=[q]:H.push(q))}else H={lane:q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},V===null?(L=V=H,k=F):V=V.next=H,p|=q;if(x=x.next,x===null){if(x=u.shared.pending,x===null)break;H=x,x=H.next,H.next=null,u.lastBaseUpdate=H,u.shared.pending=null}}while(!0);V===null&&(k=F),u.baseState=k,u.firstBaseUpdate=L,u.lastBaseUpdate=V,h===null&&(u.shared.lanes=0),Wr|=p,e.lanes=p,e.memoizedState=F}}function Fh(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Kh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Fh(n[e],t)}var hn=O(null),Yi=O(0);function Xh(e,t){e=Tr,I(Yi,e),I(hn,t),Tr=e|t.baseLanes}function Uc(){I(Yi,Tr),I(hn,hn.current)}function Mc(){Tr=Yi.current,Y(hn),Y(Yi)}var Ot=O(null),It=null;function Xr(e){var t=e.alternate;I(Ye,Ye.current&1),I(Ot,e),It===null&&(t===null||hn.current!==null||t.memoizedState!==null)&&(It=e)}function zc(e){I(Ye,Ye.current),I(Ot,e),It===null&&(It=e)}function Jh(e){e.tag===22?(I(Ye,Ye.current),I(Ot,e),It===null&&(It=e)):Jr()}function Jr(){I(Ye,Ye.current),I(Ot,Ot.current)}function Rt(e){Y(Ot),It===e&&(It=null),Y(Ye)}var Ye=O(0);function Fi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Vu(n)||Pu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xr=0,fe=null,Ce=null,Xe=null,Ki=!1,mn=!1,Oa=!1,Xi=0,ys=0,gn=null,ex=0;function Pe(){throw Error(i(321))}function Bc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!At(e[n],t[n]))return!1;return!0}function Lc(e,t,n,l,u,h){return xr=h,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=e===null||e.memoizedState===null?Dm:Wc,Oa=!1,h=n(l,u),Oa=!1,mn&&(h=Zh(t,n,l,u)),Qh(e),h}function Qh(e){$.H=vs;var t=Ce!==null&&Ce.next!==null;if(xr=0,Xe=Ce=fe=null,Ki=!1,ys=0,gn=null,t)throw Error(i(300));e===null||Je||(e=e.dependencies,e!==null&&qi(e)&&(Je=!0))}function Zh(e,t,n,l){fe=e;var u=0;do{if(mn&&(gn=null),ys=0,mn=!1,25<=u)throw Error(i(301));if(u+=1,Xe=Ce=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}$.H=Um,h=t(n,l)}while(mn);return h}function tx(){var e=$.H,t=e.useState()[0];return t=typeof t.then=="function"?ps(t):t,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(fe.flags|=1024),t}function qc(){var e=Xi!==0;return Xi=0,e}function $c(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Hc(e){if(Ki){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ki=!1}xr=0,Xe=Ce=fe=null,mn=!1,ys=Xi=0,gn=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?fe.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Fe(){if(Ce===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Xe===null?fe.memoizedState:Xe.next;if(t!==null)Xe=t,Ce=e;else{if(e===null)throw fe.alternate===null?Error(i(467)):Error(i(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Xe===null?fe.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Ji(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ps(e){var t=ys;return ys+=1,gn===null&&(gn=[]),e=Vh(gn,e,t),t=fe,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,$.H=t===null||t.memoizedState===null?Dm:Wc),e}function Qi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ps(e);if(e.$$typeof===T)return it(e)}throw Error(i(438,String(e)))}function Vc(e){var t=null,n=fe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ji(),fe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=Q;return t.index++,n}function wr(e,t){return typeof t=="function"?t(e):t}function Zi(e){var t=Fe();return Pc(t,Ce,e)}function Pc(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,h=l.pending;if(h!==null){if(u!==null){var p=u.next;u.next=h.next,h.next=p}t.baseQueue=u=h,l.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{t=u.next;var x=p=null,k=null,L=t,V=!1;do{var F=L.lane&-536870913;if(F!==L.lane?(be&F)===F:(xr&F)===F){var q=L.revertLane;if(q===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),F===cn&&(V=!0);else if((xr&q)===q){L=L.next,q===cn&&(V=!0);continue}else F={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},k===null?(x=k=F,p=h):k=k.next=F,fe.lanes|=q,Wr|=q;F=L.action,Oa&&n(h,F),h=L.hasEagerState?L.eagerState:n(h,F)}else q={lane:F,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},k===null?(x=k=q,p=h):k=k.next=q,fe.lanes|=F,Wr|=F;L=L.next}while(L!==null&&L!==t);if(k===null?p=h:k.next=x,!At(h,e.memoizedState)&&(Je=!0,V&&(n=un,n!==null)))throw n;e.memoizedState=h,e.baseState=p,e.baseQueue=k,l.lastRenderedState=h}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Gc(e){var t=Fe(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,h=t.memoizedState;if(u!==null){n.pending=null;var p=u=u.next;do h=e(h,p.action),p=p.next;while(p!==u);At(h,t.memoizedState)||(Je=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,l]}function Wh(e,t,n){var l=fe,u=Fe(),h=we;if(h){if(n===void 0)throw Error(i(407));n=n()}else n=t();var p=!At((Ce||u).memoizedState,n);if(p&&(u.memoizedState=n,Je=!0),u=u.queue,Fc(rm.bind(null,l,u,e),[e]),u.getSnapshot!==t||p||Xe!==null&&Xe.memoizedState.tag&1){if(l.flags|=2048,yn(9,{destroy:void 0},tm.bind(null,l,u,n,t),null),De===null)throw Error(i(349));h||(xr&127)!==0||em(l,t,n)}return n}function em(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t=Ji(),fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tm(e,t,n,l){t.value=n,t.getSnapshot=l,am(t)&&nm(e)}function rm(e,t,n){return n(function(){am(t)&&nm(e)})}function am(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!At(e,n)}catch{return!0}}function nm(e){var t=_a(e,2);t!==null&&St(t,e,2)}function Ic(e){var t=gt();if(typeof e=="function"){var n=e;if(e=n(),Oa){qr(!0);try{n()}finally{qr(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:e},t}function sm(e,t,n,l){return e.baseState=n,Pc(e,Ce,typeof l=="function"?l:wr)}function rx(e,t,n,l,u){if(tl(e))throw Error(i(485));if(e=t.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};$.T!==null?n(!0):h.isTransition=!1,l(h),n=t.pending,n===null?(h.next=t.pending=h,im(t,h)):(h.next=n.next,t.pending=n.next=h)}}function im(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var h=$.T,p={};$.T=p;try{var x=n(u,l),k=$.S;k!==null&&k(p,x),lm(e,t,x)}catch(L){Yc(e,t,L)}finally{h!==null&&p.types!==null&&(h.types=p.types),$.T=h}}else try{h=n(u,l),lm(e,t,h)}catch(L){Yc(e,t,L)}}function lm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){om(e,t,l)},function(l){return Yc(e,t,l)}):om(e,t,n)}function om(e,t,n){t.status="fulfilled",t.value=n,cm(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,im(e,n)))}function Yc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,cm(t),t=t.next;while(t!==l)}e.action=null}function cm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function um(e,t){return t}function dm(e,t){if(we){var n=De.formState;if(n!==null){e:{var l=fe;if(we){if(ze){t:{for(var u=ze,h=Gt;u.nodeType!==8;){if(!h){u=null;break t}if(u=Yt(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){ze=Yt(u.nextSibling),l=u.data==="F!";break e}}Gr(l)}l=!1}l&&(t=n[0])}}return n=gt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:um,lastRenderedState:t},n.queue=l,n=Cm.bind(null,fe,l),l.dispatch=n,l=Ic(!1),h=Zc.bind(null,fe,!1,l.queue),l=gt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=rx.bind(null,fe,u,h,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function fm(e){var t=Fe();return hm(t,Ce,e)}function hm(e,t,n){if(t=Pc(e,t,um)[0],e=Zi(wr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ps(t)}catch(p){throw p===dn?Vi:p}else l=t;t=Fe();var u=t.queue,h=u.dispatch;return n!==t.memoizedState&&(fe.flags|=2048,yn(9,{destroy:void 0},ax.bind(null,u,n),null)),[l,h,e]}function ax(e,t){e.action=t}function mm(e){var t=Fe(),n=Ce;if(n!==null)return hm(t,n,e);Fe(),t=t.memoizedState,n=Fe();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function yn(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=fe.updateQueue,t===null&&(t=Ji(),fe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function gm(){return Fe().memoizedState}function Wi(e,t,n,l){var u=gt();fe.flags|=e,u.memoizedState=yn(1|t,{destroy:void 0},n,l===void 0?null:l)}function el(e,t,n,l){var u=Fe();l=l===void 0?null:l;var h=u.memoizedState.inst;Ce!==null&&l!==null&&Bc(l,Ce.memoizedState.deps)?u.memoizedState=yn(t,h,n,l):(fe.flags|=e,u.memoizedState=yn(1|t,h,n,l))}function ym(e,t){Wi(8390656,8,e,t)}function Fc(e,t){el(2048,8,e,t)}function nx(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=Ji(),fe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function pm(e){var t=Fe().memoizedState;return nx({ref:t,nextImpl:e}),function(){if((ke&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function bm(e,t){return el(4,2,e,t)}function vm(e,t){return el(4,4,e,t)}function xm(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wm(e,t,n){n=n!=null?n.concat([e]):null,el(4,4,xm.bind(null,t,e),n)}function Kc(){}function _m(e,t){var n=Fe();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Bc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Sm(e,t){var n=Fe();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Bc(t,l[1]))return l[0];if(l=e(),Oa){qr(!0);try{e()}finally{qr(!1)}}return n.memoizedState=[l,t],l}function Xc(e,t,n){return n===void 0||(xr&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=jg(),fe.lanes|=e,Wr|=e,n)}function jm(e,t,n,l){return At(n,t)?n:hn.current!==null?(e=Xc(e,n,l),At(e,t)||(Je=!0),e):(xr&42)===0||(xr&1073741824)!==0&&(be&261930)===0?(Je=!0,e.memoizedState=n):(e=jg(),fe.lanes|=e,Wr|=e,t)}function Em(e,t,n,l,u){var h=X.p;X.p=h!==0&&8>h?h:8;var p=$.T,x={};$.T=x,Zc(e,!1,t,n);try{var k=u(),L=$.S;if(L!==null&&L(x,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var V=Wv(k,l);bs(e,t,V,Mt(e))}else bs(e,t,l,Mt(e))}catch(F){bs(e,t,{then:function(){},status:"rejected",reason:F},Mt())}finally{X.p=h,p!==null&&x.types!==null&&(p.types=x.types),$.T=p}}function sx(){}function Jc(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=km(e).queue;Em(e,u,t,ae,n===null?sx:function(){return Nm(e),n(l)})}function km(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:ae},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Nm(e){var t=km(e);t.next===null&&(t=e.alternate.memoizedState),bs(e,t.next.queue,{},Mt())}function Qc(){return it(Ms)}function Tm(){return Fe().memoizedState}function Am(){return Fe().memoizedState}function ix(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Mt();e=Fr(n);var l=Kr(t,e,n);l!==null&&(St(l,t,n),hs(l,t,n)),t={cache:kc()},e.payload=t;return}t=t.return}}function lx(e,t,n){var l=Mt();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},tl(e)?Om(t,n):(n=gc(e,t,n,l),n!==null&&(St(n,e,l),Rm(n,t,l)))}function Cm(e,t,n){var l=Mt();bs(e,t,n,l)}function bs(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(tl(e))Om(t,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var p=t.lastRenderedState,x=h(p,n);if(u.hasEagerState=!0,u.eagerState=x,At(x,p))return Mi(e,t,u,0),De===null&&Ui(),!1}catch{}finally{}if(n=gc(e,t,u,l),n!==null)return St(n,e,l),Rm(n,t,l),!0}return!1}function Zc(e,t,n,l){if(l={lane:2,revertLane:Cu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},tl(e)){if(t)throw Error(i(479))}else t=gc(e,n,l,2),t!==null&&St(t,e,2)}function tl(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Om(e,t){mn=Ki=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rm(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Bf(e,n)}}var vs={readContext:it,use:Qi,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};vs.useEffectEvent=Pe;var Dm={readContext:it,use:Qi,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:ym,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Wi(4194308,4,xm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wi(4194308,4,e,t)},useInsertionEffect:function(e,t){Wi(4,2,e,t)},useMemo:function(e,t){var n=gt();t=t===void 0?null:t;var l=e();if(Oa){qr(!0);try{e()}finally{qr(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=gt();if(n!==void 0){var u=n(t);if(Oa){qr(!0);try{n(t)}finally{qr(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=lx.bind(null,fe,e),[l.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ic(e);var t=e.queue,n=Cm.bind(null,fe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Kc,useDeferredValue:function(e,t){var n=gt();return Xc(n,e,t)},useTransition:function(){var e=Ic(!1);return e=Em.bind(null,fe,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=fe,u=gt();if(we){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),De===null)throw Error(i(349));(be&127)!==0||em(l,t,n)}u.memoizedState=n;var h={value:n,getSnapshot:t};return u.queue=h,ym(rm.bind(null,l,h,e),[e]),l.flags|=2048,yn(9,{destroy:void 0},tm.bind(null,l,h,n,t),null),n},useId:function(){var e=gt(),t=De.identifierPrefix;if(we){var n=ir,l=sr;n=(l&~(1<<32-Tt(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Xi++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=ex++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Qc,useFormState:dm,useActionState:dm,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Zc.bind(null,fe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vc,useCacheRefresh:function(){return gt().memoizedState=ix.bind(null,fe)},useEffectEvent:function(e){var t=gt(),n={impl:e};return t.memoizedState=n,function(){if((ke&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Wc={readContext:it,use:Qi,useCallback:_m,useContext:it,useEffect:Fc,useImperativeHandle:wm,useInsertionEffect:bm,useLayoutEffect:vm,useMemo:Sm,useReducer:Zi,useRef:gm,useState:function(){return Zi(wr)},useDebugValue:Kc,useDeferredValue:function(e,t){var n=Fe();return jm(n,Ce.memoizedState,e,t)},useTransition:function(){var e=Zi(wr)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:ps(e),t]},useSyncExternalStore:Wh,useId:Tm,useHostTransitionStatus:Qc,useFormState:fm,useActionState:fm,useOptimistic:function(e,t){var n=Fe();return sm(n,Ce,e,t)},useMemoCache:Vc,useCacheRefresh:Am};Wc.useEffectEvent=pm;var Um={readContext:it,use:Qi,useCallback:_m,useContext:it,useEffect:Fc,useImperativeHandle:wm,useInsertionEffect:bm,useLayoutEffect:vm,useMemo:Sm,useReducer:Gc,useRef:gm,useState:function(){return Gc(wr)},useDebugValue:Kc,useDeferredValue:function(e,t){var n=Fe();return Ce===null?Xc(n,e,t):jm(n,Ce.memoizedState,e,t)},useTransition:function(){var e=Gc(wr)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:ps(e),t]},useSyncExternalStore:Wh,useId:Tm,useHostTransitionStatus:Qc,useFormState:mm,useActionState:mm,useOptimistic:function(e,t){var n=Fe();return Ce!==null?sm(n,Ce,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vc,useCacheRefresh:Am};Um.useEffectEvent=pm;function eu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=Mt(),u=Fr(l);u.payload=t,n!=null&&(u.callback=n),t=Kr(e,u,l),t!==null&&(St(t,e,l),hs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=Mt(),u=Fr(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Kr(e,u,l),t!==null&&(St(t,e,l),hs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mt(),l=Fr(n);l.tag=2,t!=null&&(l.callback=t),t=Kr(e,l,n),t!==null&&(St(t,e,n),hs(t,e,n))}};function Mm(e,t,n,l,u,h,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,p):t.prototype&&t.prototype.isPureReactComponent?!ss(n,l)||!ss(u,h):!0}function zm(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&tu.enqueueReplaceState(t,t.state,null)}function Ra(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Bm(e){Di(e)}function Lm(e){console.error(e)}function qm(e){Di(e)}function rl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function $m(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function ru(e,t,n){return n=Fr(n),n.tag=3,n.payload={element:null},n.callback=function(){rl(e,t)},n}function Hm(e){return e=Fr(e),e.tag=3,e}function Vm(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var h=l.value;e.payload=function(){return u(h)},e.callback=function(){$m(t,n,l)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){$m(t,n,l),typeof u!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function ox(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&on(t,n,u,!0),n=Ot.current,n!==null){switch(n.tag){case 31:case 13:return It===null?ml():n.alternate===null&&Ge===0&&(Ge=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Pi?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Nu(e,l,u)),!1;case 22:return n.flags|=65536,l===Pi?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Nu(e,l,u)),!1}throw Error(i(435,n.tag))}return Nu(e,l,u),ml(),!1}if(we)return t=Ot.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==wc&&(e=Error(i(422),{cause:l}),os(Ht(e,n)))):(l!==wc&&(t=Error(i(423),{cause:l}),os(Ht(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Ht(l,n),u=ru(e.stateNode,l,u),Rc(e,u),Ge!==4&&(Ge=2)),!1;var h=Error(i(520),{cause:l});if(h=Ht(h,n),Ns===null?Ns=[h]:Ns.push(h),Ge!==4&&(Ge=2),t===null)return!0;l=Ht(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=ru(n.stateNode,l,e),Rc(n,e),!1;case 1:if(t=n.type,h=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ea===null||!ea.has(h))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Hm(u),Vm(u,e,n,l),Rc(n,u),!1}n=n.return}while(n!==null);return!1}var au=Error(i(461)),Je=!1;function lt(e,t,n,l){t.child=e===null?Yh(t,null,n,l):Ca(t,e.child,n,l)}function Pm(e,t,n,l,u){n=n.render;var h=t.ref;if("ref"in l){var p={};for(var x in l)x!=="ref"&&(p[x]=l[x])}else p=l;return ka(t),l=Lc(e,t,n,p,h,u),x=qc(),e!==null&&!Je?($c(e,t,u),_r(e,t,u)):(we&&x&&vc(t),t.flags|=1,lt(e,t,l,u),t.child)}function Gm(e,t,n,l,u){if(e===null){var h=n.type;return typeof h=="function"&&!yc(h)&&h.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=h,Im(e,t,h,l,u)):(e=Bi(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!du(e,u)){var p=h.memoizedProps;if(n=n.compare,n=n!==null?n:ss,n(p,l)&&e.ref===t.ref)return _r(e,t,u)}return t.flags|=1,e=yr(h,l),e.ref=t.ref,e.return=t,t.child=e}function Im(e,t,n,l,u){if(e!==null){var h=e.memoizedProps;if(ss(h,l)&&e.ref===t.ref)if(Je=!1,t.pendingProps=l=h,du(e,u))(e.flags&131072)!==0&&(Je=!0);else return t.lanes=e.lanes,_r(e,t,u)}return nu(e,t,n,l,u)}function Ym(e,t,n,l){var u=l.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~h}else l=0,t.child=null;return Fm(e,t,h,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hi(t,h!==null?h.cachePool:null),h!==null?Xh(t,h):Uc(),Jh(t);else return l=t.lanes=536870912,Fm(e,t,h!==null?h.baseLanes|n:n,n,l)}else h!==null?(Hi(t,h.cachePool),Xh(t,h),Jr(),t.memoizedState=null):(e!==null&&Hi(t,null),Uc(),Jr());return lt(e,t,u,n),t.child}function xs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fm(e,t,n,l,u){var h=Tc();return h=h===null?null:{parent:Ke._currentValue,pool:h},t.memoizedState={baseLanes:n,cachePool:h},e!==null&&Hi(t,null),Uc(),Jh(t),e!==null&&on(e,t,l,!0),t.childLanes=u,null}function al(e,t){return t=sl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Km(e,t,n){return Ca(t,e.child,null,n),e=al(t,t.pendingProps),e.flags|=2,Rt(t),t.memoizedState=null,e}function cx(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(we){if(l.mode==="hidden")return e=al(t,l),t.lanes=536870912,xs(null,e);if(zc(t),(e=ze)?(e=i0(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vr!==null?{id:sr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},n=Oh(e),n.return=t,t.child=n,st=t,ze=null)):e=null,e===null)throw Gr(t);return t.lanes=536870912,null}return al(t,l)}var h=e.memoizedState;if(h!==null){var p=h.dehydrated;if(zc(t),u)if(t.flags&256)t.flags&=-257,t=Km(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Je||on(e,t,n,!1),u=(n&e.childLanes)!==0,Je||u){if(l=De,l!==null&&(p=Lf(l,n),p!==0&&p!==h.retryLane))throw h.retryLane=p,_a(e,p),St(l,e,p),au;ml(),t=Km(e,t,n)}else e=h.treeContext,ze=Yt(p.nextSibling),st=t,we=!0,Pr=null,Gt=!1,e!==null&&Uh(t,e),t=al(t,l),t.flags|=4096;return t}return e=yr(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function nl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function nu(e,t,n,l,u){return ka(t),n=Lc(e,t,n,l,void 0,u),l=qc(),e!==null&&!Je?($c(e,t,u),_r(e,t,u)):(we&&l&&vc(t),t.flags|=1,lt(e,t,n,u),t.child)}function Xm(e,t,n,l,u,h){return ka(t),t.updateQueue=null,n=Zh(t,l,n,u),Qh(e),l=qc(),e!==null&&!Je?($c(e,t,h),_r(e,t,h)):(we&&l&&vc(t),t.flags|=1,lt(e,t,n,h),t.child)}function Jm(e,t,n,l,u){if(ka(t),t.stateNode===null){var h=an,p=n.contextType;typeof p=="object"&&p!==null&&(h=it(p)),h=new n(l,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=tu,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=l,h.state=t.memoizedState,h.refs={},Cc(t),p=n.contextType,h.context=typeof p=="object"&&p!==null?it(p):an,h.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(eu(t,n,p,l),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&tu.enqueueReplaceState(h,h.state,null),gs(t,l,h,u),ms(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){h=t.stateNode;var x=t.memoizedProps,k=Ra(n,x);h.props=k;var L=h.context,V=n.contextType;p=an,typeof V=="object"&&V!==null&&(p=it(V));var F=n.getDerivedStateFromProps;V=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,V||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x||L!==p)&&zm(t,h,l,p),Yr=!1;var q=t.memoizedState;h.state=q,gs(t,l,h,u),ms(),L=t.memoizedState,x||q!==L||Yr?(typeof F=="function"&&(eu(t,n,F,l),L=t.memoizedState),(k=Yr||Mm(t,n,k,l,q,L,p))?(V||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=L),h.props=l,h.state=L,h.context=p,l=k):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{h=t.stateNode,Oc(e,t),p=t.memoizedProps,V=Ra(n,p),h.props=V,F=t.pendingProps,q=h.context,L=n.contextType,k=an,typeof L=="object"&&L!==null&&(k=it(L)),x=n.getDerivedStateFromProps,(L=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==F||q!==k)&&zm(t,h,l,k),Yr=!1,q=t.memoizedState,h.state=q,gs(t,l,h,u),ms();var H=t.memoizedState;p!==F||q!==H||Yr||e!==null&&e.dependencies!==null&&qi(e.dependencies)?(typeof x=="function"&&(eu(t,n,x,l),H=t.memoizedState),(V=Yr||Mm(t,n,V,l,q,H,k)||e!==null&&e.dependencies!==null&&qi(e.dependencies))?(L||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,H,k),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,H,k)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=H),h.props=l,h.state=H,h.context=k,l=V):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),l=!1)}return h=l,nl(e,t),l=(t.flags&128)!==0,h||l?(h=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&l?(t.child=Ca(t,e.child,null,u),t.child=Ca(t,null,n,u)):lt(e,t,n,u),t.memoizedState=h.state,e=t.child):e=_r(e,t,u),e}function Qm(e,t,n,l){return ja(),t.flags|=256,lt(e,t,n,l),t.child}var su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iu(e){return{baseLanes:e,cachePool:$h()}}function lu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ut),e}function Zm(e,t,n){var l=t.pendingProps,u=!1,h=(t.flags&128)!==0,p;if((p=h)||(p=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),p&&(u=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(we){if(u?Xr(t):Jr(),(e=ze)?(e=i0(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vr!==null?{id:sr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},n=Oh(e),n.return=t,t.child=n,st=t,ze=null)):e=null,e===null)throw Gr(t);return Pu(e)?t.lanes=32:t.lanes=536870912,null}var x=l.children;return l=l.fallback,u?(Jr(),u=t.mode,x=sl({mode:"hidden",children:x},u),l=Sa(l,u,n,null),x.return=t,l.return=t,x.sibling=l,t.child=x,l=t.child,l.memoizedState=iu(n),l.childLanes=lu(e,p,n),t.memoizedState=su,xs(null,l)):(Xr(t),ou(t,x))}var k=e.memoizedState;if(k!==null&&(x=k.dehydrated,x!==null)){if(h)t.flags&256?(Xr(t),t.flags&=-257,t=cu(e,t,n)):t.memoizedState!==null?(Jr(),t.child=e.child,t.flags|=128,t=null):(Jr(),x=l.fallback,u=t.mode,l=sl({mode:"visible",children:l.children},u),x=Sa(x,u,n,null),x.flags|=2,l.return=t,x.return=t,l.sibling=x,t.child=l,Ca(t,e.child,null,n),l=t.child,l.memoizedState=iu(n),l.childLanes=lu(e,p,n),t.memoizedState=su,t=xs(null,l));else if(Xr(t),Pu(x)){if(p=x.nextSibling&&x.nextSibling.dataset,p)var L=p.dgst;p=L,l=Error(i(419)),l.stack="",l.digest=p,os({value:l,source:null,stack:null}),t=cu(e,t,n)}else if(Je||on(e,t,n,!1),p=(n&e.childLanes)!==0,Je||p){if(p=De,p!==null&&(l=Lf(p,n),l!==0&&l!==k.retryLane))throw k.retryLane=l,_a(e,l),St(p,e,l),au;Vu(x)||ml(),t=cu(e,t,n)}else Vu(x)?(t.flags|=192,t.child=e.child,t=null):(e=k.treeContext,ze=Yt(x.nextSibling),st=t,we=!0,Pr=null,Gt=!1,e!==null&&Uh(t,e),t=ou(t,l.children),t.flags|=4096);return t}return u?(Jr(),x=l.fallback,u=t.mode,k=e.child,L=k.sibling,l=yr(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,L!==null?x=yr(L,x):(x=Sa(x,u,n,null),x.flags|=2),x.return=t,l.return=t,l.sibling=x,t.child=l,xs(null,l),l=t.child,x=e.child.memoizedState,x===null?x=iu(n):(u=x.cachePool,u!==null?(k=Ke._currentValue,u=u.parent!==k?{parent:k,pool:k}:u):u=$h(),x={baseLanes:x.baseLanes|n,cachePool:u}),l.memoizedState=x,l.childLanes=lu(e,p,n),t.memoizedState=su,xs(e.child,l)):(Xr(t),n=e.child,e=n.sibling,n=yr(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function ou(e,t){return t=sl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function sl(e,t){return e=Ct(22,e,null,t),e.lanes=0,e}function cu(e,t,n){return Ca(t,e.child,null,n),e=ou(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wm(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),jc(e.return,t,n)}function uu(e,t,n,l,u,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:h}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=n,p.tailMode=u,p.treeForkCount=h)}function eg(e,t,n){var l=t.pendingProps,u=l.revealOrder,h=l.tail;l=l.children;var p=Ye.current,x=(p&2)!==0;if(x?(p=p&1|2,t.flags|=128):p&=1,I(Ye,p),lt(e,t,l,n),l=we?ls:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wm(e,n,t);else if(e.tag===19)Wm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Fi(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),uu(t,!1,u,n,h,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Fi(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}uu(t,!0,n,null,h,l);break;case"together":uu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function _r(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wr|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(on(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=yr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function du(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&qi(e)))}function ux(e,t,n){switch(t.tag){case 3:et(t,t.stateNode.containerInfo),Ir(t,Ke,e.memoizedState.cache),ja();break;case 27:case 5:ma(t);break;case 4:et(t,t.stateNode.containerInfo);break;case 10:Ir(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,zc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Xr(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Zm(e,t,n):(Xr(t),e=_r(e,t,n),e!==null?e.sibling:null);Xr(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(on(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return eg(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),I(Ye,Ye.current),l)break;return null;case 22:return t.lanes=0,Ym(e,t,n,t.pendingProps);case 24:Ir(t,Ke,e.memoizedState.cache)}return _r(e,t,n)}function tg(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!du(e,n)&&(t.flags&128)===0)return Je=!1,ux(e,t,n);Je=(e.flags&131072)!==0}else Je=!1,we&&(t.flags&1048576)!==0&&Dh(t,ls,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Ta(t.elementType),t.type=e,typeof e=="function")yc(e)?(l=Ra(e,l),t.tag=1,t=Jm(null,t,e,l,n)):(t.tag=0,t=nu(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===P){t.tag=11,t=Pm(null,t,e,l,n);break e}else if(u===z){t.tag=14,t=Gm(null,t,e,l,n);break e}}throw t=_e(e)||e,Error(i(306,t,""))}}return t;case 0:return nu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=Ra(l,t.pendingProps),Jm(e,t,l,u,n);case 3:e:{if(et(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var h=t.memoizedState;u=h.element,Oc(e,t),gs(t,l,null,n);var p=t.memoizedState;if(l=p.cache,Ir(t,Ke,l),l!==h.cache&&Ec(t,[Ke],n,!0),ms(),l=p.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Qm(e,t,l,n);break e}else if(l!==u){u=Ht(Error(i(424)),t),os(u),t=Qm(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ze=Yt(e.firstChild),st=t,we=!0,Pr=null,Gt=!0,n=Yh(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ja(),l===u){t=_r(e,t,n);break e}lt(e,t,l,n)}t=t.child}return t;case 26:return nl(e,t),e===null?(n=f0(t.type,null,t.pendingProps,null))?t.memoizedState=n:we||(n=t.type,e=t.pendingProps,l=wl(ce.current).createElement(n),l[nt]=t,l[pt]=e,ot(l,n,e),rt(l),t.stateNode=l):t.memoizedState=f0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ma(t),e===null&&we&&(l=t.stateNode=c0(t.type,t.pendingProps,ce.current),st=t,Gt=!0,u=ze,na(t.type)?(Gu=u,ze=Yt(l.firstChild)):ze=u),lt(e,t,t.pendingProps.children,n),nl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&we&&((u=l=ze)&&(l=$x(l,t.type,t.pendingProps,Gt),l!==null?(t.stateNode=l,st=t,ze=Yt(l.firstChild),Gt=!1,u=!0):u=!1),u||Gr(t)),ma(t),u=t.type,h=t.pendingProps,p=e!==null?e.memoizedProps:null,l=h.children,qu(u,h)?l=null:p!==null&&qu(u,p)&&(t.flags|=32),t.memoizedState!==null&&(u=Lc(e,t,tx,null,null,n),Ms._currentValue=u),nl(e,t),lt(e,t,l,n),t.child;case 6:return e===null&&we&&((e=n=ze)&&(n=Hx(n,t.pendingProps,Gt),n!==null?(t.stateNode=n,st=t,ze=null,e=!0):e=!1),e||Gr(t)),null;case 13:return Zm(e,t,n);case 4:return et(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ca(t,null,l,n):lt(e,t,l,n),t.child;case 11:return Pm(e,t,t.type,t.pendingProps,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Ir(t,t.type,l.value),lt(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,ka(t),u=it(u),l=l(u),t.flags|=1,lt(e,t,l,n),t.child;case 14:return Gm(e,t,t.type,t.pendingProps,n);case 15:return Im(e,t,t.type,t.pendingProps,n);case 19:return eg(e,t,n);case 31:return cx(e,t,n);case 22:return Ym(e,t,n,t.pendingProps);case 24:return ka(t),l=it(Ke),e===null?(u=Tc(),u===null&&(u=De,h=kc(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=n),u=h),t.memoizedState={parent:l,cache:u},Cc(t),Ir(t,Ke,u)):((e.lanes&n)!==0&&(Oc(e,t),gs(t,null,null,n),ms()),u=e.memoizedState,h=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Ir(t,Ke,l)):(l=h.cache,Ir(t,Ke,l),l!==u.cache&&Ec(t,[Ke],n,!0))),lt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Sr(e){e.flags|=4}function fu(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Tg())e.flags|=8192;else throw Aa=Pi,Ac}else e.flags&=-16777217}function rg(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p0(t))if(Tg())e.flags|=8192;else throw Aa=Pi,Ac}function il(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Mf():536870912,e.lanes|=t,xn|=t)}function ws(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function dx(e,t,n){var l=t.pendingProps;switch(xc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),vr(Ke),$e(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ln(t)?Sr(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_c())),Be(t),null;case 26:var u=t.type,h=t.memoizedState;return e===null?(Sr(t),h!==null?(Be(t),rg(t,h)):(Be(t),fu(t,u,null,l,n))):h?h!==e.memoizedState?(Sr(t),Be(t),rg(t,h)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Sr(t),Be(t),fu(t,u,e,l,n)),null;case 27:if(ga(t),n=ce.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Sr(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Be(t),null}e=J.current,ln(t)?Mh(t):(e=c0(u,l,n),t.stateNode=e,Sr(t))}return Be(t),null;case 5:if(ga(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Sr(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Be(t),null}if(h=J.current,ln(t))Mh(t);else{var p=wl(ce.current);switch(h){case 1:h=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=p.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?p.createElement(u,{is:l.is}):p.createElement(u)}}h[nt]=t,h[pt]=l;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)h.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=h;e:switch(ot(h,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Sr(t)}}return Be(t),fu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Sr(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=ce.current,ln(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=st,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[nt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Zg(e.nodeValue,n)),e||Gr(t,!0)}else e=wl(e).createTextNode(l),e[nt]=t,t.stateNode=e}return Be(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=ln(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[nt]=t}else ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else n=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Rt(t),t):(Rt(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Be(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ln(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[nt]=t}else ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),u=!1}else u=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Rt(t),t):(Rt(t),null)}return Rt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),il(t,t.updateQueue),Be(t),null);case 4:return $e(),e===null&&Uu(t.stateNode.containerInfo),Be(t),null;case 10:return vr(t.type),Be(t),null;case 19:if(Y(Ye),l=t.memoizedState,l===null)return Be(t),null;if(u=(t.flags&128)!==0,h=l.rendering,h===null)if(u)ws(l,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Fi(e),h!==null){for(t.flags|=128,ws(l,!1),e=h.updateQueue,t.updateQueue=e,il(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ch(n,e),n=n.sibling;return I(Ye,Ye.current&1|2),we&&pr(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&kt()>dl&&(t.flags|=128,u=!0,ws(l,!1),t.lanes=4194304)}else{if(!u)if(e=Fi(h),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,il(t,e),ws(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!we)return Be(t),null}else 2*kt()-l.renderingStartTime>dl&&n!==536870912&&(t.flags|=128,u=!0,ws(l,!1),t.lanes=4194304);l.isBackwards?(h.sibling=t.child,t.child=h):(e=l.last,e!==null?e.sibling=h:t.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=kt(),e.sibling=null,n=Ye.current,I(Ye,u?n&1|2:n&1),we&&pr(t,l.treeForkCount),e):(Be(t),null);case 22:case 23:return Rt(t),Mc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),n=t.updateQueue,n!==null&&il(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&Y(Na),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),vr(Ke),Be(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function fx(e,t){switch(xc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vr(Ke),$e(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ga(t),null;case 31:if(t.memoizedState!==null){if(Rt(t),t.alternate===null)throw Error(i(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Rt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(Ye),null;case 4:return $e(),null;case 10:return vr(t.type),null;case 22:case 23:return Rt(t),Mc(),e!==null&&Y(Na),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return vr(Ke),null;case 25:return null;default:return null}}function ag(e,t){switch(xc(t),t.tag){case 3:vr(Ke),$e();break;case 26:case 27:case 5:ga(t);break;case 4:$e();break;case 31:t.memoizedState!==null&&Rt(t);break;case 13:Rt(t);break;case 19:Y(Ye);break;case 10:vr(t.type);break;case 22:case 23:Rt(t),Mc(),e!==null&&Y(Na);break;case 24:vr(Ke)}}function _s(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var h=n.create,p=n.inst;l=h(),p.destroy=l}n=n.next}while(n!==u)}}catch(x){Ae(t,t.return,x)}}function Qr(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var h=u.next;l=h;do{if((l.tag&e)===e){var p=l.inst,x=p.destroy;if(x!==void 0){p.destroy=void 0,u=t;var k=n,L=x;try{L()}catch(V){Ae(u,k,V)}}}l=l.next}while(l!==h)}}catch(V){Ae(t,t.return,V)}}function ng(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Kh(t,n)}catch(l){Ae(e,e.return,l)}}}function sg(e,t,n){n.props=Ra(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Ae(e,t,l)}}function Ss(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){Ae(e,t,u)}}function lr(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){Ae(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Ae(e,t,u)}else n.current=null}function ig(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){Ae(e,e.return,u)}}function hu(e,t,n){try{var l=e.stateNode;Ux(l,e.type,n,t),l[pt]=t}catch(u){Ae(e,e.return,u)}}function lg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&na(e.type)||e.tag===4}function mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&na(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mr));else if(l!==4&&(l===27&&na(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(gu(e,t,n),e=e.sibling;e!==null;)gu(e,t,n),e=e.sibling}function ll(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&na(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ll(e,t,n),e=e.sibling;e!==null;)ll(e,t,n),e=e.sibling}function og(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);ot(t,l,n),t[nt]=e,t[pt]=n}catch(h){Ae(e,e.return,h)}}var jr=!1,Qe=!1,yu=!1,cg=typeof WeakSet=="function"?WeakSet:Set,at=null;function hx(e,t){if(e=e.containerInfo,Bu=Tl,e=wh(e),cc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var p=0,x=-1,k=-1,L=0,V=0,F=e,q=null;t:for(;;){for(var H;F!==n||u!==0&&F.nodeType!==3||(x=p+u),F!==h||l!==0&&F.nodeType!==3||(k=p+l),F.nodeType===3&&(p+=F.nodeValue.length),(H=F.firstChild)!==null;)q=F,F=H;for(;;){if(F===e)break t;if(q===n&&++L===u&&(x=p),q===h&&++V===l&&(k=p),(H=F.nextSibling)!==null)break;F=q,q=F.parentNode}F=H}n=x===-1||k===-1?null:{start:x,end:k}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lu={focusedElem:e,selectionRange:n},Tl=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,n=t,u=h.memoizedProps,h=h.memoizedState,l=n.stateNode;try{var ee=Ra(n.type,u);e=l.getSnapshotBeforeUpdate(ee,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(ie){Ae(n,n.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Hu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function ug(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:kr(e,n),l&4&&_s(5,n);break;case 1:if(kr(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){Ae(n,n.return,p)}else{var u=Ra(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ae(n,n.return,p)}}l&64&&ng(n),l&512&&Ss(n,n.return);break;case 3:if(kr(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Kh(e,t)}catch(p){Ae(n,n.return,p)}}break;case 27:t===null&&l&4&&og(n);case 26:case 5:kr(e,n),t===null&&l&4&&ig(n),l&512&&Ss(n,n.return);break;case 12:kr(e,n);break;case 31:kr(e,n),l&4&&hg(e,n);break;case 13:kr(e,n),l&4&&mg(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=_x.bind(null,n),Vx(e,n))));break;case 22:if(l=n.memoizedState!==null||jr,!l){t=t!==null&&t.memoizedState!==null||Qe,u=jr;var h=Qe;jr=l,(Qe=t)&&!h?Nr(e,n,(n.subtreeFlags&8772)!==0):kr(e,n),jr=u,Qe=h}break;case 30:break;default:kr(e,n)}}function dg(e){var t=e.alternate;t!==null&&(e.alternate=null,dg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Yo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Le=null,vt=!1;function Er(e,t,n){for(n=n.child;n!==null;)fg(e,t,n),n=n.sibling}function fg(e,t,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Fn,n)}catch{}switch(n.tag){case 26:Qe||lr(n,t),Er(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Qe||lr(n,t);var l=Le,u=vt;na(n.type)&&(Le=n.stateNode,vt=!1),Er(e,t,n),Rs(n.stateNode),Le=l,vt=u;break;case 5:Qe||lr(n,t);case 6:if(l=Le,u=vt,Le=null,Er(e,t,n),Le=l,vt=u,Le!==null)if(vt)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(n.stateNode)}catch(h){Ae(n,t,h)}else try{Le.removeChild(n.stateNode)}catch(h){Ae(n,t,h)}break;case 18:Le!==null&&(vt?(e=Le,n0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Tn(e)):n0(Le,n.stateNode));break;case 4:l=Le,u=vt,Le=n.stateNode.containerInfo,vt=!0,Er(e,t,n),Le=l,vt=u;break;case 0:case 11:case 14:case 15:Qr(2,n,t),Qe||Qr(4,n,t),Er(e,t,n);break;case 1:Qe||(lr(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&sg(n,t,l)),Er(e,t,n);break;case 21:Er(e,t,n);break;case 22:Qe=(l=Qe)||n.memoizedState!==null,Er(e,t,n),Qe=l;break;default:Er(e,t,n)}}function hg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Tn(e)}catch(n){Ae(t,t.return,n)}}}function mg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Tn(e)}catch(n){Ae(t,t.return,n)}}function mx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new cg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new cg),t;default:throw Error(i(435,e.tag))}}function ol(e,t){var n=mx(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=Sx.bind(null,e,l);l.then(u,u)}})}function xt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],h=e,p=t,x=p;e:for(;x!==null;){switch(x.tag){case 27:if(na(x.type)){Le=x.stateNode,vt=!1;break e}break;case 5:Le=x.stateNode,vt=!1;break e;case 3:case 4:Le=x.stateNode.containerInfo,vt=!0;break e}x=x.return}if(Le===null)throw Error(i(160));fg(h,p,u),Le=null,vt=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)gg(t,e),t=t.sibling}var Jt=null;function gg(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xt(t,e),wt(e),l&4&&(Qr(3,e,e.return),_s(3,e),Qr(5,e,e.return));break;case 1:xt(t,e),wt(e),l&512&&(Qe||n===null||lr(n,n.return)),l&64&&jr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=Jt;if(xt(t,e),wt(e),l&512&&(Qe||n===null||lr(n,n.return)),l&4){var h=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":h=u.getElementsByTagName("title")[0],(!h||h[Jn]||h[nt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(l),u.head.insertBefore(h,u.querySelector("head > title"))),ot(h,l,n),h[nt]=e,rt(h),l=h;break e;case"link":var p=g0("link","href",u).get(l+(n.href||""));if(p){for(var x=0;x<p.length;x++)if(h=p[x],h.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&h.getAttribute("rel")===(n.rel==null?null:n.rel)&&h.getAttribute("title")===(n.title==null?null:n.title)&&h.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(x,1);break t}}h=u.createElement(l),ot(h,l,n),u.head.appendChild(h);break;case"meta":if(p=g0("meta","content",u).get(l+(n.content||""))){for(x=0;x<p.length;x++)if(h=p[x],h.getAttribute("content")===(n.content==null?null:""+n.content)&&h.getAttribute("name")===(n.name==null?null:n.name)&&h.getAttribute("property")===(n.property==null?null:n.property)&&h.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&h.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(x,1);break t}}h=u.createElement(l),ot(h,l,n),u.head.appendChild(h);break;default:throw Error(i(468,l))}h[nt]=e,rt(h),l=h}e.stateNode=l}else y0(u,e.type,e.stateNode);else e.stateNode=m0(u,l,e.memoizedProps);else h!==l?(h===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):h.count--,l===null?y0(u,e.type,e.stateNode):m0(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hu(e,e.memoizedProps,n.memoizedProps)}break;case 27:xt(t,e),wt(e),l&512&&(Qe||n===null||lr(n,n.return)),n!==null&&l&4&&hu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(xt(t,e),wt(e),l&512&&(Qe||n===null||lr(n,n.return)),e.flags&32){u=e.stateNode;try{Ja(u,"")}catch(ee){Ae(e,e.return,ee)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,hu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(yu=!0);break;case 6:if(xt(t,e),wt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ee){Ae(e,e.return,ee)}}break;case 3:if(jl=null,u=Jt,Jt=_l(t.containerInfo),xt(t,e),Jt=u,wt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Tn(t.containerInfo)}catch(ee){Ae(e,e.return,ee)}yu&&(yu=!1,yg(e));break;case 4:l=Jt,Jt=_l(e.stateNode.containerInfo),xt(t,e),wt(e),Jt=l;break;case 12:xt(t,e),wt(e);break;case 31:xt(t,e),wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ol(e,l)));break;case 13:xt(t,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ul=kt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ol(e,l)));break;case 22:u=e.memoizedState!==null;var k=n!==null&&n.memoizedState!==null,L=jr,V=Qe;if(jr=L||u,Qe=V||k,xt(t,e),Qe=V,jr=L,wt(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||k||jr||Qe||Da(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){k=n=t;try{if(h=k.stateNode,u)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{x=k.stateNode;var F=k.memoizedProps.style,q=F!=null&&F.hasOwnProperty("display")?F.display:null;x.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ee){Ae(k,k.return,ee)}}}else if(t.tag===6){if(n===null){k=t;try{k.stateNode.nodeValue=u?"":k.memoizedProps}catch(ee){Ae(k,k.return,ee)}}}else if(t.tag===18){if(n===null){k=t;try{var H=k.stateNode;u?s0(H,!0):s0(k.stateNode,!1)}catch(ee){Ae(k,k.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,ol(e,n))));break;case 19:xt(t,e),wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ol(e,l)));break;case 30:break;case 21:break;default:xt(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(lg(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,h=mu(e);ll(e,h,u);break;case 5:var p=n.stateNode;n.flags&32&&(Ja(p,""),n.flags&=-33);var x=mu(e);ll(e,x,p);break;case 3:case 4:var k=n.stateNode.containerInfo,L=mu(e);gu(e,L,k);break;default:throw Error(i(161))}}catch(V){Ae(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;yg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function kr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ug(e,t.alternate,t),t=t.sibling}function Da(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qr(4,t,t.return),Da(t);break;case 1:lr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&sg(t,t.return,n),Da(t);break;case 27:Rs(t.stateNode);case 26:case 5:lr(t,t.return),Da(t);break;case 22:t.memoizedState===null&&Da(t);break;case 30:Da(t);break;default:Da(t)}e=e.sibling}}function Nr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,h=t,p=h.flags;switch(h.tag){case 0:case 11:case 15:Nr(u,h,n),_s(4,h);break;case 1:if(Nr(u,h,n),l=h,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(L){Ae(l,l.return,L)}if(l=h,u=l.updateQueue,u!==null){var x=l.stateNode;try{var k=u.shared.hiddenCallbacks;if(k!==null)for(u.shared.hiddenCallbacks=null,u=0;u<k.length;u++)Fh(k[u],x)}catch(L){Ae(l,l.return,L)}}n&&p&64&&ng(h),Ss(h,h.return);break;case 27:og(h);case 26:case 5:Nr(u,h,n),n&&l===null&&p&4&&ig(h),Ss(h,h.return);break;case 12:Nr(u,h,n);break;case 31:Nr(u,h,n),n&&p&4&&hg(u,h);break;case 13:Nr(u,h,n),n&&p&4&&mg(u,h);break;case 22:h.memoizedState===null&&Nr(u,h,n),Ss(h,h.return);break;case 30:break;default:Nr(u,h,n)}t=t.sibling}}function pu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&cs(n))}function bu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cs(e))}function Qt(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pg(e,t,n,l),t=t.sibling}function pg(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Qt(e,t,n,l),u&2048&&_s(9,t);break;case 1:Qt(e,t,n,l);break;case 3:Qt(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cs(e)));break;case 12:if(u&2048){Qt(e,t,n,l),e=t.stateNode;try{var h=t.memoizedProps,p=h.id,x=h.onPostCommit;typeof x=="function"&&x(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){Ae(t,t.return,k)}}else Qt(e,t,n,l);break;case 31:Qt(e,t,n,l);break;case 13:Qt(e,t,n,l);break;case 23:break;case 22:h=t.stateNode,p=t.alternate,t.memoizedState!==null?h._visibility&2?Qt(e,t,n,l):js(e,t):h._visibility&2?Qt(e,t,n,l):(h._visibility|=2,pn(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&pu(p,t);break;case 24:Qt(e,t,n,l),u&2048&&bu(t.alternate,t);break;default:Qt(e,t,n,l)}}function pn(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,p=t,x=n,k=l,L=p.flags;switch(p.tag){case 0:case 11:case 15:pn(h,p,x,k,u),_s(8,p);break;case 23:break;case 22:var V=p.stateNode;p.memoizedState!==null?V._visibility&2?pn(h,p,x,k,u):js(h,p):(V._visibility|=2,pn(h,p,x,k,u)),u&&L&2048&&pu(p.alternate,p);break;case 24:pn(h,p,x,k,u),u&&L&2048&&bu(p.alternate,p);break;default:pn(h,p,x,k,u)}t=t.sibling}}function js(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:js(n,l),u&2048&&pu(l.alternate,l);break;case 24:js(n,l),u&2048&&bu(l.alternate,l);break;default:js(n,l)}t=t.sibling}}var Es=8192;function bn(e,t,n){if(e.subtreeFlags&Es)for(e=e.child;e!==null;)bg(e,t,n),e=e.sibling}function bg(e,t,n){switch(e.tag){case 26:bn(e,t,n),e.flags&Es&&e.memoizedState!==null&&ew(n,Jt,e.memoizedState,e.memoizedProps);break;case 5:bn(e,t,n);break;case 3:case 4:var l=Jt;Jt=_l(e.stateNode.containerInfo),bn(e,t,n),Jt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Es,Es=16777216,bn(e,t,n),Es=l):bn(e,t,n));break;default:bn(e,t,n)}}function vg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ks(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];at=l,wg(l,e)}vg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xg(e),e=e.sibling}function xg(e){switch(e.tag){case 0:case 11:case 15:ks(e),e.flags&2048&&Qr(9,e,e.return);break;case 3:ks(e);break;case 12:ks(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,cl(e)):ks(e);break;default:ks(e)}}function cl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];at=l,wg(l,e)}vg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qr(8,t,t.return),cl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,cl(t));break;default:cl(t)}e=e.sibling}}function wg(e,t){for(;at!==null;){var n=at;switch(n.tag){case 0:case 11:case 15:Qr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cs(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,at=l;else e:for(n=e;at!==null;){l=at;var u=l.sibling,h=l.return;if(dg(l),l===n){at=null;break e}if(u!==null){u.return=h,at=u;break e}at=h}}}var gx={getCacheForType:function(e){var t=it(Ke),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return it(Ke).controller.signal}},yx=typeof WeakMap=="function"?WeakMap:Map,ke=0,De=null,ye=null,be=0,Te=0,Dt=null,Zr=!1,vn=!1,vu=!1,Tr=0,Ge=0,Wr=0,Ua=0,xu=0,Ut=0,xn=0,Ns=null,_t=null,wu=!1,ul=0,_g=0,dl=1/0,fl=null,ea=null,tt=0,ta=null,wn=null,Ar=0,_u=0,Su=null,Sg=null,Ts=0,ju=null;function Mt(){return(ke&2)!==0&&be!==0?be&-be:$.T!==null?Cu():qf()}function jg(){if(Ut===0)if((be&536870912)===0||we){var e=xi;xi<<=1,(xi&3932160)===0&&(xi=262144),Ut=e}else Ut=536870912;return e=Ot.current,e!==null&&(e.flags|=32),Ut}function St(e,t,n){(e===De&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(_n(e,0),ra(e,be,Ut,!1)),Xn(e,n),((ke&2)===0||e!==De)&&(e===De&&((ke&2)===0&&(Ua|=n),Ge===4&&ra(e,be,Ut,!1)),or(e))}function Eg(e,t,n){if((ke&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Kn(e,t),u=l?vx(e,t):ku(e,t,!0),h=l;do{if(u===0){vn&&!l&&ra(e,t,0,!1);break}else{if(n=e.current.alternate,h&&!px(n)){u=ku(e,t,!1),h=!1;continue}if(u===2){if(h=t,e.errorRecoveryDisabledLanes&h)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var x=e;u=Ns;var k=x.current.memoizedState.isDehydrated;if(k&&(_n(x,p).flags|=256),p=ku(x,p,!1),p!==2){if(vu&&!k){x.errorRecoveryDisabledLanes|=h,Ua|=h,u=4;break e}h=_t,_t=u,h!==null&&(_t===null?_t=h:_t.push.apply(_t,h))}u=p}if(h=!1,u!==2)continue}}if(u===1){_n(e,0),ra(e,t,0,!0);break}e:{switch(l=e,h=u,h){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:ra(l,t,Ut,!Zr);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=ul+300-kt(),10<u)){if(ra(l,t,Ut,!Zr),_i(l,0,!0)!==0)break e;Ar=t,l.timeoutHandle=r0(kg.bind(null,l,n,_t,fl,wu,t,Ut,Ua,xn,Zr,h,"Throttled",-0,0),u);break e}kg(l,n,_t,fl,wu,t,Ut,Ua,xn,Zr,h,null,-0,0)}}break}while(!0);or(e)}function kg(e,t,n,l,u,h,p,x,k,L,V,F,q,H){if(e.timeoutHandle=-1,F=t.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mr},bg(t,h,F);var ee=(h&62914560)===h?ul-kt():(h&4194048)===h?_g-kt():0;if(ee=tw(F,ee),ee!==null){Ar=h,e.cancelPendingCommit=ee(Ug.bind(null,e,t,h,n,l,u,p,x,k,V,F,null,q,H)),ra(e,h,p,!L);return}}Ug(e,t,h,n,l,u,p,x,k)}function px(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],h=u.getSnapshot;u=u.value;try{if(!At(h(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ra(e,t,n,l){t&=~xu,t&=~Ua,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var h=31-Tt(u),p=1<<h;l[h]=-1,u&=~p}n!==0&&zf(e,n,t)}function hl(){return(ke&6)===0?(As(0),!1):!0}function Eu(){if(ye!==null){if(Te===0)var e=ye.return;else e=ye,br=Ea=null,Hc(e),fn=null,ds=0,e=ye;for(;e!==null;)ag(e.alternate,e),e=e.return;ye=null}}function _n(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Bx(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ar=0,Eu(),De=e,ye=n=yr(e.current,null),be=t,Te=0,Dt=null,Zr=!1,vn=Kn(e,t),vu=!1,xn=Ut=xu=Ua=Wr=Ge=0,_t=Ns=null,wu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-Tt(l),h=1<<u;t|=e[u],l&=~h}return Tr=t,Ui(),n}function Ng(e,t){fe=null,$.H=vs,t===dn||t===Vi?(t=Ph(),Te=3):t===Ac?(t=Ph(),Te=4):Te=t===au?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Dt=t,ye===null&&(Ge=1,rl(e,Ht(t,e.current)))}function Tg(){var e=Ot.current;return e===null?!0:(be&4194048)===be?It===null:(be&62914560)===be||(be&536870912)!==0?e===It:!1}function Ag(){var e=$.H;return $.H=vs,e===null?vs:e}function Cg(){var e=$.A;return $.A=gx,e}function ml(){Ge=4,Zr||(be&4194048)!==be&&Ot.current!==null||(vn=!0),(Wr&134217727)===0&&(Ua&134217727)===0||De===null||ra(De,be,Ut,!1)}function ku(e,t,n){var l=ke;ke|=2;var u=Ag(),h=Cg();(De!==e||be!==t)&&(fl=null,_n(e,t)),t=!1;var p=Ge;e:do try{if(Te!==0&&ye!==null){var x=ye,k=Dt;switch(Te){case 8:Eu(),p=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(t=!0);var L=Te;if(Te=0,Dt=null,Sn(e,x,k,L),n&&vn){p=0;break e}break;default:L=Te,Te=0,Dt=null,Sn(e,x,k,L)}}bx(),p=Ge;break}catch(V){Ng(e,V)}while(!0);return t&&e.shellSuspendCounter++,br=Ea=null,ke=l,$.H=u,$.A=h,ye===null&&(De=null,be=0,Ui()),p}function bx(){for(;ye!==null;)Og(ye)}function vx(e,t){var n=ke;ke|=2;var l=Ag(),u=Cg();De!==e||be!==t?(fl=null,dl=kt()+500,_n(e,t)):vn=Kn(e,t);e:do try{if(Te!==0&&ye!==null){t=ye;var h=Dt;t:switch(Te){case 1:Te=0,Dt=null,Sn(e,t,h,1);break;case 2:case 9:if(Hh(h)){Te=0,Dt=null,Rg(t);break}t=function(){Te!==2&&Te!==9||De!==e||(Te=7),or(e)},h.then(t,t);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:Hh(h)?(Te=0,Dt=null,Rg(t)):(Te=0,Dt=null,Sn(e,t,h,7));break;case 5:var p=null;switch(ye.tag){case 26:p=ye.memoizedState;case 5:case 27:var x=ye;if(p?p0(p):x.stateNode.complete){Te=0,Dt=null;var k=x.sibling;if(k!==null)ye=k;else{var L=x.return;L!==null?(ye=L,gl(L)):ye=null}break t}}Te=0,Dt=null,Sn(e,t,h,5);break;case 6:Te=0,Dt=null,Sn(e,t,h,6);break;case 8:Eu(),Ge=6;break e;default:throw Error(i(462))}}xx();break}catch(V){Ng(e,V)}while(!0);return br=Ea=null,$.H=l,$.A=u,ke=n,ye!==null?0:(De=null,be=0,Ui(),Ge)}function xx(){for(;ye!==null&&!Pb();)Og(ye)}function Og(e){var t=tg(e.alternate,e,Tr);e.memoizedProps=e.pendingProps,t===null?gl(e):ye=t}function Rg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Xm(n,t,t.pendingProps,t.type,void 0,be);break;case 11:t=Xm(n,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:Hc(t);default:ag(n,t),t=ye=Ch(t,Tr),t=tg(n,t,Tr)}e.memoizedProps=e.pendingProps,t===null?gl(e):ye=t}function Sn(e,t,n,l){br=Ea=null,Hc(t),fn=null,ds=0;var u=t.return;try{if(ox(e,u,t,n,be)){Ge=1,rl(e,Ht(n,e.current)),ye=null;return}}catch(h){if(u!==null)throw ye=u,h;Ge=1,rl(e,Ht(n,e.current)),ye=null;return}t.flags&32768?(we||l===1?e=!0:vn||(be&536870912)!==0?e=!1:(Zr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ot.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dg(t,e)):gl(t)}function gl(e){var t=e;do{if((t.flags&32768)!==0){Dg(t,Zr);return}e=t.return;var n=dx(t.alternate,t,Tr);if(n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Ge===0&&(Ge=5)}function Dg(e,t){do{var n=fx(e.alternate,e);if(n!==null){n.flags&=32767,ye=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=n}while(e!==null);Ge=6,ye=null}function Ug(e,t,n,l,u,h,p,x,k){e.cancelPendingCommit=null;do yl();while(tt!==0);if((ke&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(h=t.lanes|t.childLanes,h|=mc,Wb(e,n,h,p,x,k),e===De&&(ye=De=null,be=0),wn=t,ta=e,Ar=n,_u=h,Su=u,Sg=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jx(bi,function(){return qg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,u=X.p,X.p=2,p=ke,ke|=4;try{hx(e,t,n)}finally{ke=p,X.p=u,$.T=l}}tt=1,Mg(),zg(),Bg()}}function Mg(){if(tt===1){tt=0;var e=ta,t=wn,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=$.T,$.T=null;var l=X.p;X.p=2;var u=ke;ke|=4;try{gg(t,e);var h=Lu,p=wh(e.containerInfo),x=h.focusedElem,k=h.selectionRange;if(p!==x&&x&&x.ownerDocument&&xh(x.ownerDocument.documentElement,x)){if(k!==null&&cc(x)){var L=k.start,V=k.end;if(V===void 0&&(V=L),"selectionStart"in x)x.selectionStart=L,x.selectionEnd=Math.min(V,x.value.length);else{var F=x.ownerDocument||document,q=F&&F.defaultView||window;if(q.getSelection){var H=q.getSelection(),ee=x.textContent.length,ie=Math.min(k.start,ee),Re=k.end===void 0?ie:Math.min(k.end,ee);!H.extend&&ie>Re&&(p=Re,Re=ie,ie=p);var U=vh(x,ie),A=vh(x,Re);if(U&&A&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==A.node||H.focusOffset!==A.offset)){var B=F.createRange();B.setStart(U.node,U.offset),H.removeAllRanges(),ie>Re?(H.addRange(B),H.extend(A.node,A.offset)):(B.setEnd(A.node,A.offset),H.addRange(B))}}}}for(F=[],H=x;H=H.parentNode;)H.nodeType===1&&F.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<F.length;x++){var G=F[x];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Tl=!!Bu,Lu=Bu=null}finally{ke=u,X.p=l,$.T=n}}e.current=t,tt=2}}function zg(){if(tt===2){tt=0;var e=ta,t=wn,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=$.T,$.T=null;var l=X.p;X.p=2;var u=ke;ke|=4;try{ug(e,t.alternate,t)}finally{ke=u,X.p=l,$.T=n}}tt=3}}function Bg(){if(tt===4||tt===3){tt=0,Gb();var e=ta,t=wn,n=Ar,l=Sg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,wn=ta=null,Lg(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ea=null),Go(n),t=t.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Fn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=$.T,u=X.p,X.p=2,$.T=null;try{for(var h=e.onRecoverableError,p=0;p<l.length;p++){var x=l[p];h(x.value,{componentStack:x.stack})}}finally{$.T=t,X.p=u}}(Ar&3)!==0&&yl(),or(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===ju?Ts++:(Ts=0,ju=e):Ts=0,As(0)}}function Lg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,cs(t)))}function yl(){return Mg(),zg(),Bg(),qg()}function qg(){if(tt!==5)return!1;var e=ta,t=_u;_u=0;var n=Go(Ar),l=$.T,u=X.p;try{X.p=32>n?32:n,$.T=null,n=Su,Su=null;var h=ta,p=Ar;if(tt=0,wn=ta=null,Ar=0,(ke&6)!==0)throw Error(i(331));var x=ke;if(ke|=4,xg(h.current),pg(h,h.current,p,n),ke=x,As(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Fn,h)}catch{}return!0}finally{X.p=u,$.T=l,Lg(e,t)}}function $g(e,t,n){t=Ht(n,t),t=ru(e.stateNode,t,2),e=Kr(e,t,2),e!==null&&(Xn(e,2),or(e))}function Ae(e,t,n){if(e.tag===3)$g(e,e,n);else for(;t!==null;){if(t.tag===3){$g(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ea===null||!ea.has(l))){e=Ht(n,e),n=Hm(2),l=Kr(t,n,2),l!==null&&(Vm(n,l,t,e),Xn(l,2),or(l));break}}t=t.return}}function Nu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new yx;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(vu=!0,u.add(n),e=wx.bind(null,e,t,n),t.then(e,e))}function wx(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,De===e&&(be&n)===n&&(Ge===4||Ge===3&&(be&62914560)===be&&300>kt()-ul?(ke&2)===0&&_n(e,0):xu|=n,xn===be&&(xn=0)),or(e)}function Hg(e,t){t===0&&(t=Mf()),e=_a(e,t),e!==null&&(Xn(e,t),or(e))}function _x(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hg(e,n)}function Sx(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Hg(e,n)}function jx(e,t){return $o(e,t)}var pl=null,jn=null,Tu=!1,bl=!1,Au=!1,aa=0;function or(e){e!==jn&&e.next===null&&(jn===null?pl=jn=e:jn=jn.next=e),bl=!0,Tu||(Tu=!0,kx())}function As(e,t){if(!Au&&bl){Au=!0;do for(var n=!1,l=pl;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var h=0;else{var p=l.suspendedLanes,x=l.pingedLanes;h=(1<<31-Tt(42|e)+1)-1,h&=u&~(p&~x),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(n=!0,Ig(l,h))}else h=be,h=_i(l,l===De?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Kn(l,h)||(n=!0,Ig(l,h));l=l.next}while(n);Au=!1}}function Ex(){Vg()}function Vg(){bl=Tu=!1;var e=0;aa!==0&&zx()&&(e=aa);for(var t=kt(),n=null,l=pl;l!==null;){var u=l.next,h=Pg(l,t);h===0?(l.next=null,n===null?pl=u:n.next=u,u===null&&(jn=n)):(n=l,(e!==0||(h&3)!==0)&&(bl=!0)),l=u}tt!==0&&tt!==5||As(e),aa!==0&&(aa=0)}function Pg(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var p=31-Tt(h),x=1<<p,k=u[p];k===-1?((x&n)===0||(x&l)!==0)&&(u[p]=Zb(x,t)):k<=t&&(e.expiredLanes|=x),h&=~x}if(t=De,n=be,n=_i(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ho(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Kn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Ho(l),Go(n)){case 2:case 8:n=Df;break;case 32:n=bi;break;case 268435456:n=Uf;break;default:n=bi}return l=Gg.bind(null,e),n=$o(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Ho(l),e.callbackPriority=2,e.callbackNode=null,2}function Gg(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(yl()&&e.callbackNode!==n)return null;var l=be;return l=_i(e,e===De?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Eg(e,l,t),Pg(e,kt()),e.callbackNode!=null&&e.callbackNode===n?Gg.bind(null,e):null)}function Ig(e,t){if(yl())return null;Eg(e,t,!0)}function kx(){Lx(function(){(ke&6)!==0?$o(Rf,Ex):Vg()})}function Cu(){if(aa===0){var e=cn;e===0&&(e=vi,vi<<=1,(vi&261888)===0&&(vi=256)),aa=e}return aa}function Yg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ki(""+e)}function Fg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Nx(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var h=Yg((u[pt]||null).action),p=l.submitter;p&&(t=(t=p[pt]||null)?Yg(t.formAction):p.getAttribute("formAction"),t!==null&&(h=t,p=null));var x=new Ci("action","action",null,l,u);e.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(aa!==0){var k=p?Fg(u,p):new FormData(u);Jc(n,{pending:!0,data:k,method:u.method,action:h},null,k)}}else typeof h=="function"&&(x.preventDefault(),k=p?Fg(u,p):new FormData(u),Jc(n,{pending:!0,data:k,method:u.method,action:h},h,k))},currentTarget:u}]})}}for(var Ou=0;Ou<hc.length;Ou++){var Ru=hc[Ou],Tx=Ru.toLowerCase(),Ax=Ru[0].toUpperCase()+Ru.slice(1);Xt(Tx,"on"+Ax)}Xt(jh,"onAnimationEnd"),Xt(Eh,"onAnimationIteration"),Xt(kh,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(Iv,"onTransitionRun"),Xt(Yv,"onTransitionStart"),Xt(Fv,"onTransitionCancel"),Xt(Nh,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cs));function Kg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var h=void 0;if(t)for(var p=l.length-1;0<=p;p--){var x=l[p],k=x.instance,L=x.currentTarget;if(x=x.listener,k!==h&&u.isPropagationStopped())break e;h=x,u.currentTarget=L;try{h(u)}catch(V){Di(V)}u.currentTarget=null,h=k}else for(p=0;p<l.length;p++){if(x=l[p],k=x.instance,L=x.currentTarget,x=x.listener,k!==h&&u.isPropagationStopped())break e;h=x,u.currentTarget=L;try{h(u)}catch(V){Di(V)}u.currentTarget=null,h=k}}}}function pe(e,t){var n=t[Io];n===void 0&&(n=t[Io]=new Set);var l=e+"__bubble";n.has(l)||(Xg(t,e,2,!1),n.add(l))}function Du(e,t,n){var l=0;t&&(l|=4),Xg(n,e,l,t)}var vl="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[vl]){e[vl]=!0,Vf.forEach(function(n){n!=="selectionchange"&&(Cx.has(n)||Du(n,!1,e),Du(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vl]||(t[vl]=!0,Du("selectionchange",!1,t))}}function Xg(e,t,n,l){switch(j0(t)){case 2:var u=nw;break;case 8:u=sw;break;default:u=Xu}n=u.bind(null,t,n,e),u=void 0,!ec||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Mu(e,t,n,l,u){var h=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var x=l.stateNode.containerInfo;if(x===u)break;if(p===4)for(p=l.return;p!==null;){var k=p.tag;if((k===3||k===4)&&p.stateNode.containerInfo===u)return;p=p.return}for(;x!==null;){if(p=Ia(x),p===null)return;if(k=p.tag,k===5||k===6||k===26||k===27){l=h=p;continue e}x=x.parentNode}}l=l.return}eh(function(){var L=h,V=Zo(n),F=[];e:{var q=Th.get(e);if(q!==void 0){var H=Ci,ee=e;switch(e){case"keypress":if(Ti(n)===0)break e;case"keydown":case"keyup":H=Sv;break;case"focusin":ee="focus",H=nc;break;case"focusout":ee="blur",H=nc;break;case"beforeblur":case"afterblur":H=nc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=kv;break;case jh:case Eh:case kh:H=mv;break;case Nh:H=Tv;break;case"scroll":case"scrollend":H=cv;break;case"wheel":H=Cv;break;case"copy":case"cut":case"paste":H=yv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=sh;break;case"toggle":case"beforetoggle":H=Rv}var ie=(t&4)!==0,Re=!ie&&(e==="scroll"||e==="scrollend"),U=ie?q!==null?q+"Capture":null:q;ie=[];for(var A=L,B;A!==null;){var G=A;if(B=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||B===null||U===null||(G=Zn(A,U),G!=null&&ie.push(Os(A,G,B))),Re)break;A=A.return}0<ie.length&&(q=new H(q,ee,null,n,V),F.push({event:q,listeners:ie}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",q&&n!==Qo&&(ee=n.relatedTarget||n.fromElement)&&(Ia(ee)||ee[Ga]))break e;if((H||q)&&(q=V.window===V?V:(q=V.ownerDocument)?q.defaultView||q.parentWindow:window,H?(ee=n.relatedTarget||n.toElement,H=L,ee=ee?Ia(ee):null,ee!==null&&(Re=c(ee),ie=ee.tag,ee!==Re||ie!==5&&ie!==27&&ie!==6)&&(ee=null)):(H=null,ee=L),H!==ee)){if(ie=ah,G="onMouseLeave",U="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ie=sh,G="onPointerLeave",U="onPointerEnter",A="pointer"),Re=H==null?q:Qn(H),B=ee==null?q:Qn(ee),q=new ie(G,A+"leave",H,n,V),q.target=Re,q.relatedTarget=B,G=null,Ia(V)===L&&(ie=new ie(U,A+"enter",ee,n,V),ie.target=B,ie.relatedTarget=Re,G=ie),Re=G,H&&ee)t:{for(ie=Ox,U=H,A=ee,B=0,G=U;G;G=ie(G))B++;G=0;for(var se=A;se;se=ie(se))G++;for(;0<B-G;)U=ie(U),B--;for(;0<G-B;)A=ie(A),G--;for(;B--;){if(U===A||A!==null&&U===A.alternate){ie=U;break t}U=ie(U),A=ie(A)}ie=null}else ie=null;H!==null&&Jg(F,q,H,ie,!1),ee!==null&&Re!==null&&Jg(F,Re,ee,ie,!0)}}e:{if(q=L?Qn(L):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var je=hh;else if(dh(q))if(mh)je=Vv;else{je=$v;var te=qv}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?L&&Jo(L.elementType)&&(je=hh):je=Hv;if(je&&(je=je(e,L))){fh(F,je,n,V);break e}te&&te(e,q,L),e==="focusout"&&L&&q.type==="number"&&L.memoizedProps.value!=null&&Xo(q,"number",q.value)}switch(te=L?Qn(L):window,e){case"focusin":(dh(te)||te.contentEditable==="true")&&(en=te,uc=L,is=null);break;case"focusout":is=uc=en=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,_h(F,n,V);break;case"selectionchange":if(Gv)break;case"keydown":case"keyup":_h(F,n,V)}var me;if(ic)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Wa?ch(e,n)&&(ve="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ve="onCompositionStart");ve&&(ih&&n.locale!=="ko"&&(Wa||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Wa&&(me=th()):(Hr=V,tc="value"in Hr?Hr.value:Hr.textContent,Wa=!0)),te=xl(L,ve),0<te.length&&(ve=new nh(ve,e,null,n,V),F.push({event:ve,listeners:te}),me?ve.data=me:(me=uh(n),me!==null&&(ve.data=me)))),(me=Uv?Mv(e,n):zv(e,n))&&(ve=xl(L,"onBeforeInput"),0<ve.length&&(te=new nh("onBeforeInput","beforeinput",null,n,V),F.push({event:te,listeners:ve}),te.data=me)),Nx(F,e,L,n,V)}Kg(F,t)})}function Os(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xl(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=Zn(e,n),u!=null&&l.unshift(Os(e,u,h)),u=Zn(e,t),u!=null&&l.push(Os(e,u,h))),e.tag===3)return l;e=e.return}return[]}function Ox(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jg(e,t,n,l,u){for(var h=t._reactName,p=[];n!==null&&n!==l;){var x=n,k=x.alternate,L=x.stateNode;if(x=x.tag,k!==null&&k===l)break;x!==5&&x!==26&&x!==27||L===null||(k=L,u?(L=Zn(n,h),L!=null&&p.unshift(Os(n,L,k))):u||(L=Zn(n,h),L!=null&&p.push(Os(n,L,k)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Rx=/\r\n?/g,Dx=/\u0000|\uFFFD/g;function Qg(e){return(typeof e=="string"?e:""+e).replace(Rx,`
`).replace(Dx,"")}function Zg(e,t){return t=Qg(t),Qg(e)===t}function Oe(e,t,n,l,u,h){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ja(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ja(e,""+l);break;case"className":ji(e,"class",l);break;case"tabIndex":ji(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ji(e,n,l);break;case"style":Zf(e,l,h);break;case"data":if(t!=="object"){ji(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=ki(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(n==="formAction"?(t!=="input"&&Oe(e,t,"name",u.name,u,null),Oe(e,t,"formEncType",u.formEncType,u,null),Oe(e,t,"formMethod",u.formMethod,u,null),Oe(e,t,"formTarget",u.formTarget,u,null)):(Oe(e,t,"encType",u.encType,u,null),Oe(e,t,"method",u.method,u,null),Oe(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=ki(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=mr);break;case"onScroll":l!=null&&pe("scroll",e);break;case"onScrollEnd":l!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=ki(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":pe("beforetoggle",e),pe("toggle",e),Si(e,"popover",l);break;case"xlinkActuate":hr(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":hr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":hr(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":hr(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":hr(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":hr(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":hr(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":hr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":hr(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Si(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=lv.get(n)||n,Si(e,n,l))}}function zu(e,t,n,l,u,h){switch(n){case"style":Zf(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Ja(e,l):(typeof l=="number"||typeof l=="bigint")&&Ja(e,""+l);break;case"onScroll":l!=null&&pe("scroll",e);break;case"onScrollEnd":l!=null&&pe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=mr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),h=e[pt]||null,h=h!=null?h[n]:null,typeof h=="function"&&e.removeEventListener(t,h,u),typeof l=="function")){typeof h!="function"&&h!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):Si(e,n,l)}}}function ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var l=!1,u=!1,h;for(h in n)if(n.hasOwnProperty(h)){var p=n[h];if(p!=null)switch(h){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Oe(e,t,h,p,n,null)}}u&&Oe(e,t,"srcSet",n.srcSet,n,null),l&&Oe(e,t,"src",n.src,n,null);return;case"input":pe("invalid",e);var x=h=p=u=null,k=null,L=null;for(l in n)if(n.hasOwnProperty(l)){var V=n[l];if(V!=null)switch(l){case"name":u=V;break;case"type":p=V;break;case"checked":k=V;break;case"defaultChecked":L=V;break;case"value":h=V;break;case"defaultValue":x=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,t));break;default:Oe(e,t,l,V,n,null)}}Kf(e,h,x,k,L,p,u,!1);return;case"select":pe("invalid",e),l=p=h=null;for(u in n)if(n.hasOwnProperty(u)&&(x=n[u],x!=null))switch(u){case"value":h=x;break;case"defaultValue":p=x;break;case"multiple":l=x;default:Oe(e,t,u,x,n,null)}t=h,n=p,e.multiple=!!l,t!=null?Xa(e,!!l,t,!1):n!=null&&Xa(e,!!l,n,!0);return;case"textarea":pe("invalid",e),h=u=l=null;for(p in n)if(n.hasOwnProperty(p)&&(x=n[p],x!=null))switch(p){case"value":l=x;break;case"defaultValue":u=x;break;case"children":h=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:Oe(e,t,p,x,n,null)}Jf(e,l,u,h);return;case"option":for(k in n)if(n.hasOwnProperty(k)&&(l=n[k],l!=null))switch(k){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Oe(e,t,k,l,n,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(l=0;l<Cs.length;l++)pe(Cs[l],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in n)if(n.hasOwnProperty(L)&&(l=n[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Oe(e,t,L,l,n,null)}return;default:if(Jo(t)){for(V in n)n.hasOwnProperty(V)&&(l=n[V],l!==void 0&&zu(e,t,V,l,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(l=n[x],l!=null&&Oe(e,t,x,l,n,null))}function Ux(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,p=null,x=null,k=null,L=null,V=null;for(H in n){var F=n[H];if(n.hasOwnProperty(H)&&F!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":k=F;default:l.hasOwnProperty(H)||Oe(e,t,H,null,l,F)}}for(var q in l){var H=l[q];if(F=n[q],l.hasOwnProperty(q)&&(H!=null||F!=null))switch(q){case"type":h=H;break;case"name":u=H;break;case"checked":L=H;break;case"defaultChecked":V=H;break;case"value":p=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,t));break;default:H!==F&&Oe(e,t,q,H,l,F)}}Ko(e,p,x,k,L,V,h,u);return;case"select":H=p=x=q=null;for(h in n)if(k=n[h],n.hasOwnProperty(h)&&k!=null)switch(h){case"value":break;case"multiple":H=k;default:l.hasOwnProperty(h)||Oe(e,t,h,null,l,k)}for(u in l)if(h=l[u],k=n[u],l.hasOwnProperty(u)&&(h!=null||k!=null))switch(u){case"value":q=h;break;case"defaultValue":x=h;break;case"multiple":p=h;default:h!==k&&Oe(e,t,u,h,l,k)}t=x,n=p,l=H,q!=null?Xa(e,!!n,q,!1):!!l!=!!n&&(t!=null?Xa(e,!!n,t,!0):Xa(e,!!n,n?[]:"",!1));return;case"textarea":H=q=null;for(x in n)if(u=n[x],n.hasOwnProperty(x)&&u!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Oe(e,t,x,null,l,u)}for(p in l)if(u=l[p],h=n[p],l.hasOwnProperty(p)&&(u!=null||h!=null))switch(p){case"value":q=u;break;case"defaultValue":H=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==h&&Oe(e,t,p,u,l,h)}Xf(e,q,H);return;case"option":for(var ee in n)if(q=n[ee],n.hasOwnProperty(ee)&&q!=null&&!l.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:Oe(e,t,ee,null,l,q)}for(k in l)if(q=l[k],H=n[k],l.hasOwnProperty(k)&&q!==H&&(q!=null||H!=null))switch(k){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Oe(e,t,k,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in n)q=n[ie],n.hasOwnProperty(ie)&&q!=null&&!l.hasOwnProperty(ie)&&Oe(e,t,ie,null,l,q);for(L in l)if(q=l[L],H=n[L],l.hasOwnProperty(L)&&q!==H&&(q!=null||H!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,t));break;default:Oe(e,t,L,q,l,H)}return;default:if(Jo(t)){for(var Re in n)q=n[Re],n.hasOwnProperty(Re)&&q!==void 0&&!l.hasOwnProperty(Re)&&zu(e,t,Re,void 0,l,q);for(V in l)q=l[V],H=n[V],!l.hasOwnProperty(V)||q===H||q===void 0&&H===void 0||zu(e,t,V,q,l,H);return}}for(var U in n)q=n[U],n.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&Oe(e,t,U,null,l,q);for(F in l)q=l[F],H=n[F],!l.hasOwnProperty(F)||q===H||q==null&&H==null||Oe(e,t,F,q,l,H)}function Wg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Mx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],h=u.transferSize,p=u.initiatorType,x=u.duration;if(h&&x&&Wg(p)){for(p=0,x=u.responseEnd,l+=1;l<n.length;l++){var k=n[l],L=k.startTime;if(L>x)break;var V=k.transferSize,F=k.initiatorType;V&&Wg(F)&&(k=k.responseEnd,p+=V*(k<x?1:(x-L)/(k-L)))}if(--l,t+=8*(h+p)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Bu=null,Lu=null;function wl(e){return e.nodeType===9?e:e.ownerDocument}function e0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $u=null;function zx(){var e=window.event;return e&&e.type==="popstate"?e===$u?!1:($u=e,!0):($u=null,!1)}var r0=typeof setTimeout=="function"?setTimeout:void 0,Bx=typeof clearTimeout=="function"?clearTimeout:void 0,a0=typeof Promise=="function"?Promise:void 0,Lx=typeof queueMicrotask=="function"?queueMicrotask:typeof a0<"u"?function(e){return a0.resolve(null).then(e).catch(qx)}:r0;function qx(e){setTimeout(function(){throw e})}function na(e){return e==="head"}function n0(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),Tn(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Rs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Rs(n);for(var h=n.firstChild;h;){var p=h.nextSibling,x=h.nodeName;h[Jn]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&h.rel.toLowerCase()==="stylesheet"||n.removeChild(h),h=p}}else n==="body"&&Rs(e.ownerDocument.body);n=u}while(n);Tn(t)}function s0(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Hu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hu(n),Yo(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function $x(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Jn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function Hx(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yt(e.nextSibling),e===null))return null;return e}function i0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Yt(e.nextSibling),e===null))return null;return e}function Vu(e){return e.data==="$?"||e.data==="$~"}function Pu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Vx(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Gu=null;function l0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Yt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function o0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function c0(e,t,n){switch(t=wl(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Rs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Yo(e)}var Ft=new Map,u0=new Set;function _l(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cr=X.d;X.d={f:Px,r:Gx,D:Ix,C:Yx,L:Fx,m:Kx,X:Jx,S:Xx,M:Qx};function Px(){var e=Cr.f(),t=hl();return e||t}function Gx(e){var t=Ya(e);t!==null&&t.tag===5&&t.type==="form"?Nm(t):Cr.r(e)}var En=typeof document>"u"?null:document;function d0(e,t,n){var l=En;if(l&&typeof t=="string"&&t){var u=qt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),u0.has(u)||(u0.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),ot(t,"link",e),rt(t),l.head.appendChild(t)))}}function Ix(e){Cr.D(e),d0("dns-prefetch",e,null)}function Yx(e,t){Cr.C(e,t),d0("preconnect",e,t)}function Fx(e,t,n){Cr.L(e,t,n);var l=En;if(l&&e&&t){var u='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+qt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+qt(n.imageSizes)+'"]')):u+='[href="'+qt(e)+'"]';var h=u;switch(t){case"style":h=kn(e);break;case"script":h=Nn(e)}Ft.has(h)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ft.set(h,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Ds(h))||t==="script"&&l.querySelector(Us(h))||(t=l.createElement("link"),ot(t,"link",e),rt(t),l.head.appendChild(t)))}}function Kx(e,t){Cr.m(e,t);var n=En;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+qt(l)+'"][href="'+qt(e)+'"]',h=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Nn(e)}if(!Ft.has(h)&&(e=v({rel:"modulepreload",href:e},t),Ft.set(h,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Us(h)))return}l=n.createElement("link"),ot(l,"link",e),rt(l),n.head.appendChild(l)}}}function Xx(e,t,n){Cr.S(e,t,n);var l=En;if(l&&e){var u=Fa(l).hoistableStyles,h=kn(e);t=t||"default";var p=u.get(h);if(!p){var x={loading:0,preload:null};if(p=l.querySelector(Ds(h)))x.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ft.get(h))&&Iu(e,n);var k=p=l.createElement("link");rt(k),ot(k,"link",e),k._p=new Promise(function(L,V){k.onload=L,k.onerror=V}),k.addEventListener("load",function(){x.loading|=1}),k.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Sl(p,t,l)}p={type:"stylesheet",instance:p,count:1,state:x},u.set(h,p)}}}function Jx(e,t){Cr.X(e,t);var n=En;if(n&&e){var l=Fa(n).hoistableScripts,u=Nn(e),h=l.get(u);h||(h=n.querySelector(Us(u)),h||(e=v({src:e,async:!0},t),(t=Ft.get(u))&&Yu(e,t),h=n.createElement("script"),rt(h),ot(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(u,h))}}function Qx(e,t){Cr.M(e,t);var n=En;if(n&&e){var l=Fa(n).hoistableScripts,u=Nn(e),h=l.get(u);h||(h=n.querySelector(Us(u)),h||(e=v({src:e,async:!0,type:"module"},t),(t=Ft.get(u))&&Yu(e,t),h=n.createElement("script"),rt(h),ot(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(u,h))}}function f0(e,t,n,l){var u=(u=ce.current)?_l(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=kn(n.href),n=Fa(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=kn(n.href);var h=Fa(u).hoistableStyles,p=h.get(e);if(p||(u=u.ownerDocument||u,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,p),(h=u.querySelector(Ds(e)))&&!h._p&&(p.instance=h,p.state.loading=5),Ft.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ft.set(e,n),h||Zx(u,e,n,p.state))),t&&l===null)throw Error(i(528,""));return p}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Nn(n),n=Fa(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function kn(e){return'href="'+qt(e)+'"'}function Ds(e){return'link[rel="stylesheet"]['+e+"]"}function h0(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Zx(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ot(t,"link",n),rt(t),e.head.appendChild(t))}function Nn(e){return'[src="'+qt(e)+'"]'}function Us(e){return"script[async]"+e}function m0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+qt(n.href)+'"]');if(l)return t.instance=l,rt(l),l;var u=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),rt(l),ot(l,"style",u),Sl(l,n.precedence,e),t.instance=l;case"stylesheet":u=kn(n.href);var h=e.querySelector(Ds(u));if(h)return t.state.loading|=4,t.instance=h,rt(h),h;l=h0(n),(u=Ft.get(u))&&Iu(l,u),h=(e.ownerDocument||e).createElement("link"),rt(h);var p=h;return p._p=new Promise(function(x,k){p.onload=x,p.onerror=k}),ot(h,"link",l),t.state.loading|=4,Sl(h,n.precedence,e),t.instance=h;case"script":return h=Nn(n.src),(u=e.querySelector(Us(h)))?(t.instance=u,rt(u),u):(l=n,(u=Ft.get(h))&&(l=v({},n),Yu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),rt(u),ot(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Sl(l,n.precedence,e));return t.instance}function Sl(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,h=u,p=0;p<l.length;p++){var x=l[p];if(x.dataset.precedence===t)h=x;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Iu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Yu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var jl=null;function g0(e,t,n){if(jl===null){var l=new Map,u=jl=new Map;u.set(n,l)}else u=jl,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var h=n[u];if(!(h[Jn]||h[nt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(t)||"";p=e+p;var x=l.get(p);x?x.push(h):l.set(p,[h])}}return l}function y0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Wx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function p0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ew(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=kn(l.href),h=t.querySelector(Ds(u));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=El.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=h,rt(h);return}h=t.ownerDocument||t,l=h0(l),(u=Ft.get(u))&&Iu(l,u),h=h.createElement("link"),rt(h);var p=h;p._p=new Promise(function(x,k){p.onload=x,p.onerror=k}),ot(h,"link",l),n.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=El.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Fu=0;function tw(e,t){return e.stylesheets&&e.count===0&&Nl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&Nl(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&Fu===0&&(Fu=62500*Mx());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Nl(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Fu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function El(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var kl=null;function Nl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,kl=new Map,t.forEach(rw,e),kl=null,El.call(e))}function rw(e,t){if(!(t.state.loading&4)){var n=kl.get(e);if(n)var l=n.get(null);else{n=new Map,kl.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var p=u[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),l=p)}l&&n.set(null,l)}u=t.instance,p=u.getAttribute("data-precedence"),h=n.get(p)||l,h===l&&n.set(null,u),n.set(p,u),this.count++,l=El.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ms={$$typeof:T,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function aw(e,t,n,l,u,h,p,x,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.hiddenUpdates=Vo(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function b0(e,t,n,l,u,h,p,x,k,L,V,F){return e=new aw(e,t,n,p,k,L,V,F,x),t=1,h===!0&&(t|=24),h=Ct(3,null,null,t),e.current=h,h.stateNode=e,t=kc(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:l,isDehydrated:n,cache:t},Cc(h),e}function v0(e){return e?(e=an,e):an}function x0(e,t,n,l,u,h){u=v0(u),l.context===null?l.context=u:l.pendingContext=u,l=Fr(t),l.payload={element:n},h=h===void 0?null:h,h!==null&&(l.callback=h),n=Kr(e,l,t),n!==null&&(St(n,e,t),hs(n,e,t))}function w0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ku(e,t){w0(e,t),(e=e.alternate)&&w0(e,t)}function _0(e){if(e.tag===13||e.tag===31){var t=_a(e,67108864);t!==null&&St(t,e,67108864),Ku(e,67108864)}}function S0(e){if(e.tag===13||e.tag===31){var t=Mt();t=Po(t);var n=_a(e,t);n!==null&&St(n,e,t),Ku(e,t)}}var Tl=!0;function nw(e,t,n,l){var u=$.T;$.T=null;var h=X.p;try{X.p=2,Xu(e,t,n,l)}finally{X.p=h,$.T=u}}function sw(e,t,n,l){var u=$.T;$.T=null;var h=X.p;try{X.p=8,Xu(e,t,n,l)}finally{X.p=h,$.T=u}}function Xu(e,t,n,l){if(Tl){var u=Ju(l);if(u===null)Mu(e,t,l,Al,n),E0(e,l);else if(lw(u,e,t,n,l))l.stopPropagation();else if(E0(e,l),t&4&&-1<iw.indexOf(e)){for(;u!==null;){var h=Ya(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=pa(h.pendingLanes);if(p!==0){var x=h;for(x.pendingLanes|=2,x.entangledLanes|=2;p;){var k=1<<31-Tt(p);x.entanglements[1]|=k,p&=~k}or(h),(ke&6)===0&&(dl=kt()+500,As(0))}}break;case 31:case 13:x=_a(h,2),x!==null&&St(x,h,2),hl(),Ku(h,2)}if(h=Ju(l),h===null&&Mu(e,t,l,Al,n),h===u)break;u=h}u!==null&&l.stopPropagation()}else Mu(e,t,l,null,n)}}function Ju(e){return e=Zo(e),Qu(e)}var Al=null;function Qu(e){if(Al=null,e=Ia(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Al=e,null}function j0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ib()){case Rf:return 2;case Df:return 8;case bi:case Yb:return 32;case Uf:return 268435456;default:return 32}default:return 32}}var Zu=!1,sa=null,ia=null,la=null,zs=new Map,Bs=new Map,oa=[],iw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E0(e,t){switch(e){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(t.pointerId)}}function Ls(e,t,n,l,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:h,targetContainers:[u]},t!==null&&(t=Ya(t),t!==null&&_0(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function lw(e,t,n,l,u){switch(t){case"focusin":return sa=Ls(sa,e,t,n,l,u),!0;case"dragenter":return ia=Ls(ia,e,t,n,l,u),!0;case"mouseover":return la=Ls(la,e,t,n,l,u),!0;case"pointerover":var h=u.pointerId;return zs.set(h,Ls(zs.get(h)||null,e,t,n,l,u)),!0;case"gotpointercapture":return h=u.pointerId,Bs.set(h,Ls(Bs.get(h)||null,e,t,n,l,u)),!0}return!1}function k0(e){var t=Ia(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,$f(e.priority,function(){S0(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,$f(e.priority,function(){S0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ju(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Qo=l,n.target.dispatchEvent(l),Qo=null}else return t=Ya(n),t!==null&&_0(t),e.blockedOn=n,!1;t.shift()}return!0}function N0(e,t,n){Cl(e)&&n.delete(t)}function ow(){Zu=!1,sa!==null&&Cl(sa)&&(sa=null),ia!==null&&Cl(ia)&&(ia=null),la!==null&&Cl(la)&&(la=null),zs.forEach(N0),Bs.forEach(N0)}function Ol(e,t){e.blockedOn===t&&(e.blockedOn=null,Zu||(Zu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,ow)))}var Rl=null;function T0(e){Rl!==e&&(Rl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Rl===e&&(Rl=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(Qu(l||n)===null)continue;break}var h=Ya(n);h!==null&&(e.splice(t,3),t-=3,Jc(h,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function Tn(e){function t(k){return Ol(k,e)}sa!==null&&Ol(sa,e),ia!==null&&Ol(ia,e),la!==null&&Ol(la,e),zs.forEach(t),Bs.forEach(t);for(var n=0;n<oa.length;n++){var l=oa[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<oa.length&&(n=oa[0],n.blockedOn===null);)k0(n),n.blockedOn===null&&oa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],h=n[l+1],p=u[pt]||null;if(typeof h=="function")p||T0(n);else if(p){var x=null;if(h&&h.hasAttribute("formAction")){if(u=h,p=h[pt]||null)x=p.formAction;else if(Qu(u)!==null)continue}else x=p.action;typeof x=="function"?n[l+1]=x:(n.splice(l,3),l-=3),T0(n)}}}function A0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(p){return u=p})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Wu(e){this._internalRoot=e}Dl.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=Mt();x0(n,l,e,t,null,null)},Dl.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;x0(e.current,2,null,e,null,null),hl(),t[Ga]=null}};function Dl(e){this._internalRoot=e}Dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=qf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oa.length&&t!==0&&t<oa[n].priority;n++);oa.splice(n,0,e),n===0&&k0(e)}};var C0=r.version;if(C0!=="19.2.1")throw Error(i(527,C0,"19.2.1"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var cw={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{Fn=Ul.inject(cw),Nt=Ul}catch{}}return $s.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,l="",u=Bm,h=Lm,p=qm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=b0(e,1,!1,null,null,n,l,null,u,h,p,A0),e[Ga]=t.current,Uu(e),new Wu(t)},$s.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var l=!1,u="",h=Bm,p=Lm,x=qm,k=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.formState!==void 0&&(k=n.formState)),t=b0(e,1,!0,t,n??null,l,u,k,h,p,x,A0),t.context=v0(null),n=t.current,l=Mt(),l=Po(l),u=Fr(l),u.callback=null,Kr(n,u,l),n=l,t.current.lanes=n,Xn(t,n),or(t),e[Ga]=t.current,Uu(e),new Dl(t)},$s.version="19.2.1",$s}var $0;function ww(){if($0)return rd.exports;$0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),rd.exports=xw(),rd.exports}var _w=ww();const Sw=sf(_w);var id={exports:{}},ld={};var H0;function jw(){if(H0)return ld;H0=1;var a=_o();function r(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var s=typeof Object.is=="function"?Object.is:r,i=a.useSyncExternalStore,o=a.useRef,c=a.useEffect,f=a.useMemo,m=a.useDebugValue;return ld.useSyncExternalStoreWithSelector=function(g,y,b,v,w){var _=o(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=f(function(){function j(N){if(!C){if(C=!0,D=N,N=v(N),w!==void 0&&S.hasValue){var M=S.value;if(w(M,N))return T=M}return T=N}if(M=T,s(D,N))return M;var z=v(N);return w!==void 0&&w(M,z)?(D=N,M):(D=N,T=z)}var C=!1,D,T,P=b===void 0?null:b;return[function(){return j(y())},P===null?void 0:function(){return j(P())}]},[y,b,v,w]);var E=i(g,_[0],_[1]);return c(function(){S.hasValue=!0,S.value=E},[E]),m(E),E},ld}var V0;function Ew(){return V0||(V0=1,id.exports=jw()),id.exports}var kw=Ew();function Nw(a){a()}function Tw(){let a=null,r=null;return{clear(){a=null,r=null},notify(){Nw(()=>{let s=a;for(;s;)s.callback(),s=s.next})},get(){const s=[];let i=a;for(;i;)s.push(i),i=i.next;return s},subscribe(s){let i=!0;const o=r={callback:s,next:null,prev:r};return o.prev?o.prev.next=o:a=o,function(){!i||a===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:a=o.next)}}}}var P0={notify(){},get:()=>[]};function Aw(a,r){let s,i=P0,o=0,c=!1;function f(E){b();const j=i.subscribe(E);let C=!1;return()=>{C||(C=!0,j(),v())}}function m(){i.notify()}function g(){S.onStateChange&&S.onStateChange()}function y(){return c}function b(){o++,s||(s=a.subscribe(g),i=Tw())}function v(){o--,s&&o===0&&(s(),s=void 0,i.clear(),i=P0)}function w(){c||(c=!0,b())}function _(){c&&(c=!1,v())}const S={addNestedSub:f,notifyNestedSubs:m,handleChangeWrapper:g,isSubscribed:y,trySubscribe:w,tryUnsubscribe:_,getListeners:()=>i};return S}var Cw=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ow=Cw(),Rw=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Dw=Rw(),Uw=()=>Ow||Dw?R.useLayoutEffect:R.useEffect,Mw=Uw(),zw=Symbol.for("react-redux-context"),Bw=typeof globalThis<"u"?globalThis:{};function Lw(){if(!R.createContext)return{};const a=Bw[zw]??=new Map;let r=a.get(R.createContext);return r||(r=R.createContext(null),a.set(R.createContext,r)),r}var ha=Lw();function qw(a){const{children:r,context:s,serverState:i,store:o}=a,c=R.useMemo(()=>{const g=Aw(o);return{store:o,subscription:g,getServerState:i?()=>i:void 0}},[o,i]),f=R.useMemo(()=>o.getState(),[o]);Mw(()=>{const{subscription:g}=c;return g.onStateChange=g.notifyNestedSubs,g.trySubscribe(),f!==o.getState()&&g.notifyNestedSubs(),()=>{g.tryUnsubscribe(),g.onStateChange=void 0}},[c,f]);const m=s||ha;return R.createElement(m.Provider,{value:c},r)}var $w=qw;function lf(a=ha){return function(){return R.useContext(a)}}var $y=lf();function Hy(a=ha){const r=a===ha?$y:lf(a),s=()=>{const{store:i}=r();return i};return Object.assign(s,{withTypes:()=>s}),s}var Hw=Hy();function Vw(a=ha){const r=a===ha?Hw:Hy(a),s=()=>r().dispatch;return Object.assign(s,{withTypes:()=>s}),s}var Pw=Vw(),Gw=(a,r)=>a===r;function Iw(a=ha){const r=a===ha?$y:lf(a),s=(i,o={})=>{const{equalityFn:c=Gw}=typeof o=="function"?{equalityFn:o}:o,f=r(),{store:m,subscription:g,getServerState:y}=f;R.useRef(!0);const b=R.useCallback({[i.name](w){return i(w)}}[i.name],[i]),v=kw.useSyncExternalStoreWithSelector(g.addNestedSub,m.getState,y||m.getState,b,c);return R.useDebugValue(v),v};return Object.assign(s,{withTypes:()=>s}),s}var Yw=Iw();function ft(a){return`Minified Redux error #${a}; visit https://redux.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}var Fw=typeof Symbol=="function"&&Symbol.observable||"@@observable",G0=Fw,od=()=>Math.random().toString(36).substring(7).split("").join("."),Kw={INIT:`@@redux/INIT${od()}`,REPLACE:`@@redux/REPLACE${od()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${od()}`},so=Kw;function of(a){if(typeof a!="object"||a===null)return!1;let r=a;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(a)===r||Object.getPrototypeOf(a)===null}function Vy(a,r,s){if(typeof a!="function")throw new Error(ft(2));if(typeof r=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(ft(0));if(typeof r=="function"&&typeof s>"u"&&(s=r,r=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(ft(1));return s(Vy)(a,r)}let i=a,o=r,c=new Map,f=c,m=0,g=!1;function y(){f===c&&(f=new Map,c.forEach((j,C)=>{f.set(C,j)}))}function b(){if(g)throw new Error(ft(3));return o}function v(j){if(typeof j!="function")throw new Error(ft(4));if(g)throw new Error(ft(5));let C=!0;y();const D=m++;return f.set(D,j),function(){if(C){if(g)throw new Error(ft(6));C=!1,y(),f.delete(D),c=null}}}function w(j){if(!of(j))throw new Error(ft(7));if(typeof j.type>"u")throw new Error(ft(8));if(typeof j.type!="string")throw new Error(ft(17));if(g)throw new Error(ft(9));try{g=!0,o=i(o,j)}finally{g=!1}return(c=f).forEach(D=>{D()}),j}function _(j){if(typeof j!="function")throw new Error(ft(10));i=j,w({type:so.REPLACE})}function S(){const j=v;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(ft(11));function D(){const P=C;P.next&&P.next(b())}return D(),{unsubscribe:j(D)}},[G0](){return this}}}return w({type:so.INIT}),{dispatch:w,subscribe:v,getState:b,replaceReducer:_,[G0]:S}}function Xw(a){Object.keys(a).forEach(r=>{const s=a[r];if(typeof s(void 0,{type:so.INIT})>"u")throw new Error(ft(12));if(typeof s(void 0,{type:so.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ft(13))})}function Jw(a){const r=Object.keys(a),s={};for(let c=0;c<r.length;c++){const f=r[c];typeof a[f]=="function"&&(s[f]=a[f])}const i=Object.keys(s);let o;try{Xw(s)}catch(c){o=c}return function(f={},m){if(o)throw o;let g=!1;const y={};for(let b=0;b<i.length;b++){const v=i[b],w=s[v],_=f[v],S=w(_,m);if(typeof S>"u")throw m&&m.type,new Error(ft(14));y[v]=S,g=g||S!==_}return g=g||i.length!==Object.keys(f).length,g?y:f}}function io(...a){return a.length===0?r=>r:a.length===1?a[0]:a.reduce((r,s)=>(...i)=>r(s(...i)))}function Qw(...a){return r=>(s,i)=>{const o=r(s,i);let c=()=>{throw new Error(ft(15))};const f={getState:o.getState,dispatch:(g,...y)=>c(g,...y)},m=a.map(g=>g(f));return c=io(...m)(o.dispatch),{...o,dispatch:c}}}function Zw(a){return of(a)&&"type"in a&&typeof a.type=="string"}var Py=Symbol.for("immer-nothing"),I0=Symbol.for("immer-draftable"),yt=Symbol.for("immer-state");function tr(a,...r){throw new Error(`[Immer] minified error nr: ${a}. Full error at: https://bit.ly/3cXEKWf`)}var Bt=Object,qn=Bt.getPrototypeOf,lo="constructor",So="prototype",Rd="configurable",oo="enumerable",Kl="writable",ni="value",zr=a=>!!a&&!!a[yt];function rr(a){return a?Gy(a)||jo(a)||!!a[I0]||!!a[lo]?.[I0]||Eo(a)||ko(a):!1}var Ww=Bt[So][lo].toString(),Y0=new WeakMap;function Gy(a){if(!a||!cf(a))return!1;const r=qn(a);if(r===null||r===Bt[So])return!0;const s=Bt.hasOwnProperty.call(r,lo)&&r[lo];if(s===Object)return!0;if(!Dn(s))return!1;let i=Y0.get(s);return i===void 0&&(i=Function.toString.call(s),Y0.set(s,i)),i===Ww}function di(a,r,s=!0){fi(a)===0?(s?Reflect.ownKeys(a):Bt.keys(a)).forEach(o=>{r(o,a[o],a)}):a.forEach((i,o)=>r(o,i,a))}function fi(a){const r=a[yt];return r?r.type_:jo(a)?1:Eo(a)?2:ko(a)?3:0}var F0=(a,r,s=fi(a))=>s===2?a.has(r):Bt[So].hasOwnProperty.call(a,r),Dd=(a,r,s=fi(a))=>s===2?a.get(r):a[r],co=(a,r,s,i=fi(a))=>{i===2?a.set(r,s):i===3?a.add(s):a[r]=s};function e_(a,r){return a===r?a!==0||1/a===1/r:a!==a&&r!==r}var jo=Array.isArray,Eo=a=>a instanceof Map,ko=a=>a instanceof Set,cf=a=>typeof a=="object",Dn=a=>typeof a=="function",cd=a=>typeof a=="boolean",Dr=a=>a.copy_||a.base_,uf=a=>a.modified_?a.copy_:a.base_;function Ud(a,r){if(Eo(a))return new Map(a);if(ko(a))return new Set(a);if(jo(a))return Array[So].slice.call(a);const s=Gy(a);if(r===!0||r==="class_only"&&!s){const i=Bt.getOwnPropertyDescriptors(a);delete i[yt];let o=Reflect.ownKeys(i);for(let c=0;c<o.length;c++){const f=o[c],m=i[f];m[Kl]===!1&&(m[Kl]=!0,m[Rd]=!0),(m.get||m.set)&&(i[f]={[Rd]:!0,[Kl]:!0,[oo]:m[oo],[ni]:a[f]})}return Bt.create(qn(a),i)}else{const i=qn(a);if(i!==null&&s)return{...a};const o=Bt.create(i);return Bt.assign(o,a)}}function df(a,r=!1){return No(a)||zr(a)||!rr(a)||(fi(a)>1&&Bt.defineProperties(a,{set:Ml,add:Ml,clear:Ml,delete:Ml}),Bt.freeze(a),r&&di(a,(s,i)=>{df(i,!0)},!1)),a}function t_(){tr(2)}var Ml={[ni]:t_};function No(a){return a===null||!cf(a)?!0:Bt.isFrozen(a)}var uo="MapSet",Md="Patches",Iy={};function $n(a){const r=Iy[a];return r||tr(0,a),r}var r_=a=>!!Iy[a],si,Yy=()=>si,a_=(a,r)=>({drafts_:[],parent_:a,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:r_(uo)?$n(uo):void 0});function K0(a,r){r&&(a.patchPlugin_=$n(Md),a.patches_=[],a.inversePatches_=[],a.patchListener_=r)}function zd(a){Bd(a),a.drafts_.forEach(n_),a.drafts_=null}function Bd(a){a===si&&(si=a.parent_)}var X0=a=>si=a_(si,a);function n_(a){const r=a[yt];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function J0(a,r){r.unfinalizedDrafts_=r.drafts_.length;const s=r.drafts_[0];if(a!==void 0&&a!==s){s[yt].modified_&&(zd(r),tr(4)),rr(a)&&(a=Q0(r,a));const{patchPlugin_:o}=r;o&&o.generateReplacementPatches_(s[yt].base_,a,r)}else a=Q0(r,s);return s_(r,a,!0),zd(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),a!==Py?a:void 0}function Q0(a,r){if(No(r))return r;const s=r[yt];if(!s)return ff(r,a.handledSet_,a);if(!To(s,a))return r;if(!s.modified_)return s.base_;if(!s.finalized_){const{callbacks_:i}=s;if(i)for(;i.length>0;)i.pop()(a);Xy(s,a)}return s.copy_}function s_(a,r,s=!1){!a.parent_&&a.immer_.autoFreeze_&&a.canAutoFreeze_&&df(r,s)}function Fy(a){a.finalized_=!0,a.scope_.unfinalizedDrafts_--}var To=(a,r)=>a.scope_===r,i_=[];function Ky(a,r,s,i){const o=Dr(a),c=a.type_;if(i!==void 0&&Dd(o,i,c)===r){co(o,i,s,c);return}if(!a.draftLocations_){const m=a.draftLocations_=new Map;di(o,(g,y)=>{if(zr(y)){const b=m.get(y)||[];b.push(g),m.set(y,b)}})}const f=a.draftLocations_.get(r)??i_;for(const m of f)co(o,m,s,c)}function l_(a,r,s){a.callbacks_.push(function(o){const c=r;if(!c||!To(c,o))return;o.mapSetPlugin_?.fixSetContents(c);const f=uf(c);Ky(a,c.draft_??c,f,s),Xy(c,o)})}function Xy(a,r){if(a.modified_&&!a.finalized_&&(a.type_===3||(a.assigned_?.size??0)>0)){const{patchPlugin_:i}=r;if(i){const o=i.getPath(a);o&&i.generatePatches_(a,o,r)}Fy(a)}}function o_(a,r,s){const{scope_:i}=a;if(zr(s)){const o=s[yt];To(o,i)&&o.callbacks_.push(function(){Xl(a);const f=uf(o);Ky(a,s,f,r)})}else rr(s)&&a.callbacks_.push(function(){const c=Dr(a);Dd(c,r,a.type_)===s&&i.drafts_.length>1&&(a.assigned_.get(r)??!1)===!0&&a.copy_&&ff(Dd(a.copy_,r,a.type_),i.handledSet_,i)})}function ff(a,r,s){return!s.immer_.autoFreeze_&&s.unfinalizedDrafts_<1||zr(a)||r.has(a)||!rr(a)||No(a)||(r.add(a),di(a,(i,o)=>{if(zr(o)){const c=o[yt];if(To(c,s)){const f=uf(c);co(a,i,f,a.type_),Fy(c)}}else rr(o)&&ff(o,r,s)})),a}function c_(a,r){const s=jo(a),i={type_:s?1:0,scope_:r?r.scope_:Yy(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:r,base_:a,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=i,c=hf;s&&(o=[i],c=ii);const{revoke:f,proxy:m}=Proxy.revocable(o,c);return i.draft_=m,i.revoke_=f,[m,i]}var hf={get(a,r){if(r===yt)return a;const s=Dr(a);if(!F0(s,r,a.type_))return u_(a,s,r);const i=s[r];if(a.finalized_||!rr(i))return i;if(i===ud(a.base_,r)){Xl(a);const o=a.type_===1?+r:r,c=qd(a.scope_,i,a,o);return a.copy_[o]=c}return i},has(a,r){return r in Dr(a)},ownKeys(a){return Reflect.ownKeys(Dr(a))},set(a,r,s){const i=Jy(Dr(a),r);if(i?.set)return i.set.call(a.draft_,s),!0;if(!a.modified_){const o=ud(Dr(a),r),c=o?.[yt];if(c&&c.base_===s)return a.copy_[r]=s,a.assigned_.set(r,!1),!0;if(e_(s,o)&&(s!==void 0||F0(a.base_,r,a.type_)))return!0;Xl(a),Ld(a)}return a.copy_[r]===s&&(s!==void 0||r in a.copy_)||Number.isNaN(s)&&Number.isNaN(a.copy_[r])||(a.copy_[r]=s,a.assigned_.set(r,!0),o_(a,r,s)),!0},deleteProperty(a,r){return Xl(a),ud(a.base_,r)!==void 0||r in a.base_?(a.assigned_.set(r,!1),Ld(a)):a.assigned_.delete(r),a.copy_&&delete a.copy_[r],!0},getOwnPropertyDescriptor(a,r){const s=Dr(a),i=Reflect.getOwnPropertyDescriptor(s,r);return i&&{[Kl]:!0,[Rd]:a.type_!==1||r!=="length",[oo]:i[oo],[ni]:s[r]}},defineProperty(){tr(11)},getPrototypeOf(a){return qn(a.base_)},setPrototypeOf(){tr(12)}},ii={};di(hf,(a,r)=>{ii[a]=function(){const s=arguments;return s[0]=s[0][0],r.apply(this,s)}});ii.deleteProperty=function(a,r){return ii.set.call(this,a,r,void 0)};ii.set=function(a,r,s){return hf.set.call(this,a[0],r,s,a[0])};function ud(a,r){const s=a[yt];return(s?Dr(s):a)[r]}function u_(a,r,s){const i=Jy(r,s);return i?ni in i?i[ni]:i.get?.call(a.draft_):void 0}function Jy(a,r){if(!(r in a))return;let s=qn(a);for(;s;){const i=Object.getOwnPropertyDescriptor(s,r);if(i)return i;s=qn(s)}}function Ld(a){a.modified_||(a.modified_=!0,a.parent_&&Ld(a.parent_))}function Xl(a){a.copy_||(a.assigned_=new Map,a.copy_=Ud(a.base_,a.scope_.immer_.useStrictShallowCopy_))}var d_=class{constructor(a){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,s,i)=>{if(Dn(r)&&!Dn(s)){const c=s;s=r;const f=this;return function(g=c,...y){return f.produce(g,b=>s.call(this,b,...y))}}Dn(s)||tr(6),i!==void 0&&!Dn(i)&&tr(7);let o;if(rr(r)){const c=X0(this),f=qd(c,r,void 0);let m=!0;try{o=s(f),m=!1}finally{m?zd(c):Bd(c)}return K0(c,i),J0(o,c)}else if(!r||!cf(r)){if(o=s(r),o===void 0&&(o=r),o===Py&&(o=void 0),this.autoFreeze_&&df(o,!0),i){const c=[],f=[];$n(Md).generateReplacementPatches_(r,o,{patches_:c,inversePatches_:f}),i(c,f)}return o}else tr(1,r)},this.produceWithPatches=(r,s)=>{if(Dn(r))return(f,...m)=>this.produceWithPatches(f,g=>r(g,...m));let i,o;return[this.produce(r,s,(f,m)=>{i=f,o=m}),i,o]},cd(a?.autoFreeze)&&this.setAutoFreeze(a.autoFreeze),cd(a?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(a.useStrictShallowCopy),cd(a?.useStrictIteration)&&this.setUseStrictIteration(a.useStrictIteration)}createDraft(a){rr(a)||tr(8),zr(a)&&(a=f_(a));const r=X0(this),s=qd(r,a,void 0);return s[yt].isManual_=!0,Bd(r),s}finishDraft(a,r){const s=a&&a[yt];(!s||!s.isManual_)&&tr(9);const{scope_:i}=s;return K0(i,r),J0(void 0,i)}setAutoFreeze(a){this.autoFreeze_=a}setUseStrictShallowCopy(a){this.useStrictShallowCopy_=a}setUseStrictIteration(a){this.useStrictIteration_=a}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(a,r){let s;for(s=r.length-1;s>=0;s--){const o=r[s];if(o.path.length===0&&o.op==="replace"){a=o.value;break}}s>-1&&(r=r.slice(s+1));const i=$n(Md).applyPatches_;return zr(a)?i(a,r):this.produce(a,o=>i(o,r))}};function qd(a,r,s,i){const[o,c]=Eo(r)?$n(uo).proxyMap_(r,s):ko(r)?$n(uo).proxySet_(r,s):c_(r,s);return(s?.scope_??Yy()).drafts_.push(o),c.callbacks_=s?.callbacks_??[],c.key_=i,s&&i!==void 0?l_(s,c,i):c.callbacks_.push(function(g){g.mapSetPlugin_?.fixSetContents(c);const{patchPlugin_:y}=g;c.modified_&&y&&y.generatePatches_(c,[],g)}),o}function f_(a){return zr(a)||tr(10,a),Qy(a)}function Qy(a){if(!rr(a)||No(a))return a;const r=a[yt];let s,i=!0;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,s=Ud(a,r.scope_.immer_.useStrictShallowCopy_),i=r.scope_.immer_.shouldUseStrictIteration()}else s=Ud(a,!0);return di(s,(o,c)=>{co(s,o,Qy(c))},i),r&&(r.finalized_=!1),s}var h_=new d_,Zy=h_.produce;function Wy(a){return({dispatch:s,getState:i})=>o=>c=>typeof c=="function"?c(s,i,a):o(c)}var m_=Wy(),g_=Wy,y_=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?io:io.apply(null,arguments)},p_=a=>a&&typeof a.match=="function";function Ks(a,r){function s(...i){if(r){let o=r(...i);if(!o)throw new Error(Ur(0));return{type:a,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:a,payload:i[0]}}return s.toString=()=>`${a}`,s.type=a,s.match=i=>Zw(i)&&i.type===a,s}var ep=class Gs extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,Gs.prototype)}static get[Symbol.species](){return Gs}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new Gs(...r[0].concat(this)):new Gs(...r.concat(this))}};function Z0(a){return rr(a)?Zy(a,()=>{}):a}function zl(a,r,s){return a.has(r)?a.get(r):a.set(r,s(r)).get(r)}function b_(a){return typeof a=="boolean"}var v_=()=>function(r){const{thunk:s=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:c=!0}=r??{};let f=new ep;return s&&(b_(s)?f.push(m_):f.push(g_(s.extraArgument))),f},x_="RTK_autoBatch",W0=a=>r=>{setTimeout(r,a)},w_=(a={type:"raf"})=>r=>(...s)=>{const i=r(...s);let o=!0,c=!1,f=!1;const m=new Set,g=a.type==="tick"?queueMicrotask:a.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:W0(10):a.type==="callback"?a.queueNotification:W0(a.timeout),y=()=>{f=!1,c&&(c=!1,m.forEach(b=>b()))};return Object.assign({},i,{subscribe(b){const v=()=>o&&b(),w=i.subscribe(v);return m.add(b),()=>{w(),m.delete(b)}},dispatch(b){try{return o=!b?.meta?.[x_],c=!o,c&&(f||(f=!0,g(y))),i.dispatch(b)}finally{o=!0}}})},__=a=>function(s){const{autoBatch:i=!0}=s??{};let o=new ep(a);return i&&o.push(w_(typeof i=="object"?i:void 0)),o};function S_(a){const r=v_(),{reducer:s=void 0,middleware:i,devTools:o=!0,preloadedState:c=void 0,enhancers:f=void 0}=a||{};let m;if(typeof s=="function")m=s;else if(of(s))m=Jw(s);else throw new Error(Ur(1));let g;typeof i=="function"?g=i(r):g=r();let y=io;o&&(y=y_({trace:!1,...typeof o=="object"&&o}));const b=Qw(...g),v=__(b);let w=typeof f=="function"?f(v):v();const _=y(...w);return Vy(m,c,_)}function tp(a){const r={},s=[];let i;const o={addCase(c,f){const m=typeof c=="string"?c:c.type;if(!m)throw new Error(Ur(28));if(m in r)throw new Error(Ur(29));return r[m]=f,o},addAsyncThunk(c,f){return f.pending&&(r[c.pending.type]=f.pending),f.rejected&&(r[c.rejected.type]=f.rejected),f.fulfilled&&(r[c.fulfilled.type]=f.fulfilled),f.settled&&s.push({matcher:c.settled,reducer:f.settled}),o},addMatcher(c,f){return s.push({matcher:c,reducer:f}),o},addDefaultCase(c){return i=c,o}};return a(o),[r,s,i]}function j_(a){return typeof a=="function"}function E_(a,r){let[s,i,o]=tp(r),c;if(j_(a))c=()=>Z0(a());else{const m=Z0(a);c=()=>m}function f(m=c(),g){let y=[s[g.type],...i.filter(({matcher:b})=>b(g)).map(({reducer:b})=>b)];return y.filter(b=>!!b).length===0&&(y=[o]),y.reduce((b,v)=>{if(v)if(zr(b)){const _=v(b,g);return _===void 0?b:_}else{if(rr(b))return Zy(b,w=>v(w,g));{const w=v(b,g);if(w===void 0){if(b===null)return b;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return b},m)}return f.getInitialState=c,f}var k_=(a,r)=>p_(a)?a.match(r):a(r);function N_(...a){return r=>a.some(s=>k_(s,r))}var T_="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",A_=(a=21)=>{let r="",s=a;for(;s--;)r+=T_[Math.random()*64|0];return r},C_=["name","message","stack","code"],dd=class{constructor(a,r){this.payload=a,this.meta=r}_type},ey=class{constructor(a,r){this.payload=a,this.meta=r}_type},O_=a=>{if(typeof a=="object"&&a!==null){const r={};for(const s of C_)typeof a[s]=="string"&&(r[s]=a[s]);return r}return{message:String(a)}},ty="External signal was aborted",Ie=(()=>{function a(r,s,i){const o=Ks(r+"/fulfilled",(g,y,b,v)=>({payload:g,meta:{...v||{},arg:b,requestId:y,requestStatus:"fulfilled"}})),c=Ks(r+"/pending",(g,y,b)=>({payload:void 0,meta:{...b||{},arg:y,requestId:g,requestStatus:"pending"}})),f=Ks(r+"/rejected",(g,y,b,v,w)=>({payload:v,error:(i&&i.serializeError||O_)(g||"Rejected"),meta:{...w||{},arg:b,requestId:y,rejectedWithValue:!!v,requestStatus:"rejected",aborted:g?.name==="AbortError",condition:g?.name==="ConditionError"}}));function m(g,{signal:y}={}){return(b,v,w)=>{const _=i?.idGenerator?i.idGenerator(g):A_(),S=new AbortController;let E,j;function C(T){j=T,S.abort()}y&&(y.aborted?C(ty):y.addEventListener("abort",()=>C(ty),{once:!0}));const D=(async function(){let T;try{let N=i?.condition?.(g,{getState:v,extra:w});if(D_(N)&&(N=await N),N===!1||S.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const M=new Promise((z,K)=>{E=()=>{K({name:"AbortError",message:j||"Aborted"})},S.signal.addEventListener("abort",E)});b(c(_,g,i?.getPendingMeta?.({requestId:_,arg:g},{getState:v,extra:w}))),T=await Promise.race([M,Promise.resolve(s(g,{dispatch:b,getState:v,extra:w,requestId:_,signal:S.signal,abort:C,rejectWithValue:(z,K)=>new dd(z,K),fulfillWithValue:(z,K)=>new ey(z,K)})).then(z=>{if(z instanceof dd)throw z;return z instanceof ey?o(z.payload,_,g,z.meta):o(z,_,g)})])}catch(N){T=N instanceof dd?f(null,_,g,N.payload,N.meta):f(N,_,g)}finally{E&&S.signal.removeEventListener("abort",E)}return i&&!i.dispatchConditionRejection&&f.match(T)&&T.meta.condition||b(T),T})();return Object.assign(D,{abort:C,requestId:_,arg:g,unwrap(){return D.then(R_)}})}}return Object.assign(m,{pending:c,rejected:f,fulfilled:o,settled:N_(f,o),typePrefix:r})}return a.withTypes=()=>a,a})();function R_(a){if(a.meta&&a.meta.rejectedWithValue)throw a.payload;if(a.error)throw a.error;return a.payload}function D_(a){return a!==null&&typeof a=="object"&&typeof a.then=="function"}var U_=Symbol.for("rtk-slice-createasyncthunk");function M_(a,r){return`${a}/${r}`}function z_({creators:a}={}){const r=a?.asyncThunk?.[U_];return function(i){const{name:o,reducerPath:c=o}=i;if(!o)throw new Error(Ur(11));const f=(typeof i.reducers=="function"?i.reducers(L_()):i.reducers)||{},m=Object.keys(f),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(T,P){const N=typeof T=="string"?T:T.type;if(!N)throw new Error(Ur(12));if(N in g.sliceCaseReducersByType)throw new Error(Ur(13));return g.sliceCaseReducersByType[N]=P,y},addMatcher(T,P){return g.sliceMatchers.push({matcher:T,reducer:P}),y},exposeAction(T,P){return g.actionCreators[T]=P,y},exposeCaseReducer(T,P){return g.sliceCaseReducersByName[T]=P,y}};m.forEach(T=>{const P=f[T],N={reducerName:T,type:M_(o,T),createNotation:typeof i.reducers=="function"};$_(P)?V_(N,P,y,r):q_(N,P,y)});function b(){const[T={},P=[],N=void 0]=typeof i.extraReducers=="function"?tp(i.extraReducers):[i.extraReducers],M={...T,...g.sliceCaseReducersByType};return E_(i.initialState,z=>{for(let K in M)z.addCase(K,M[K]);for(let K of g.sliceMatchers)z.addMatcher(K.matcher,K.reducer);for(let K of P)z.addMatcher(K.matcher,K.reducer);N&&z.addDefaultCase(N)})}const v=T=>T,w=new Map,_=new WeakMap;let S;function E(T,P){return S||(S=b()),S(T,P)}function j(){return S||(S=b()),S.getInitialState()}function C(T,P=!1){function N(z){let K=z[T];return typeof K>"u"&&P&&(K=zl(_,N,j)),K}function M(z=v){const K=zl(w,P,()=>new WeakMap);return zl(K,z,()=>{const Z={};for(const[Q,de]of Object.entries(i.selectors??{}))Z[Q]=B_(de,z,()=>zl(_,z,j),P);return Z})}return{reducerPath:T,getSelectors:M,get selectors(){return M(N)},selectSlice:N}}const D={name:o,reducer:E,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:j,...C(c),injectInto(T,{reducerPath:P,...N}={}){const M=P??c;return T.inject({reducerPath:M,reducer:E},N),{...D,...C(M,!0)}}};return D}}function B_(a,r,s,i){function o(c,...f){let m=r(c);return typeof m>"u"&&i&&(m=s()),a(m,...f)}return o.unwrapped=a,o}var Ao=z_();function L_(){function a(r,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...s}}return a.withTypes=()=>a,{reducer(r){return Object.assign({[r.name](...s){return r(...s)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:s}},asyncThunk:a}}function q_({type:a,reducerName:r,createNotation:s},i,o){let c,f;if("reducer"in i){if(s&&!H_(i))throw new Error(Ur(17));c=i.reducer,f=i.prepare}else c=i;o.addCase(a,c).exposeCaseReducer(r,c).exposeAction(r,f?Ks(a,f):Ks(a))}function $_(a){return a._reducerDefinitionType==="asyncThunk"}function H_(a){return a._reducerDefinitionType==="reducerWithPrepare"}function V_({type:a,reducerName:r},s,i,o){if(!o)throw new Error(Ur(18));const{payloadCreator:c,fulfilled:f,pending:m,rejected:g,settled:y,options:b}=s,v=o(a,c,b);i.exposeAction(r,v),f&&i.addCase(v.fulfilled,f),m&&i.addCase(v.pending,m),g&&i.addCase(v.rejected,g),y&&i.addMatcher(v.settled,y),i.exposeCaseReducer(r,{fulfilled:f||Bl,pending:m||Bl,rejected:g||Bl,settled:y||Bl})}function Bl(){}function Ur(a){return`Minified Redux Toolkit error #${a}; visit https://redux-toolkit.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}var Or={},Ll={},$d=function(a,r){return $d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])},$d(a,r)};function rp(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");$d(a,r);function s(){this.constructor=a}a.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}var fo=function(){return fo=Object.assign||function(r){for(var s,i=1,o=arguments.length;i<o;i++){s=arguments[i];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])}return r},fo.apply(this,arguments)};function Pn(a,r){var s={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&r.indexOf(i)<0&&(s[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)r.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(s[i[o]]=a[i[o]]);return s}function ap(a,r,s,i){var o=arguments.length,c=o<3?r:i===null?i=Object.getOwnPropertyDescriptor(r,s):i,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(a,r,s,i);else for(var m=a.length-1;m>=0;m--)(f=a[m])&&(c=(o<3?f(c):o>3?f(r,s,c):f(r,s))||c);return o>3&&c&&Object.defineProperty(r,s,c),c}function np(a,r){return function(s,i){r(s,i,a)}}function sp(a,r,s,i,o,c){function f(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var m=i.kind,g=m==="getter"?"get":m==="setter"?"set":"value",y=!r&&a?i.static?a:a.prototype:null,b=r||(y?Object.getOwnPropertyDescriptor(y,i.name):{}),v,w=!1,_=s.length-1;_>=0;_--){var S={};for(var E in i)S[E]=E==="access"?{}:i[E];for(var E in i.access)S.access[E]=i.access[E];S.addInitializer=function(C){if(w)throw new TypeError("Cannot add initializers after decoration has completed");c.push(f(C||null))};var j=(0,s[_])(m==="accessor"?{get:b.get,set:b.set}:b[g],S);if(m==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(v=f(j.get))&&(b.get=v),(v=f(j.set))&&(b.set=v),(v=f(j.init))&&o.unshift(v)}else(v=f(j))&&(m==="field"?o.unshift(v):b[g]=v)}y&&Object.defineProperty(y,i.name,b),w=!0}function ip(a,r,s){for(var i=arguments.length>2,o=0;o<r.length;o++)s=i?r[o].call(a,s):r[o].call(a);return i?s:void 0}function lp(a){return typeof a=="symbol"?a:"".concat(a)}function op(a,r,s){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:s?"".concat(s," ",r):r})}function cp(a,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,r)}function W(a,r,s,i){function o(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(b){try{y(i.next(b))}catch(v){f(v)}}function g(b){try{y(i.throw(b))}catch(v){f(v)}}function y(b){b.done?c(b.value):o(b.value).then(m,g)}y((i=i.apply(a,r||[])).next())})}function up(a,r){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,o,c,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=m(0),f.throw=m(1),f.return=m(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(y){return function(b){return g([y,b])}}function g(y){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(s=0)),s;)try{if(i=1,o&&(c=y[0]&2?o.return:y[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,y[1])).done)return c;switch(o=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return s.label++,{value:y[1],done:!1};case 5:s.label++,o=y[1],y=[0];continue;case 7:y=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){s=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){s.label=y[1];break}if(y[0]===6&&s.label<c[1]){s.label=c[1],c=y;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(y);break}c[2]&&s.ops.pop(),s.trys.pop();continue}y=r.call(a,s)}catch(b){y=[6,b],o=0}finally{i=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var Co=Object.create?(function(a,r,s,i){i===void 0&&(i=s);var o=Object.getOwnPropertyDescriptor(r,s);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[s]}}),Object.defineProperty(a,i,o)}):(function(a,r,s,i){i===void 0&&(i=s),a[i]=r[s]});function dp(a,r){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(r,s)&&Co(r,a,s)}function ho(a){var r=typeof Symbol=="function"&&Symbol.iterator,s=r&&a[r],i=0;if(s)return s.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&i>=a.length&&(a=void 0),{value:a&&a[i++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function mf(a,r){var s=typeof Symbol=="function"&&a[Symbol.iterator];if(!s)return a;var i=s.call(a),o,c=[],f;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)c.push(o.value)}catch(m){f={error:m}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(f)throw f.error}}return c}function fp(){for(var a=[],r=0;r<arguments.length;r++)a=a.concat(mf(arguments[r]));return a}function hp(){for(var a=0,r=0,s=arguments.length;r<s;r++)a+=arguments[r].length;for(var i=Array(a),o=0,r=0;r<s;r++)for(var c=arguments[r],f=0,m=c.length;f<m;f++,o++)i[o]=c[f];return i}function mp(a,r,s){if(s||arguments.length===2)for(var i=0,o=r.length,c;i<o;i++)(c||!(i in r))&&(c||(c=Array.prototype.slice.call(r,0,i)),c[i]=r[i]);return a.concat(c||Array.prototype.slice.call(r))}function Hn(a){return this instanceof Hn?(this.v=a,this):new Hn(a)}function gp(a,r,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s.apply(a,r||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),o[Symbol.asyncIterator]=function(){return this},o;function f(_){return function(S){return Promise.resolve(S).then(_,v)}}function m(_,S){i[_]&&(o[_]=function(E){return new Promise(function(j,C){c.push([_,E,j,C])>1||g(_,E)})},S&&(o[_]=S(o[_])))}function g(_,S){try{y(i[_](S))}catch(E){w(c[0][3],E)}}function y(_){_.value instanceof Hn?Promise.resolve(_.value.v).then(b,v):w(c[0][2],_)}function b(_){g("next",_)}function v(_){g("throw",_)}function w(_,S){_(S),c.shift(),c.length&&g(c[0][0],c[0][1])}}function yp(a){var r,s;return r={},i("next"),i("throw",function(o){throw o}),i("return"),r[Symbol.iterator]=function(){return this},r;function i(o,c){r[o]=a[o]?function(f){return(s=!s)?{value:Hn(a[o](f)),done:!1}:c?c(f):f}:c}}function pp(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=a[Symbol.asyncIterator],s;return r?r.call(a):(a=typeof ho=="function"?ho(a):a[Symbol.iterator](),s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s);function i(c){s[c]=a[c]&&function(f){return new Promise(function(m,g){f=a[c](f),o(m,g,f.done,f.value)})}}function o(c,f,m,g){Promise.resolve(g).then(function(y){c({value:y,done:m})},f)}}function bp(a,r){return Object.defineProperty?Object.defineProperty(a,"raw",{value:r}):a.raw=r,a}var P_=Object.create?(function(a,r){Object.defineProperty(a,"default",{enumerable:!0,value:r})}):function(a,r){a.default=r},Hd=function(a){return Hd=Object.getOwnPropertyNames||function(r){var s=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[s.length]=i);return s},Hd(a)};function vp(a){if(a&&a.__esModule)return a;var r={};if(a!=null)for(var s=Hd(a),i=0;i<s.length;i++)s[i]!=="default"&&Co(r,a,s[i]);return P_(r,a),r}function xp(a){return a&&a.__esModule?a:{default:a}}function wp(a,r,s,i){if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?a!==r||!i:!r.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?i:s==="a"?i.call(a):i?i.value:r.get(a)}function _p(a,r,s,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?a!==r||!o:!r.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(a,s):o?o.value=s:r.set(a,s),s}function Sp(a,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof a=="function"?r===a:a.has(r)}function jp(a,r,s){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var i,o;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=r[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=r[Symbol.dispose],s&&(o=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");o&&(i=function(){try{o.call(this)}catch(c){return Promise.reject(c)}}),a.stack.push({value:r,dispose:i,async:s})}else s&&a.stack.push({async:!0});return r}var G_=typeof SuppressedError=="function"?SuppressedError:function(a,r,s){var i=new Error(s);return i.name="SuppressedError",i.error=a,i.suppressed=r,i};function Ep(a){function r(c){a.error=a.hasError?new G_(c,a.error,"An error was suppressed during disposal."):c,a.hasError=!0}var s,i=0;function o(){for(;s=a.stack.pop();)try{if(!s.async&&i===1)return i=0,a.stack.push(s),Promise.resolve().then(o);if(s.dispose){var c=s.dispose.call(s.value);if(s.async)return i|=2,Promise.resolve(c).then(o,function(f){return r(f),o()})}else i|=1}catch(f){r(f)}if(i===1)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return o()}function kp(a,r){return typeof a=="string"&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,i,o,c,f){return i?r?".jsx":".js":o&&(!c||!f)?s:o+c+"."+f.toLowerCase()+"js"}):a}const I_={__extends:rp,__assign:fo,__rest:Pn,__decorate:ap,__param:np,__esDecorate:sp,__runInitializers:ip,__propKey:lp,__setFunctionName:op,__metadata:cp,__awaiter:W,__generator:up,__createBinding:Co,__exportStar:dp,__values:ho,__read:mf,__spread:fp,__spreadArrays:hp,__spreadArray:mp,__await:Hn,__asyncGenerator:gp,__asyncDelegator:yp,__asyncValues:pp,__makeTemplateObject:bp,__importStar:vp,__importDefault:xp,__classPrivateFieldGet:wp,__classPrivateFieldSet:_p,__classPrivateFieldIn:Sp,__addDisposableResource:jp,__disposeResources:Ep,__rewriteRelativeImportExtension:kp},Y_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:jp,get __assign(){return fo},__asyncDelegator:yp,__asyncGenerator:gp,__asyncValues:pp,__await:Hn,__awaiter:W,__classPrivateFieldGet:wp,__classPrivateFieldIn:Sp,__classPrivateFieldSet:_p,__createBinding:Co,__decorate:ap,__disposeResources:Ep,__esDecorate:sp,__exportStar:dp,__extends:rp,__generator:up,__importDefault:xp,__importStar:vp,__makeTemplateObject:bp,__metadata:cp,__param:np,__propKey:lp,__read:mf,__rest:Pn,__rewriteRelativeImportExtension:kp,__runInitializers:ip,__setFunctionName:op,__spread:fp,__spreadArray:mp,__spreadArrays:hp,__values:ho,default:I_},Symbol.toStringTag,{value:"Module"})),F_=a=>a?(...r)=>a(...r):(...r)=>fetch(...r);let Oo=class extends Error{constructor(r,s="FunctionsError",i){super(r),this.name=s,this.context=i}},Np=class extends Oo{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}},Vd=class extends Oo{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}},Pd=class extends Oo{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}};var mo;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(mo||(mo={}));class K_{constructor(r,{headers:s={},customFetch:i,region:o=mo.Any}={}){this.url=r,this.headers=s,this.region=o,this.fetch=F_(i)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return W(this,arguments,void 0,function*(s,i={}){var o;let c,f;try{const{headers:m,method:g,body:y,signal:b,timeout:v}=i;let w={},{region:_}=i;_||(_=this.region);const S=new URL(`${this.url}/${s}`);_&&_!=="any"&&(w["x-region"]=_,S.searchParams.set("forceFunctionRegion",_));let E;y&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",E=y):typeof y=="string"?(w["Content-Type"]="text/plain",E=y):typeof FormData<"u"&&y instanceof FormData?E=y:(w["Content-Type"]="application/json",E=JSON.stringify(y)):E=y;let j=b;v&&(f=new AbortController,c=setTimeout(()=>f.abort(),v),b?(j=f.signal,b.addEventListener("abort",()=>f.abort())):j=f.signal);const C=yield this.fetch(S.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),m),body:E,signal:j}).catch(N=>{throw new Np(N)}),D=C.headers.get("x-relay-error");if(D&&D==="true")throw new Vd(C);if(!C.ok)throw new Pd(C);let T=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),P;return T==="application/json"?P=yield C.json():T==="application/octet-stream"||T==="application/pdf"?P=yield C.blob():T==="text/event-stream"?P=C:T==="multipart/form-data"?P=yield C.formData():P=yield C.text(),{data:P,error:null,response:C}}catch(m){return{data:null,error:m,response:m instanceof Pd||m instanceof Vd?m.context:void 0}}finally{c&&clearTimeout(c)}})}}const X_=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return mo},FunctionsClient:K_,FunctionsError:Oo,FunctionsFetchError:Np,FunctionsHttpError:Pd,FunctionsRelayError:Vd},Symbol.toStringTag,{value:"Module"})),Tp=ui(X_);var mt={};const Gn=ui(Y_);var ql={},$l={},Hl={},Vl={},Pl={},Gl={},ry;function Ap(){if(ry)return Gl;ry=1,Object.defineProperty(Gl,"__esModule",{value:!0});class a extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Gl.default=a,Gl}var ay;function Cp(){if(ay)return Pl;ay=1,Object.defineProperty(Pl,"__esModule",{value:!0});const r=Gn.__importDefault(Ap());let s=class{constructor(o){var c,f;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(c=o.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=o.signal,this.isMaybeSingle=(f=o.isMaybeSingle)!==null&&f!==void 0?f:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=new Headers(this.headers),this.headers.set(o,c),this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let m=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,b,v,w;let _=null,S=null,E=null,j=g.status,C=g.statusText;if(g.ok){if(this.method!=="HEAD"){const N=await g.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?S=N:S=JSON.parse(N))}const T=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),P=(v=g.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");T&&P&&P.length>1&&(E=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(_={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,E=null,j=406,C="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const T=await g.text();try{_=JSON.parse(T),Array.isArray(_)&&g.status===404&&(S=[],_=null,j=200,C="OK")}catch{g.status===404&&T===""?(j=204,C="No Content"):_={message:T}}if(_&&this.isMaybeSingle&&(!((w=_?.details)===null||w===void 0)&&w.includes("0 rows"))&&(_=null,j=200,C="OK"),_&&this.shouldThrowOnError)throw new r.default(_)}return{error:_,data:S,count:E,status:j,statusText:C}});return this.shouldThrowOnError||(m=m.catch(g=>{var y,b,v,w,_,S;let E="";const j=g?.cause;if(j){const C=(y=j?.message)!==null&&y!==void 0?y:"",D=(b=j?.code)!==null&&b!==void 0?b:"";E=`${(v=g?.name)!==null&&v!==void 0?v:"FetchError"}: ${g?.message}`,E+=`

Caused by: ${(w=j?.name)!==null&&w!==void 0?w:"Error"}: ${C}`,D&&(E+=` (${D})`),j?.stack&&(E+=`
${j.stack}`)}else E=(_=g?.stack)!==null&&_!==void 0?_:"";return{error:{message:`${(S=g?.name)!==null&&S!==void 0?S:"FetchError"}: ${g?.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(o,c)}returns(){return this}overrideTypes(){return this}};return Pl.default=s,Pl}var ny;function Op(){if(ny)return Vl;ny=1,Object.defineProperty(Vl,"__esModule",{value:!0});const r=Gn.__importDefault(Cp());let s=class extends r.default{select(o){let c=!1;const f=(o??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:c=!0,nullsFirst:f,foreignTable:m,referencedTable:g=m}={}){const y=g?`${g}.order`:"order",b=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${b?`${b},`:""}${o}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:f=c}={}){const m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,c,{foreignTable:f,referencedTable:m=f}={}){const g=typeof m>"u"?"offset":`${m}.offset`,y=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${o}`),this.url.searchParams.set(y,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:c=!1,settings:f=!1,buffers:m=!1,wal:g=!1,format:y="text"}={}){var b;const v=[o?"analyze":null,c?"verbose":null,f?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),w=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${w}"; options=${v};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}};return Vl.default=s,Vl}var sy;function gf(){if(sy)return Hl;sy=1,Object.defineProperty(Hl,"__esModule",{value:!0});const r=Gn.__importDefault(Op()),s=new RegExp("[,()]");let i=class extends r.default{eq(c,f){return this.url.searchParams.append(c,`eq.${f}`),this}neq(c,f){return this.url.searchParams.append(c,`neq.${f}`),this}gt(c,f){return this.url.searchParams.append(c,`gt.${f}`),this}gte(c,f){return this.url.searchParams.append(c,`gte.${f}`),this}lt(c,f){return this.url.searchParams.append(c,`lt.${f}`),this}lte(c,f){return this.url.searchParams.append(c,`lte.${f}`),this}like(c,f){return this.url.searchParams.append(c,`like.${f}`),this}likeAllOf(c,f){return this.url.searchParams.append(c,`like(all).{${f.join(",")}}`),this}likeAnyOf(c,f){return this.url.searchParams.append(c,`like(any).{${f.join(",")}}`),this}ilike(c,f){return this.url.searchParams.append(c,`ilike.${f}`),this}ilikeAllOf(c,f){return this.url.searchParams.append(c,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(c,f){return this.url.searchParams.append(c,`ilike(any).{${f.join(",")}}`),this}regexMatch(c,f){return this.url.searchParams.append(c,`match.${f}`),this}regexIMatch(c,f){return this.url.searchParams.append(c,`imatch.${f}`),this}is(c,f){return this.url.searchParams.append(c,`is.${f}`),this}isDistinct(c,f){return this.url.searchParams.append(c,`isdistinct.${f}`),this}in(c,f){const m=Array.from(new Set(f)).map(g=>typeof g=="string"&&s.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(c,`in.(${m})`),this}contains(c,f){return typeof f=="string"?this.url.searchParams.append(c,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(c,`cs.{${f.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(f)}`),this}containedBy(c,f){return typeof f=="string"?this.url.searchParams.append(c,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(c,`cd.{${f.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(f)}`),this}rangeGt(c,f){return this.url.searchParams.append(c,`sr.${f}`),this}rangeGte(c,f){return this.url.searchParams.append(c,`nxl.${f}`),this}rangeLt(c,f){return this.url.searchParams.append(c,`sl.${f}`),this}rangeLte(c,f){return this.url.searchParams.append(c,`nxr.${f}`),this}rangeAdjacent(c,f){return this.url.searchParams.append(c,`adj.${f}`),this}overlaps(c,f){return typeof f=="string"?this.url.searchParams.append(c,`ov.${f}`):this.url.searchParams.append(c,`ov.{${f.join(",")}}`),this}textSearch(c,f,{config:m,type:g}={}){let y="";g==="plain"?y="pl":g==="phrase"?y="ph":g==="websearch"&&(y="w");const b=m===void 0?"":`(${m})`;return this.url.searchParams.append(c,`${y}fts${b}.${f}`),this}match(c){return Object.entries(c).forEach(([f,m])=>{this.url.searchParams.append(f,`eq.${m}`)}),this}not(c,f,m){return this.url.searchParams.append(c,`not.${f}.${m}`),this}or(c,{foreignTable:f,referencedTable:m=f}={}){const g=m?`${m}.or`:"or";return this.url.searchParams.append(g,`(${c})`),this}filter(c,f,m){return this.url.searchParams.append(c,`${f}.${m}`),this}};return Hl.default=i,Hl}var iy;function Rp(){if(iy)return $l;iy=1,Object.defineProperty($l,"__esModule",{value:!0});const r=Gn.__importDefault(gf());let s=class{constructor(o,{headers:c={},schema:f,fetch:m}){this.url=o,this.headers=new Headers(c),this.schema=f,this.fetch=m}select(o,c){const{head:f=!1,count:m}=c??{},g=f?"HEAD":"GET";let y=!1;const b=(o??"*").split("").map(v=>/\s/.test(v)&&!y?"":(v==='"'&&(y=!y),v)).join("");return this.url.searchParams.set("select",b),m&&this.headers.append("Prefer",`count=${m}`),new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:c,defaultToNull:f=!0}={}){var m;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((b,v)=>b.concat(Object.keys(v)),[]);if(y.length>0){const b=[...new Set(y)].map(v=>`"${v}"`);this.url.searchParams.set("columns",b.join(","))}}return new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(o,{onConflict:c,ignoreDuplicates:f=!1,count:m,defaultToNull:g=!0}={}){var y;const b="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const v=o.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(v.length>0){const w=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new r.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(o,{count:c}={}){var f;const m="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:o}={}){var c;const f="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};return $l.default=s,$l}var ly;function J_(){if(ly)return ql;ly=1,Object.defineProperty(ql,"__esModule",{value:!0});const a=Gn,r=a.__importDefault(Rp()),s=a.__importDefault(gf());let i=class Dp{constructor(c,{headers:f={},schema:m,fetch:g}={}){this.url=c,this.headers=new Headers(f),this.schemaName=m,this.fetch=g}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${c}`);return new r.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new Dp(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:m=!1,get:g=!1,count:y}={}){var b;let v;const w=new URL(`${this.url}/rpc/${c}`);let _;m||g?(v=m?"HEAD":"GET",Object.entries(f).filter(([E,j])=>j!==void 0).map(([E,j])=>[E,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([E,j])=>{w.searchParams.append(E,j)})):(v="POST",_=f);const S=new Headers(this.headers);return y&&S.set("Prefer",`count=${y}`),new s.default({method:v,url:w,headers:S,schema:this.schemaName,body:_,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}};return ql.default=i,ql}var oy;function Up(){if(oy)return mt;oy=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.PostgrestError=mt.PostgrestBuilder=mt.PostgrestTransformBuilder=mt.PostgrestFilterBuilder=mt.PostgrestQueryBuilder=mt.PostgrestClient=void 0;const a=Gn,r=a.__importDefault(J_());mt.PostgrestClient=r.default;const s=a.__importDefault(Rp());mt.PostgrestQueryBuilder=s.default;const i=a.__importDefault(gf());mt.PostgrestFilterBuilder=i.default;const o=a.__importDefault(Op());mt.PostgrestTransformBuilder=o.default;const c=a.__importDefault(Cp());mt.PostgrestBuilder=c.default;const f=a.__importDefault(Ap());return mt.PostgrestError=f.default,mt.default={PostgrestClient:r.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:f.default},mt}class Mp{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const i=this.getWebSocketConstructor();return new i(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Q_="2.87.1",Z_=`realtime-js/${Q_}`,zp="1.0.0",W_="2.0.0",cy=zp,Gd=1e4,eS=1e3,tS=100;var $a;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})($a||($a={}));var Ze;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(Ze||(Ze={}));var er;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(er||(er={}));var Id;(function(a){a.websocket="websocket"})(Id||(Id={}));var Ha;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Ha||(Ha={}));class rS{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,s){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(r));let i=[r.join_ref,r.ref,r.topic,r.event,r.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(r){var s;return this._isArrayBuffer((s=r.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var s,i;const o=(i=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(r){var s,i;const o=(i=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(r,s,i){var o,c;const f=r.topic,m=(o=r.ref)!==null&&o!==void 0?o:"",g=(c=r.join_ref)!==null&&c!==void 0?c:"",y=r.payload.event,b=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},v=Object.keys(b).length===0?"":JSON.stringify(b);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+f.length+y.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+w);let S=new DataView(_),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,g.length),S.setUint8(E++,m.length),S.setUint8(E++,f.length),S.setUint8(E++,y.length),S.setUint8(E++,v.length),S.setUint8(E++,s),Array.from(g,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(m,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(f,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(y,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(v,C=>S.setUint8(E++,C.charCodeAt(0)));var j=new Uint8Array(_.byteLength+i.byteLength);return j.set(new Uint8Array(_),0),j.set(new Uint8Array(i),_.byteLength),j.buffer}decode(r,s){if(this._isArrayBuffer(r)){let i=this._binaryDecode(r);return s(i)}if(typeof r=="string"){const i=JSON.parse(r),[o,c,f,m,g]=i;return s({join_ref:o,ref:c,topic:f,event:m,payload:g})}return s({})}_binaryDecode(r){const s=new DataView(r),i=s.getUint8(0),o=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,s,o)}}_decodeUserBroadcast(r,s,i){const o=s.getUint8(1),c=s.getUint8(2),f=s.getUint8(3),m=s.getUint8(4);let g=this.HEADER_LENGTH+4;const y=i.decode(r.slice(g,g+o));g=g+o;const b=i.decode(r.slice(g,g+c));g=g+c;const v=i.decode(r.slice(g,g+f));g=g+f;const w=r.slice(g,r.byteLength),_=m===this.JSON_ENCODING?JSON.parse(i.decode(w)):w,S={type:this.BROADCAST_EVENT,event:b,payload:_};return f>0&&(S.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(r){var s;return r instanceof ArrayBuffer||((s=r?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(r,s){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([i])=>s.includes(i)))}}class Bp{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Me||(Me={}));const uy=(a,r,s={})=>{var i;const o=(i=s.skipTypes)!==null&&i!==void 0?i:[];return r?Object.keys(r).reduce((c,f)=>(c[f]=aS(f,a,r,o),c),{}):{}},aS=(a,r,s,i)=>{const o=r.find(m=>m.name===a),c=o?.type,f=s[a];return c&&!i.includes(c)?Lp(c,f):Yd(f)},Lp=(a,r)=>{if(a.charAt(0)==="_"){const s=a.slice(1,a.length);return lS(r,s)}switch(a){case Me.bool:return nS(r);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return sS(r);case Me.json:case Me.jsonb:return iS(r);case Me.timestamp:return oS(r);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return Yd(r);default:return Yd(r)}},Yd=a=>a,nS=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},sS=a=>{if(typeof a=="string"){const r=parseFloat(a);if(!Number.isNaN(r))return r}return a},iS=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(r){return console.log(`JSON parse error: ${r}`),a}return a},lS=(a,r)=>{if(typeof a!="string")return a;const s=a.length-1,i=a[s];if(a[0]==="{"&&i==="}"){let c;const f=a.slice(1,s);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(m=>Lp(r,m))}return a},oS=a=>typeof a=="string"?a.replace(" ","T"):a,qp=a=>{const r=new URL(a);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class fd{constructor(r,s,i={},o=Gd){this.channel=r,this.event=s,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var i;return this._hasReceived(r)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(i=>i.status===r).forEach(i=>i.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Fd;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Fd||(Fd={}));let $p=class Jl{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jl.syncState(this.state,o,c,f),this.pendingDiffs.forEach(g=>{this.state=Jl.syncDiff(this.state,g,c,f)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},o=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Jl.syncDiff(this.state,o,c,f),m())}),this.onJoin((o,c,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:f})}),this.onLeave((o,c,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,i,o){const c=this.cloneDeep(r),f=this.transformState(s),m={},g={};return this.map(c,(y,b)=>{f[y]||(g[y]=b)}),this.map(f,(y,b)=>{const v=c[y];if(v){const w=b.map(j=>j.presence_ref),_=v.map(j=>j.presence_ref),S=b.filter(j=>_.indexOf(j.presence_ref)<0),E=v.filter(j=>w.indexOf(j.presence_ref)<0);S.length>0&&(m[y]=S),E.length>0&&(g[y]=E)}else m[y]=b}),this.syncDiff(c,{joins:m,leaves:g},i,o)}static syncDiff(r,s,i,o){const{joins:c,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(c,(m,g)=>{var y;const b=(y=r[m])!==null&&y!==void 0?y:[];if(r[m]=this.cloneDeep(g),b.length>0){const v=r[m].map(_=>_.presence_ref),w=b.filter(_=>v.indexOf(_.presence_ref)<0);r[m].unshift(...w)}i(m,b,g)}),this.map(f,(m,g)=>{let y=r[m];if(!y)return;const b=g.map(v=>v.presence_ref);y=y.filter(v=>b.indexOf(v.presence_ref)<0),r[m]=y,o(m,y,g),y.length===0&&delete r[m]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(i=>s(i,r[i]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,i)=>{const o=r[i];return"metas"in o?s[i]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[i]=o,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Kd;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Kd||(Kd={}));var zn;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(zn||(zn={}));var cr;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(cr||(cr={}));const cS=Ze;let Hp=class Is{constructor(r,s={config:{}},i){var o,c;if(this.topic=r,this.params=s,this.socket=i,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new fd(this,er.join,this.params,this.timeout),this.rejoinTimer=new Bp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(er.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new $p(this),this.broadcastEndpointURL=qp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,s=this.timeout){var i,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Ze.closed){const{config:{broadcast:f,presence:m,private:g}}=this.params,y=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&o!==void 0?o:[],b=!!this.bindings[zn.PRESENCE]&&this.bindings[zn.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,v={},w={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>r?.(cr.CHANNEL_ERROR,_)),this._onClose(()=>r?.(cr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:_})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){r?.(cr.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,j=(S=E?.length)!==null&&S!==void 0?S:0,C=[];for(let D=0;D<j;D++){const T=E[D],{filter:{event:P,schema:N,table:M,filter:z}}=T,K=_&&_[D];if(K&&K.event===P&&Is.isFilterValueEqual(K.schema,N)&&Is.isFilterValueEqual(K.table,M)&&Is.isFilterValueEqual(K.filter,z))C.push(Object.assign(Object.assign({},T),{id:K.id}));else{this.unsubscribe(),this.state=Ze.errored,r?.(cr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,r&&r(cr.SUBSCRIBED);return}}).receive("error",_=>{this.state=Ze.errored,r?.(cr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{r?.(cr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,i){return this.state===Ze.joined&&r===zn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,s,i)}async httpSend(r,s,i={}){var o;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const y=await m.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(r,s={}){var i,o;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:f}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=y.body)===null||o===void 0?void 0:o.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,m,g;const y=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ze.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(er.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new fd(this,er.leave,{},r),i.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ze.closed,this.bindings={}}async _fetchWithTimeout(r,s,i){const o=new AbortController,c=setTimeout(()=>o.abort(),i),f=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(c),f}_push(r,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new fd(this,r,s,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>tS){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,i){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,i){var o,c;const f=r.toLocaleLowerCase(),{close:m,error:g,leave:y,join:b}=er;if(i&&[m,g,y,b].indexOf(f)>=0&&i!==this._joinRef())return;let w=this._onMessage(f,s,i);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var S,E,j;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((j=(E=_.filter)===null||E===void 0?void 0:E.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===f}).map(_=>_.callback(w,i)):(c=this.bindings[f])===null||c===void 0||c.filter(_=>{var S,E,j,C,D,T;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in _){const P=_.id,N=(S=_.filter)===null||S===void 0?void 0:S.event;return P&&((E=s.ids)===null||E===void 0?void 0:E.includes(P))&&(N==="*"||N?.toLocaleLowerCase()===((j=s.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const P=(D=(C=_?.filter)===null||C===void 0?void 0:C.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return P==="*"||P===((T=s?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===f}).map(_=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:E,table:j,commit_timestamp:C,type:D,errors:T}=S;w=Object.assign(Object.assign({},{schema:E,table:j,commit_timestamp:C,eventType:D,new:{},old:{},errors:T}),this._getPayloadRecords(S))}_.callback(w,i)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,i){const o=r.toLocaleLowerCase(),c={type:o,filter:s,callback:i};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(r,s){const i=r.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&Is.isEqual(o.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const i in r)if(r[i]!==s[i])return!1;return!0}static isFilterValueEqual(r,s){return(r??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(er.close,{},r)}_onError(r){this._on(er.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=uy(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=uy(r.columns,r.old_record)),s}};const hd=()=>{},Il={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uS=[1e3,2e3,5e3,1e4],dS=1e4,fS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let hS=class{constructor(r,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gd,this.transport=null,this.heartbeatIntervalMs=Il.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hd,this.ref=0,this.reconnectTimer=null,this.vsn=cy,this.logger=hd,this.conn=null,this.sendBuffer=[],this.serializer=new rS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${Id.websocket}`,this.httpEndpoint=qp(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Mp.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,i){this.logger(r,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case $a.connecting:return Ha.Connecting;case $a.open:return Ha.Open;case $a.closing:return Ha.Closing;default:return Ha.Closed}}isConnected(){return this.connectionState()===Ha.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const i=`realtime:${r}`,o=this.getChannels().find(c=>c.topic===i);if(o)return o;{const c=new Hp(`realtime:${r}`,s,this);return this.channels.push(c),c}}push(r){const{topic:s,event:i,payload:o,ref:c}=r,f=()=>{this.encode(r,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${s} ${i} (${c})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(eS,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Il.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(i=>i.topic===r&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:c,ref:f}=s,m=f?`(${f})`:"",g=c.status||"";this.log("receive",`${g} ${i} ${o} ${m}`.trim(),c),this.channels.filter(y=>y._isMember(i)).forEach(y=>y._trigger(o,c,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){if(this.conn){if(this.conn.readyState===$a.open||this.conn.readyState===$a.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(er.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const i=r.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${r}${i}${o}`}_workerObjectUrl(r){let s;if(r)s=r;else{const i=new Blob([fS],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s,i=!1;if(r)s=r,i=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),s=this.accessTokenValue}else s=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const c={access_token:s,version:Z_};s&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(er.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(i=>{try{i(s)}catch(o){this.log("error",`error in ${r} callback`,o)}})}catch(i){this.log("error",`error triggering ${r} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Bp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Il.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,i,o,c,f,m,g,y,b,v,w,_;switch(this.transport=(s=r?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=r?.timeout)!==null&&i!==void 0?i:Gd,this.heartbeatIntervalMs=(o=r?.heartbeatIntervalMs)!==null&&o!==void 0?o:Il.HEARTBEAT_INTERVAL,this.worker=(c=r?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=r?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=r?.heartbeatCallback)!==null&&m!==void 0?m:hd,this.vsn=(g=r?.vsn)!==null&&g!==void 0?g:cy,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=r?.reconnectAfterMs)!==null&&y!==void 0?y:(S=>uS[S-1]||dS),this.vsn){case zp:this.encode=(b=r?.encode)!==null&&b!==void 0?b:((S,E)=>E(JSON.stringify(S))),this.decode=(v=r?.decode)!==null&&v!==void 0?v:((S,E)=>E(JSON.parse(S)));break;case W_:this.encode=(w=r?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(_=r?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}};const mS=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:cS,get REALTIME_LISTEN_TYPES(){return zn},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Kd},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Fd},get REALTIME_SUBSCRIBE_STATES(){return cr},RealtimeChannel:Hp,RealtimeClient:hS,RealtimePresence:$p,WebSocketFactory:Mp},Symbol.toStringTag,{value:"Module"})),Vp=ui(mS);class hi extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function qe(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class Pp extends hi{constructor(r,s,i){super(r),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class go extends hi{constructor(r,s){super(r),this.name="StorageUnknownError",this.originalError=s}}const yf=a=>a?(...r)=>a(...r):(...r)=>fetch(...r),gS=()=>Response,Xd=a=>{if(Array.isArray(a))return a.map(s=>Xd(s));if(typeof a=="function"||a!==Object(a))return a;const r={};return Object.entries(a).forEach(([s,i])=>{const o=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[o]=Xd(i)}),r},yS=a=>{if(typeof a!="object"||a===null)return!1;const r=Object.getPrototypeOf(a);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},pS=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a),md=a=>{var r;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(r=a.error)===null||r===void 0?void 0:r.message)||JSON.stringify(a)},bS=(a,r,s)=>W(void 0,void 0,void 0,function*(){const i=yield gS();a instanceof i&&!s?.noResolveJson?a.json().then(o=>{const c=a.status||500,f=o?.statusCode||c+"";r(new Pp(md(o),c,f))}).catch(o=>{r(new go(md(o),o))}):r(new go(md(a),a))}),vS=(a,r,s,i)=>{const o={method:a,headers:r?.headers||{}};return a==="GET"||!i?o:(yS(i)?(o.headers=Object.assign({"Content-Type":"application/json"},r?.headers),o.body=JSON.stringify(i)):o.body=i,r?.duplex&&(o.duplex=r.duplex),Object.assign(Object.assign({},o),s))};function mi(a,r,s,i,o,c){return W(this,void 0,void 0,function*(){return new Promise((f,m)=>{a(s,vS(r,i,o,c)).then(g=>{if(!g.ok)throw g;return i?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>bS(g,m,i))})})}function li(a,r,s,i){return W(this,void 0,void 0,function*(){return mi(a,"GET",r,s,i)})}function Wt(a,r,s,i,o){return W(this,void 0,void 0,function*(){return mi(a,"POST",r,i,o,s)})}function Jd(a,r,s,i,o){return W(this,void 0,void 0,function*(){return mi(a,"PUT",r,i,o,s)})}function xS(a,r,s,i){return W(this,void 0,void 0,function*(){return mi(a,"HEAD",r,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function pf(a,r,s,i,o){return W(this,void 0,void 0,function*(){return mi(a,"DELETE",r,i,o,s)})}class wS{constructor(r,s){this.downloadFn=r,this.shouldThrowOnError=s}then(r,s){return this.execute().then(r,s)}execute(){return W(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}}var Gp;class _S{constructor(r,s){this.downloadFn=r,this.shouldThrowOnError=s,this[Gp]="BlobDownloadBuilder",this.promise=null}asStream(){return new wS(this.downloadFn,this.shouldThrowOnError)}then(r,s){return this.getPromise().then(r,s)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return W(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}}Gp=Symbol.toStringTag;const SS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jS{constructor(r,s={},i,o){this.shouldThrowOnError=!1,this.url=r,this.headers=s,this.bucketId=i,this.fetch=yf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,s,i,o){return W(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},dy),o);let m=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.has("cacheControl")||c.append("cacheControl",f.cacheControl),g&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(g))):(c=i,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!f.duplex&&(f.duplex="half")),o?.headers&&(m=Object.assign(Object.assign({},m),o.headers));const y=this._removeEmptyFolders(s),b=this._getFinalPath(y),v=yield(r=="PUT"?Jd:Wt)(this.fetch,`${this.url}/object/${b}`,c,Object.assign({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:v.Id,fullPath:v.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(qe(c))return{data:null,error:c};throw c}})}upload(r,s,i){return W(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,s,i)})}uploadToSignedUrl(r,s,i,o){return W(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(r),f=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",s);try{let g;const y=Object.assign({upsert:dy.upsert},o),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",y.cacheControl)):(g=i,b["cache-control"]=`max-age=${y.cacheControl}`,b["content-type"]=y.contentType);const v=yield Jd(this.fetch,m.toString(),g,{headers:b});return{data:{path:c,fullPath:v.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(qe(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,s){return W(this,void 0,void 0,function*(){try{let i=this._getFinalPath(r);const o=Object.assign({},this.headers);s?.upsert&&(o["x-upsert"]="true");const c=yield Wt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),f=new URL(this.url+c.url),m=f.searchParams.get("token");if(!m)throw new hi("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}update(r,s,i){return W(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,s,i)})}move(r,s,i){return W(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}copy(r,s,i){return W(this,void 0,void 0,function*(){try{return{data:{path:(yield Wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}createSignedUrl(r,s,i){return W(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r),c=yield Wt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:s},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}createSignedUrls(r,s,i){return W(this,void 0,void 0,function*(){try{const o=yield Wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:r},{headers:this.headers}),c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}download(r,s){const o=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),f=c?`?${c}`:"",m=this._getFinalPath(r),g=()=>li(this.fetch,`${this.url}/${o}/${m}${f}`,{headers:this.headers,noResolveJson:!0});return new _S(g,this.shouldThrowOnError)}info(r){return W(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{const i=yield li(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Xd(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}exists(r){return W(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{return yield xS(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i)&&i instanceof go){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(r,s){const i=this._getFinalPath(r),o=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&o.push(c);const m=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&o.push(g);let y=o.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${y}`)}}}remove(r){return W(this,void 0,void 0,function*(){try{return{data:yield pf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}list(r,s,i){return W(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},SS),s),{prefix:r||""});return{data:yield Wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}listV2(r,s){return W(this,void 0,void 0,function*(){try{const i=Object.assign({},r);return{data:yield Wt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const s=[];return r.width&&s.push(`width=${r.width}`),r.height&&s.push(`height=${r.height}`),r.resize&&s.push(`resize=${r.resize}`),r.format&&s.push(`format=${r.format}`),r.quality&&s.push(`quality=${r.quality}`),s.join("&")}}const Ip="2.87.1",Yp={"X-Client-Info":`storage-js/${Ip}`};class ES{constructor(r,s={},i,o){this.shouldThrowOnError=!1;const c=new URL(r);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yp),s),this.fetch=yf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return W(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(r);return{data:yield li(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}getBucket(r){return W(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}createBucket(r){return W(this,arguments,void 0,function*(s,i={public:!1}){try{return{data:yield Wt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}updateBucket(r,s){return W(this,void 0,void 0,function*(){try{return{data:yield Jd(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}emptyBucket(r){return W(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}deleteBucket(r){return W(this,void 0,void 0,function*(){try{return{data:yield pf(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(r){const s={};return r&&("limit"in r&&(s.limit=String(r.limit)),"offset"in r&&(s.offset=String(r.offset)),r.search&&(s.search=r.search),r.sortColumn&&(s.sortColumn=r.sortColumn),r.sortOrder&&(s.sortOrder=r.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var oi=class extends Error{constructor(a,r){super(a),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&r.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function kS(a,r,s){const i=new URL(r,a);if(s)for(const[o,c]of Object.entries(s))c!==void 0&&i.searchParams.set(o,c);return i.toString()}async function NS(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function TS(a){const r=a.fetchImpl??globalThis.fetch;return{async request({method:s,path:i,query:o,body:c,headers:f}){const m=kS(a.baseUrl,i,o),g=await NS(a.auth),y=await r(m,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...g,...f},body:c?JSON.stringify(c):void 0}),b=await y.text(),v=(y.headers.get("content-type")||"").includes("application/json"),w=v&&b?JSON.parse(b):b;if(!y.ok){const _=v?w:void 0,S=_?.error;throw new oi(S?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:S?.type,icebergCode:S?.code,details:_})}return{status:y.status,headers:y.headers,data:w}}}}function Yl(a){return a.join("")}var AS=class{constructor(a,r=""){this.client=a,this.prefix=r}async listNamespaces(a){const r=a?{parent:Yl(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(a,r){const s={namespace:a.namespace,properties:r?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yl(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yl(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yl(a.namespace)}`}),!0}catch(r){if(r instanceof oi&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(a,r){try{return await this.createNamespace(a,r)}catch(s){if(s instanceof oi&&s.status===409)return;throw s}}};function An(a){return a.join("")}var CS=class{constructor(a,r="",s){this.client=a,this.prefix=r,this.accessDelegation=s}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${An(a.namespace)}/tables`})).data.identifiers}async createTable(a,r){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${An(a.namespace)}/tables`,body:r,headers:s})).data.metadata}async updateTable(a,r){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${An(a.namespace)}/tables/${a.name}`,body:r});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(a,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${An(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(r?.purge??!1)}})}async loadTable(a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${An(a.namespace)}/tables/${a.name}`,headers:r})).data.metadata}async tableExists(a){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${An(a.namespace)}/tables/${a.name}`,headers:r}),!0}catch(s){if(s instanceof oi&&s.status===404)return!1;throw s}}async createTableIfNotExists(a,r){try{return await this.createTable(a,r)}catch(s){if(s instanceof oi&&s.status===409)return await this.loadTable({namespace:a.namespace,name:r.name});throw s}}},OS=class{constructor(a){let r="v1";a.catalogName&&(r+=`/${a.catalogName}`);const s=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=TS({baseUrl:s,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new AS(this.client,r),this.tableOps=new CS(this.client,r,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,r){return this.namespaceOps.createNamespace(a,r)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,r){return this.tableOps.createTable(a,r)}async updateTable(a,r){return this.tableOps.updateTable(a,r)}async dropTable(a,r){await this.tableOps.dropTable(a,r)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,r){return this.namespaceOps.createNamespaceIfNotExists(a,r)}async createTableIfNotExists(a,r){return this.tableOps.createTableIfNotExists(a,r)}};class Fp{constructor(r,s={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yp),s),this.fetch=yf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return W(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}listBuckets(r){return W(this,void 0,void 0,function*(){try{const s=new URLSearchParams;r?.limit!==void 0&&s.set("limit",r.limit.toString()),r?.offset!==void 0&&s.set("offset",r.offset.toString()),r?.sortColumn&&s.set("sortColumn",r.sortColumn),r?.sortOrder&&s.set("sortOrder",r.sortOrder),r?.search&&s.set("search",r.search);const i=s.toString(),o=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield li(this.fetch,o,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}deleteBucket(r){return W(this,void 0,void 0,function*(){try{return{data:yield pf(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}from(r){if(!pS(r))throw new hi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new OS({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:()=>W(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(s,{get(c,f){const m=c[f];return typeof m!="function"?m:(...g)=>W(this,void 0,void 0,function*(){try{return{data:yield m.apply(c,g),error:null}}catch(y){if(i)throw y;return{data:null,error:y}}})}})}}const bf={"X-Client-Info":`storage-js/${Ip}`,"Content-Type":"application/json"};class vf extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Et(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}class Ql extends vf{constructor(r,s,i){super(r),this.name="StorageVectorsApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Kp extends vf{constructor(r,s){super(r),this.name="StorageVectorsUnknownError",this.originalError=s}}var Qd;(function(a){a.InternalError="InternalError",a.S3VectorConflictException="S3VectorConflictException",a.S3VectorNotFoundException="S3VectorNotFoundException",a.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",a.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",a.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Qd||(Qd={}));const Ro=a=>a?(...r)=>a(...r):(...r)=>fetch(...r),RS=()=>Response,Xp=a=>{if(typeof a!="object"||a===null)return!1;const r=Object.getPrototypeOf(a);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},DS=a=>Array.from(new Float32Array(a)),US=(a,r)=>{if(r!==void 0&&a.float32.length!==r)throw new Error(`Vector dimension mismatch: expected ${r}, got ${a.float32.length}`)},fy=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),MS=(a,r,s)=>W(void 0,void 0,void 0,function*(){if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!s?.noResolveJson){const o=a.status||500,c=a;if(typeof c.json=="function")c.json().then(f=>{const m=f?.statusCode||f?.code||o+"";r(new Ql(fy(f),o,m))}).catch(()=>{const f=o+"",m=c.statusText||`HTTP ${o} error`;r(new Ql(m,o,f))});else{const f=o+"",m=c.statusText||`HTTP ${o} error`;r(new Ql(m,o,f))}}else r(new Kp(fy(a),a))}),zS=(a,r,s,i)=>{const o={method:a,headers:r?.headers||{}};return i?(Xp(i)?(o.headers=Object.assign({"Content-Type":"application/json"},r?.headers),o.body=JSON.stringify(i)):o.body=i,Object.assign(Object.assign({},o),s)):o};function BS(a,r,s,i,o,c){return W(this,void 0,void 0,function*(){return new Promise((f,m)=>{a(s,zS(r,i,o,c)).then(g=>{if(!g.ok)throw g;if(i?.noResolveJson)return g;const y=g.headers.get("content-type");return!y||!y.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>MS(g,m,i))})})}function zt(a,r,s,i,o){return W(this,void 0,void 0,function*(){return BS(a,"POST",r,i,o,s)})}class Jp{constructor(r,s={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bf),s),this.fetch=Ro(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return W(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}getIndex(r,s){return W(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:s},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}})}listIndexes(r){return W(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}deleteIndex(r,s){return W(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:s},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}})}}class Qp{constructor(r,s={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bf),s),this.fetch=Ro(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return W(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield zt(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}getVectors(r){return W(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}listVectors(r){return W(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield zt(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}queryVectors(r){return W(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}deleteVectors(r){return W(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield zt(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}}class Zp{constructor(r,s={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bf),s),this.fetch=Ro(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return W(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}getBucket(r){return W(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}listBuckets(){return W(this,arguments,void 0,function*(r={}){try{return{data:yield zt(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}deleteBucket(r){return W(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}})}}class Wp extends Zp{constructor(r,s={}){super(r,s.headers||{},s.fetch)}from(r){return new eb(this.url,this.headers,r,this.fetch)}createBucket(r){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return W(this,void 0,void 0,function*(){return s.createBucket.call(this,r)})}getBucket(r){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return W(this,void 0,void 0,function*(){return s.getBucket.call(this,r)})}listBuckets(){const r=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return W(this,arguments,void 0,function*(s={}){return r.listBuckets.call(this,s)})}deleteBucket(r){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return W(this,void 0,void 0,function*(){return s.deleteBucket.call(this,r)})}}class eb extends Jp{constructor(r,s,i,o){super(r,s,o),this.vectorBucketName=i}createIndex(r){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return W(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return W(this,arguments,void 0,function*(s={}){return r.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return W(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return W(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new tb(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class tb extends Qp{constructor(r,s,i,o,c){super(r,s,c),this.vectorBucketName=i,this.indexName=o}putVectors(r){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return W(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return W(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return W(this,arguments,void 0,function*(s={}){return r.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return W(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return W(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class LS extends ES{constructor(r,s={},i,o){super(r,s,i,o)}from(r){return new jS(this.url,this.headers,r,this.fetch)}get vectors(){return new Wp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Fp(this.url+"/iceberg",this.headers,this.fetch)}}const qS=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Fp,StorageApiError:Pp,StorageClient:LS,StorageError:hi,StorageUnknownError:go,StorageVectorsApiError:Ql,StorageVectorsClient:Wp,StorageVectorsError:vf,get StorageVectorsErrorCode(){return Qd},StorageVectorsUnknownError:Kp,VectorBucketApi:Zp,VectorBucketScope:eb,VectorDataApi:Qp,VectorIndexApi:Jp,VectorIndexScope:tb,isPlainObject:Xp,isStorageError:qe,isStorageVectorsError:Et,normalizeToFloat32:DS,resolveFetch:Ro,resolveResponse:RS,validateVectorDimension:US},Symbol.toStringTag,{value:"Module"})),$S=ui(qS);var gd={},Hs={},hy;function HS(){return hy||(hy=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.version=void 0,Hs.version="2.87.1"),Hs}var my;function VS(){return my||(my=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_REALTIME_OPTIONS=a.DEFAULT_AUTH_OPTIONS=a.DEFAULT_DB_OPTIONS=a.DEFAULT_GLOBAL_OPTIONS=a.DEFAULT_HEADERS=void 0;const r=HS();let s="";typeof Deno<"u"?s="deno":typeof document<"u"?s="web":typeof navigator<"u"&&navigator.product==="ReactNative"?s="react-native":s="node",a.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${s}/${r.version}`},a.DEFAULT_GLOBAL_OPTIONS={headers:a.DEFAULT_HEADERS},a.DEFAULT_DB_OPTIONS={schema:"public"},a.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},a.DEFAULT_REALTIME_OPTIONS={}})(gd)),gd}var yd={},gy;function PS(){return gy||(gy=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fetchWithAuth=a.resolveHeadersConstructor=a.resolveFetch=void 0;const r=o=>o?(...c)=>o(...c):(...c)=>fetch(...c);a.resolveFetch=r;const s=()=>Headers;a.resolveHeadersConstructor=s;const i=(o,c,f)=>{const m=(0,a.resolveFetch)(f),g=(0,a.resolveHeadersConstructor)();return async(y,b)=>{var v;const w=(v=await c())!==null&&v!==void 0?v:o;let _=new g(b?.headers);return _.has("apikey")||_.set("apikey",o),_.has("Authorization")||_.set("Authorization",`Bearer ${w}`),m(y,Object.assign(Object.assign({},b),{headers:_}))}};a.fetchWithAuth=i})(yd)),yd}var Rr={},yy;function GS(){if(yy)return Rr;yy=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.isBrowser=void 0,Rr.uuid=a,Rr.ensureTrailingSlash=r,Rr.applySettingDefaults=i,Rr.validateSupabaseUrl=o;function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var f=Math.random()*16|0,m=c=="x"?f:f&3|8;return m.toString(16)})}function r(c){return c.endsWith("/")?c:c+"/"}const s=()=>typeof window<"u";Rr.isBrowser=s;function i(c,f){var m,g;const{db:y,auth:b,realtime:v,global:w}=c,{db:_,auth:S,realtime:E,global:j}=f,C={db:Object.assign(Object.assign({},_),y),auth:Object.assign(Object.assign({},S),b),realtime:Object.assign(Object.assign({},E),v),storage:{},global:Object.assign(Object.assign(Object.assign({},j),w),{headers:Object.assign(Object.assign({},(m=j?.headers)!==null&&m!==void 0?m:{}),(g=w?.headers)!==null&&g!==void 0?g:{})}),accessToken:async()=>""};return c.accessToken?C.accessToken=c.accessToken:delete C.accessToken,C}function o(c){const f=c?.trim();if(!f)throw new Error("supabaseUrl is required.");if(!f.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r(f))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Rr}var Vs={};const rb="2.87.1",Un=30*1e3,Zd=3,pd=Zd*Un,IS="http://localhost:9999",YS="supabase.auth.token",FS={"X-Client-Info":`gotrue-js/${rb}`},Wd="X-Supabase-Api-Version",ab={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,XS=600*1e3;let Vn=class extends Error{constructor(r,s,i){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}};function re(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}let nb=class extends Vn{constructor(r,s,i){super(r,s,i),this.name="AuthApiError",this.status=s,this.code=i}};function sb(a){return re(a)&&a.name==="AuthApiError"}let da=class extends Vn{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}},Lr=class extends Vn{constructor(r,s,i,o){super(r,i,o),this.name=s,this.status=i}},jt=class extends Lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function ib(a){return re(a)&&a.name==="AuthSessionMissingError"}let Ba=class extends Lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Ys=class extends Lr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}},Fs=class extends Lr{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function lb(a){return re(a)&&a.name==="AuthImplicitGrantRedirectError"}let ef=class extends Lr{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},yo=class extends Lr{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}};function Zl(a){return re(a)&&a.name==="AuthRetryableFetchError"}let tf=class extends Lr{constructor(r,s,i){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}};function JS(a){return re(a)&&a.name==="AuthWeakPasswordError"}let po=class extends Lr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}};const bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),py=` 	
\r=`.split(""),QS=(()=>{const a=new Array(128);for(let r=0;r<a.length;r+=1)a[r]=-1;for(let r=0;r<py.length;r+=1)a[py[r].charCodeAt(0)]=-2;for(let r=0;r<bo.length;r+=1)a[bo[r].charCodeAt(0)]=r;return a})();function by(a,r,s){if(a!==null)for(r.queue=r.queue<<8|a,r.queuedBits+=8;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;s(bo[i]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;s(bo[i]),r.queuedBits-=6}}function ob(a,r,s){const i=QS[a];if(i>-1)for(r.queue=r.queue<<6|i,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function vy(a){const r=[],s=f=>{r.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=f=>{e1(f,i,s)};for(let f=0;f<a.length;f+=1)ob(a.charCodeAt(f),o,c);return r.join("")}function ZS(a,r){if(a<=127){r(a);return}else if(a<=2047){r(192|a>>6),r(128|a&63);return}else if(a<=65535){r(224|a>>12),r(128|a>>6&63),r(128|a&63);return}else if(a<=1114111){r(240|a>>18),r(128|a>>12&63),r(128|a>>6&63),r(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function WS(a,r){for(let s=0;s<a.length;s+=1){let i=a.charCodeAt(s);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(a.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}ZS(i,r)}}function e1(a,r,s){if(r.utf8seq===0){if(a<=127){s(a);return}for(let i=1;i<6;i+=1)if((a>>7-i&1)===0){r.utf8seq=i;break}if(r.utf8seq===2)r.codepoint=a&31;else if(r.utf8seq===3)r.codepoint=a&15;else if(r.utf8seq===4)r.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|a&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function Bn(a){const r=[],s={queue:0,queuedBits:0},i=o=>{r.push(o)};for(let o=0;o<a.length;o+=1)ob(a.charCodeAt(o),s,i);return new Uint8Array(r)}function t1(a){const r=[];return WS(a,s=>r.push(s)),new Uint8Array(r)}function Va(a){const r=[],s={queue:0,queuedBits:0},i=o=>{r.push(o)};return a.forEach(o=>by(o,s,i)),by(null,s,i),r.join("")}function r1(a){return Math.round(Date.now()/1e3)+a}function a1(){return Symbol("auth-callback")}const dt=()=>typeof window<"u"&&typeof document<"u",Ma={tested:!1,writable:!1},cb=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ma.tested)return Ma.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Ma.tested=!0,Ma.writable=!0}catch{Ma.tested=!0,Ma.writable=!1}return Ma.writable};function n1(a){const r={},s=new URL(a);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,c)=>{r[c]=o})}catch{}return s.searchParams.forEach((i,o)=>{r[o]=i}),r}const ub=a=>a?(...r)=>a(...r):(...r)=>fetch(...r),s1=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Mn=async(a,r,s)=>{await a.setItem(r,JSON.stringify(s))},za=async(a,r)=>{const s=await a.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ct=async(a,r)=>{await a.removeItem(r)};class Do{constructor(){this.promise=new Do.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Do.promiseConstructor=Promise;function bd(a){const r=a.split(".");if(r.length!==3)throw new po("Invalid JWT structure");for(let i=0;i<r.length;i++)if(!KS.test(r[i]))throw new po("JWT not in base64url format");return{header:JSON.parse(vy(r[0])),payload:JSON.parse(vy(r[1])),signature:Bn(r[2]),raw:{header:r[0],payload:r[1]}}}async function i1(a){return await new Promise(r=>{setTimeout(()=>r(null),a)})}function l1(a,r){return new Promise((i,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await a(c);if(!r(c,null,f)){i(f);return}}catch(f){if(!r(c,f)){o(f);return}}})()})}function o1(a){return("0"+a.toString(16)).substr(-2)}function c1(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let o="";for(let c=0;c<56;c++)o+=s.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(r),Array.from(r,o1).join("")}async function u1(a){const s=new TextEncoder().encode(a),i=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(i);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function d1(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const s=await u1(a);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cn(a,r,s=!1){const i=c1();let o=i;s&&(o+="/PASSWORD_RECOVERY"),await Mn(a,`${r}-code-verifier`,o);const c=await d1(i);return[c,i===c?"plain":"s256"]}const f1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function h1(a){const r=a.headers.get(Wd);if(!r||!r.match(f1))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function m1(a){if(!a)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(a<=r)throw new Error("JWT has expired")}function g1(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const y1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function On(a){if(!y1.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vd(){const a={};return new Proxy(a,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function p1(a,r){return new Proxy(a,{get:(s,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const c=i.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,o)}return!r.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(s,i,o)}})}function xy(a){return JSON.parse(JSON.stringify(a))}const La=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),b1=[502,503,504];async function wy(a){var r;if(!s1(a))throw new yo(La(a),0);if(b1.includes(a.status))throw new yo(La(a),a.status);let s;try{s=await a.json()}catch(c){throw new da(La(c),c)}let i;const o=h1(a);if(o&&o.getTime()>=ab["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new tf(La(s),a.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(i==="session_not_found")throw new jt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new tf(La(s),a.status,s.weak_password.reasons);throw new nb(La(s),a.status||500,i)}const v1=(a,r,s,i)=>{const o={method:a,headers:r?.headers||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),s))};async function le(a,r,s,i){var o;const c=Object.assign({},i?.headers);c[Wd]||(c[Wd]=ab["2024-01-01"].name),i?.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const f=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(f.redirect_to=i.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await x1(a,r,s+m,{headers:c,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(g):{data:Object.assign({},g),error:null}}async function x1(a,r,s,i,o,c){const f=v1(r,i,o,c);let m;try{m=await a(s,Object.assign({},f))}catch(g){throw console.error(g),new yo(La(g),0)}if(m.ok||await wy(m),i?.noResolveJson)return m;try{return await m.json()}catch(g){await wy(g)}}function Zt(a){var r;let s=null;S1(a)&&(s=Object.assign({},a),a.expires_at||(s.expires_at=r1(a.expires_in)));const i=(r=a.user)!==null&&r!==void 0?r:a;return{data:{session:s,user:i},error:null}}function _y(a){const r=Zt(a);return!r.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(r.data.weak_password=a.weak_password),r}function fa(a){var r;return{data:{user:(r=a.user)!==null&&r!==void 0?r:a},error:null}}function w1(a){return{data:a,error:null}}function _1(a){const{action_link:r,email_otp:s,hashed_token:i,redirect_to:o,verification_type:c}=a,f=Pn(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:s,hashed_token:i,redirect_to:o,verification_type:c},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function Sy(a){return a}function S1(a){return a.access_token&&a.refresh_token&&a.expires_in}const Wl=["global","local","others"];let xf=class{constructor({url:r="",headers:s={},fetch:i}){this.url=r,this.headers=s,this.fetch=ub(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,s=Wl[0]){if(Wl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wl.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}async inviteUserByEmail(r,s={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:fa})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async generateLink(r){try{const{options:s}=r,i=Pn(r,["options"]),o=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:_1,redirectTo:s?.redirectTo})}catch(s){if(re(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:fa})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,i,o,c,f,m,g;try{const y={nextPage:null,lastPage:0,total:0},b=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=r?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=r?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Sy});if(b.error)throw b.error;const v=await b.json(),w=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);y[`${j}Page`]=E}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},v),y),error:null}}catch(y){if(re(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){On(r);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:fa})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){On(r);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:fa})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async deleteUser(r,s=!1){On(r);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:fa})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async _listFactors(r){On(r.userId);try{const{data:s,error:i}=await le(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:i}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _deleteFactor(r){On(r.userId),On(r.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _listOAuthClients(r){var s,i,o,c,f,m,g;try{const y={nextPage:null,lastPage:0,total:0},b=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=r?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=r?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Sy});if(b.error)throw b.error;const v=await b.json(),w=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);y[`${j}Page`]=E}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},v),y),error:null}}catch(y){if(re(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(r){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _getOAuthClient(r){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _updateOAuthClient(r,s){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(re(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(r){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(r){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}};function jy(a={}){return{getItem:r=>a[r]||null,setItem:(r,s)=>{a[r]=s},removeItem:r=>{delete a[r]}}}const qa={debug:!!(globalThis&&cb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}let db=class extends wf{};class j1 extends wf{}async function fb(a,r,s){qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,r);const i=new globalThis.AbortController;return r>0&&setTimeout(()=>{i.abort(),qa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await s()}finally{qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(r===0)throw qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new db(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(qa.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}const Ey={};async function E1(a,r,s){var i;const o=(i=Ey[a])!==null&&i!==void 0?i:Promise.resolve(),c=Promise.race([o.catch(()=>null),r>=0?new Promise((f,m)=>{setTimeout(()=>{m(new j1(`Acquring process lock with name "${a}" timed out`))},r)}):null].filter(f=>f)).catch(f=>{if(f&&f.isAcquireTimeout)throw f;return null}).then(async()=>await s());return Ey[a]=c.catch(async f=>{if(f&&f.isAcquireTimeout)return await o,null;throw f}),await c}function k1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hb(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function N1(a){return parseInt(a,16)}function T1(a){const r=new TextEncoder().encode(a);return"0x"+Array.from(r,i=>i.toString(16).padStart(2,"0")).join("")}function A1(a){var r;const{chainId:s,domain:i,expirationTime:o,issuedAt:c=new Date,nonce:f,notBefore:m,requestId:g,resources:y,scheme:b,uri:v,version:w}=a;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((r=a.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const _=hb(a.address),S=b?`${b}://${i}`:i,E=a.statement?`${a.statement}
`:"",j=`${S} wants you to sign in with your Ethereum account:
${_}

${E}`;let C=`URI: ${v}
Version: ${w}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),m&&(C+=`
Not Before: ${m.toISOString()}`),g&&(C+=`
Request ID: ${g}`),y){let D=`
Resources:`;for(const T of y){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);D+=`
- ${T}`}C+=D}return`${j}
${C}`}class We extends Error{constructor({message:r,code:s,cause:i,name:o}){var c;super(r,{cause:i}),this.__isWebAuthnError=!0,this.name=(c=o??(i instanceof Error?i.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class vo extends We{constructor(r,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:r}),this.name="WebAuthnUnknownError",this.originalError=s}}function C1({error:a,options:r}){var s,i,o;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(r.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(r.mediation==="conditional"&&((i=c.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new We({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const f=window.location.hostname;if(mb(f)){if(c.rp.id!==f)return new We({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function O1({error:a,options:r}){const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(r.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new We({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const i=window.location.hostname;if(mb(i)){if(s.rpId!==i)return new We({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class R1{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const D1=new R1;function U1(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:r,user:s,excludeCredentials:i}=a,o=Pn(a,["challenge","user","excludeCredentials"]),c=Bn(r).buffer,f=Object.assign(Object.assign({},s),{id:Bn(s.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:c,user:f});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let g=0;g<i.length;g++){const y=i[g];m.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:Bn(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function M1(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:r,allowCredentials:s}=a,i=Pn(a,["challenge","allowCredentials"]),o=Bn(r).buffer,c=Object.assign(Object.assign({},i),{challenge:o});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const m=s[f];c.allowCredentials[f]=Object.assign(Object.assign({},m),{id:Bn(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function z1(a){var r;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const s=a;return{id:a.id,rawId:a.id,response:{attestationObject:Va(new Uint8Array(a.response.attestationObject)),clientDataJSON:Va(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function B1(a){var r;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const s=a,i=a.getClientExtensionResults(),o=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:Va(new Uint8Array(o.authenticatorData)),clientDataJSON:Va(new Uint8Array(o.clientDataJSON)),signature:Va(new Uint8Array(o.signature)),userHandle:o.userHandle?Va(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function mb(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function ky(){var a,r;return!!(dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function L1(a){try{const r=await navigator.credentials.create(a);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new vo("Browser returned unexpected credential type",r)}:{data:null,error:new vo("Empty credential response",r)}}catch(r){return{data:null,error:C1({error:r,options:a})}}}async function q1(a){try{const r=await navigator.credentials.get(a);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new vo("Browser returned unexpected credential type",r)}:{data:null,error:new vo("Empty credential response",r)}}catch(r){return{data:null,error:O1({error:r,options:a})}}}const $1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},H1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function xo(...a){const r=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),s=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of a)if(o)for(const c in o){const f=o[c];if(f!==void 0)if(Array.isArray(f))i[c]=f;else if(s(f))i[c]=f;else if(r(f)){const m=i[c];r(m)?i[c]=xo(m,f):i[c]=xo(f)}else i[c]=f}return i}function V1(a,r){return xo($1,a,r||{})}function P1(a,r){return xo(H1,a,r||{})}class G1{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:s,friendlyName:i,signal:o},c){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:r,webauthn:s});if(!f)return{data:null,error:m};const g=o??D1.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${i}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=V1(f.webauthn.credential_options.publicKey,c?.create),{data:b,error:v}=await L1({publicKey:y,signal:g});return b?{data:{factorId:r,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}case"request":{const y=P1(f.webauthn.credential_options.publicKey,c?.request),{data:b,error:v}=await q1(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:g}));return b?{data:{factorId:r,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}}}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new da("Unexpected error in challenge",f)}}}async _verify({challengeId:r,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:r,webauthn:i})}async _authenticate({factorId:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!s)return{data:null,error:new Vn("rpId is required for WebAuthn authentication")};try{if(!ky())return{data:null,error:new da("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:r,webauthn:{rpId:s,rpOrigins:i},signal:o},{request:c});if(!f)return{data:null,error:m};const{webauthn:g}=f;return this._verify({factorId:r,challengeId:f.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:i,credential_response:g.credential_response}})}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new da("Unexpected error in authenticate",f)}}}async _register({friendlyName:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!s)return{data:null,error:new Vn("rpId is required for WebAuthn registration")};try{if(!ky())return{data:null,error:new da("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:r});if(!f)return await this.client.mfa.listFactors().then(b=>{var v;return(v=b.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===r&&w.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:m};const{data:g,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:o},{create:c});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:i,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new da("Unexpected error in register",f)}}}}k1();const I1={url:IS,storageKey:YS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ny(a,r,s){return await s()}const Rn={};let _f=class rf{get jwks(){var r,s;return(s=(r=Rn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){Rn[this.storageKey]=Object.assign(Object.assign({},Rn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=Rn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Rn[this.storageKey]=Object.assign(Object.assign({},Rn[this.storageKey]),{cachedAt:r})}constructor(r){var s,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},I1),r);if(this.storageKey=c.storageKey,this.instanceID=(s=rf.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,rf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&dt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new xf({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=ub(c.fetch),this.lock=c.lock||Ny,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&dt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=fb:this.lock=Ny,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new G1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:cb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jy(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=jy(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rb}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let s={},i="none";if(dt()&&(s=n1(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),dt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:c}=await this._getSessionFromURL(s,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),lb(c)){const g=(r=c.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return re(s)?this._returnResult({error:s}):this._returnResult({error:new da("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,i,o;try{const c=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=r?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=r?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Zt}),{data:f,error:m}=c;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(r){var s,i,o;try{let c;if("email"in r){const{email:b,password:v,options:w}=r;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await Cn(this.storage,this.storageKey)),c=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:b,password:v,data:(s=w?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:_,code_challenge_method:S},xform:Zt})}else if("phone"in r){const{phone:b,password:v,options:w}=r;c=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:v,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Zt})}else throw new Ys("You must provide either an email or phone number and a password");const{data:f,error:m}=c;if(m||!f)return await ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(await ct(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(r){try{let s;if("email"in r){const{email:c,password:f,options:m}=r;s=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:_y})}else if("phone"in r){const{phone:c,password:f,options:m}=r;s=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:_y})}else throw new Ys("You must provide either an email or phone number and a password");const{data:i,error:o}=s;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const c=new Ba;return this._returnResult({data:{user:null,session:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(r){var s,i,o,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=r.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=r.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;switch(s){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(r){var s,i,o,c,f,m,g,y,b,v,w;let _,S;if("message"in r)_=r.message,S=r.signature;else{const{chain:E,wallet:j,statement:C,options:D}=r;let T;if(dt())if(typeof j=="object")T=j;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")T=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=j}const P=new URL((s=D?.url)!==null&&s!==void 0?s:window.location.href),N=await T.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=hb(N[0]);let z=(i=D?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!z){const Z=await T.request({method:"eth_chainId"});z=N1(Z)}const K={domain:P.host,address:M,statement:C,uri:P.href,version:"1",chainId:z,nonce:(o=D?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=D?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=D?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(b=D?.signInWithEthereum)===null||b===void 0?void 0:b.resources};_=A1(K),S=await T.request({method:"personal_sign",params:[T1(_),M]})}try{const{data:E,error:j}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:S},!((v=r.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=r.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Zt});if(j)throw j;if(!E||!E.session||!E.user){const C=new Ba;return this._returnResult({data:{user:null,session:null},error:C})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:j})}catch(E){if(re(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(r){var s,i,o,c,f,m,g,y,b,v,w,_;let S,E;if("message"in r)S=r.message,E=r.signature;else{const{chain:j,wallet:C,statement:D,options:T}=r;let P;if(dt())if(typeof C=="object")P=C;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))P=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=C}const N=new URL((s=T?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in P&&P.signIn){const M=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),D?{statement:D}:null));let z;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")z=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)z=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)S=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),E=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${N.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(o=(i=T?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=T?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((g=T?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((y=T?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((v=(b=T?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||v===void 0)&&v.length?["Resources",...T.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const M=await P.signMessage(new TextEncoder().encode(S),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=M}}try{const{data:j,error:C}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Va(E)},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=r.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Zt});if(C)throw C;if(!j||!j.session||!j.user){const D=new Ba;return this._returnResult({data:{user:null,session:null},error:D})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:C})}catch(j){if(re(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(r){const s=await za(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(s??"").split("/");try{const{data:c,error:f}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:i},xform:Zt});if(await ct(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!c||!c.session||!c.user){const m=new Ba;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:f})}catch(c){if(await ct(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(r){try{const{options:s,provider:i,token:o,access_token:c,nonce:f}=r,m=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Zt}),{data:g,error:y}=m;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const b=new Ba;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(r){var s,i,o,c,f;try{if("email"in r){const{email:m,options:g}=r;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await Cn(this.storage,this.storageKey));const{error:v}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(i=g?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:b},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in r){const{phone:m,options:g}=r,{data:y,error:b}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=g?.data)!==null&&o!==void 0?o:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:b})}throw new Ys("You must provide either an email or phone number.")}catch(m){if(await ct(this.storage,`${this.storageKey}-code-verifier`),re(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(r){var s,i;try{let o,c;"options"in r&&(o=(s=r.options)===null||s===void 0?void 0:s.redirectTo,c=(i=r.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:m}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Zt});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,y=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(o){if(re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(r){var s,i,o,c,f;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Cn(this.storage,this.storageKey));const y=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(i=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=r?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:w1});return!((c=y.data)===null||c===void 0)&&c.url&&dt()&&!(!((f=r.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(m){if(await ct(this.storage,`${this.storageKey}-code-verifier`),re(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)throw i;if(!s)throw new jt;const{error:o}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:i,type:o,options:c}=r,{error:f}=await le(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in r){const{phone:i,type:o,options:c}=r,{data:f,error:m}=await le(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Ys("You must provide either an email or phone number and a type")}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await za(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const i=r.expires_at?r.expires_at*1e3-Date.now()<pd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",r.expires_at),!i){if(this.userStorage){const f=await za(this.userStorage,this.storageKey+"-user");f?.user?r.user=f.user:r.user=vd()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};r.user=p1(r.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:o,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(r){try{return r?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:fa}):await this._useSession(async s=>{var i,o,c;const{data:f,error:m}=s;if(m)throw m;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:fa})})}catch(s){if(re(s))return ib(s)&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async i=>{const{data:o,error:c}=i;if(c)throw c;if(!o.session)throw new jt;const f=o.session;let m=null,g=null;this.flowType==="pkce"&&r.email!=null&&([m,g]=await Cn(this.storage,this.storageKey));const{data:y,error:b}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:fa});if(b)throw b;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(i){if(await ct(this.storage,`${this.storageKey}-code-verifier`),re(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new jt;const s=Date.now()/1e3;let i=s,o=!0,c=null;const{payload:f}=bd(r.access_token);if(f.exp&&(i=f.exp,o=i<=s),o){const{data:m,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:g}=await this._getUser(r.access_token);if(g)throw g;c={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(re(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var i;if(!r){const{data:f,error:m}=s;if(m)throw m;r=(i=f.session)!==null&&i!==void 0?i:void 0}if(!r?.refresh_token)throw new jt;const{data:o,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(r,s){try{if(!dt())throw new Fs("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Fs(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ef("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new ef("No code detected.");const{data:D,error:T}=await this._exchangeCodeForSession(r.code);if(T)throw T;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:c,refresh_token:f,expires_in:m,expires_at:g,token_type:y}=r;if(!c||!m||!f||!y)throw new Fs("No session defined in URL");const b=Math.round(Date.now()/1e3),v=parseInt(m);let w=b+v;g&&(w=parseInt(g));const _=w-b;_*1e3<=Un&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const S=w-v;b-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,b):b-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,b);const{data:E,error:j}=await this._getUser(c);if(j)throw j;const C={provider_token:i,provider_refresh_token:o,access_token:c,expires_in:v,expires_at:w,refresh_token:f,token_type:y,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:r.type},error:null})}catch(i){if(re(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await za(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:o,error:c}=s;if(c)return this._returnResult({error:c});const f=(i=o.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:m}=await this.admin.signOut(f,r);if(m&&!(sb(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return r!=="others"&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const s=a1(),i={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(r){return await this._useSession(async s=>{var i,o;try{const{data:{session:c},error:f}=s;if(f)throw f;await((i=this.stateChangeEmitters.get(r))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,s={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Cn(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await ct(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var r;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var s;try{const{data:i,error:o}=await this._useSession(async c=>{var f,m,g,y,b;const{data:v,error:w}=c;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(f=r.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",_,{headers:this.headers,jwt:(b=(y=v.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:void 0})});if(o)throw o;return dt()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:r.provider,url:i?.url},error:null})}catch(i){if(re(i))return this._returnResult({data:{provider:r.provider,url:null},error:i});throw i}}async linkIdentityIdToken(r){return await this._useSession(async s=>{var i;try{const{error:o,data:{session:c}}=s;if(o)throw o;const{options:f,provider:m,token:g,access_token:y,nonce:b}=r,v=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=c?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:g,access_token:y,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Zt}),{data:w,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Ba}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:_}))}catch(o){if(await ct(this.storage,`${this.storageKey}-code-verifier`),re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(r){try{return await this._useSession(async s=>{var i,o;const{data:c,error:f}=s;if(f)throw f;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await l1(async o=>(o>0&&await i1(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Zt})),(o,c)=>{const f=200*Math.pow(2,o);return c&&Zl(c)&&Date.now()+f-i<Un})}catch(i){if(this._debug(s,"error",i),re(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",i),dt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:r,url:i},error:null}}async _recoverAndRefresh(){var r,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await za(this.storage,this.storageKey);if(o&&this.userStorage){let f=await za(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await Mn(this.userStorage,this.storageKey+"-user",f)),o.user=(r=f?.user)!==null&&r!==void 0?r:vd()}else if(o&&!o.user&&!o.user){const f=await za(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await ct(this.storage,this.storageKey+"-user"),await Mn(this.storage,this.storageKey,o)):o.user=vd()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const c=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<pd;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${pd}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),Zl(f)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(o.access_token);!m&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(i,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(r){var s,i;if(!r)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Do;const{data:c,error:f}=await this._refreshAccessToken(r);if(f)throw f;if(!c.session)throw new jt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(o,"error",c),re(c)){const f={data:null,error:c};return Zl(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(r,s,i=!0){const o=`#_notifyAllSubscribers(${r})`;this._debug(o,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:r,session:s});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,s)}catch(g){c.push(g)}});if(await Promise.all(f),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await ct(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},r),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Mn(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const c=xy(o);await Mn(this.storage,this.storageKey,c)}else{const o=xy(s);await Mn(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ct(this.storage,this.storageKey),await ct(this.storage,this.storageKey+"-code-verifier"),await ct(this.storage,this.storageKey+"-user"),this.userStorage&&await ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&dt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Un);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-r)/Un);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Un}ms, refresh threshold is ${Zd} ticks`),o<=Zd&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof wf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,i){const o=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,f]=await Cn(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(m.toString())}if(i?.queryParams){const c=new URLSearchParams(i.queryParams);o.push(c.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${r}?${o.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var i;const{data:o,error:c}=s;return c?this._returnResult({data:null,error:c}):await le(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(r){try{return await this._useSession(async s=>{var i,o;const{data:c,error:f}=s;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:g,error:y}=await le(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return y?this._returnResult({data:null,error:y}):(r.factorType==="totp"&&g.type==="totp"&&(!((o=g?.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:o,error:c}=s;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?z1(r.webauthn.credential_response):B1(r.webauthn.credential_response)})}:{code:r.code}),{data:m,error:g}=await le(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:f,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:o,error:c}=s;if(c)return this._returnResult({data:null,error:c});const f=await le(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:U1(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:M1(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(r){const{data:s,error:i}=await this._challenge({factorId:r.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){var r;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=s?.factors)!==null&&r!==void 0?r:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var r,s;const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=bd(i.access_token);let f=null;c.aal&&(f=c.aal);let m=f;((s=(r=i.user.factors)===null||r===void 0?void 0:r.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const y=c.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async s=>{const{data:{session:i},error:o}=s;return o?this._returnResult({data:null,error:o}):i?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new jt})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(r,s){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new jt});const f=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&dt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(r,s){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new jt});const f=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&dt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;return i?this._returnResult({data:null,error:i}):s?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new jt})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async s=>{const{data:{session:i},error:o}=s;return o?this._returnResult({data:null,error:o}):i?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new jt})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(r,s={keys:[]}){let i=s.keys.find(m=>m.kid===r);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(m=>m.kid===r),i&&this.jwks_cached_at+XS>o)return i;const{data:c,error:f}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,i=c.keys.find(m=>m.kid===r),!i)?null:i}async getClaims(r,s={}){try{let i=r;if(!i){const{data:_,error:S}=await this.getSession();if(S||!_.session)return this._returnResult({data:null,error:S});i=_.session.access_token}const{header:o,payload:c,signature:f,raw:{header:m,payload:g}}=bd(i);s?.allowExpired||m1(c.exp);const y=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!y){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:c,header:o,signature:f},error:null}}const b=g1(o.alg),v=await crypto.subtle.importKey("jwk",y,b,!0,["verify"]);if(!await crypto.subtle.verify(b,v,f,t1(`${m}.${g}`)))throw new po("Invalid JWT signature");return{data:{claims:c,header:o,signature:f},error:null}}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}};_f.nextInstanceID={};const Y1=xf,F1=_f,K1=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Y1,AuthApiError:nb,AuthClient:F1,AuthError:Vn,AuthImplicitGrantRedirectError:Fs,AuthInvalidCredentialsError:Ys,AuthInvalidJwtError:po,AuthInvalidTokenResponseError:Ba,AuthPKCEGrantCodeExchangeError:ef,AuthRetryableFetchError:yo,AuthSessionMissingError:jt,AuthUnknownError:da,AuthWeakPasswordError:tf,CustomAuthError:Lr,GoTrueAdminApi:xf,GoTrueClient:_f,NavigatorLockAcquireTimeoutError:db,SIGN_OUT_SCOPES:Wl,isAuthApiError:sb,isAuthError:re,isAuthImplicitGrantRedirectError:lb,isAuthRetryableFetchError:Zl,isAuthSessionMissingError:ib,isAuthWeakPasswordError:JS,lockInternals:qa,navigatorLock:fb,processLock:E1},Symbol.toStringTag,{value:"Module"})),gb=ui(K1);var Ty;function X1(){if(Ty)return Vs;Ty=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.SupabaseAuthClient=void 0;const a=gb;let r=class extends a.AuthClient{constructor(i){super(i)}};return Vs.SupabaseAuthClient=r,Vs}var Ay;function Cy(){if(Ay)return Ll;Ay=1,Object.defineProperty(Ll,"__esModule",{value:!0});const a=Tp,r=Up(),s=Vp,i=$S,o=VS(),c=PS(),f=GS(),m=X1();class g{constructor(b,v,w){var _,S,E;this.supabaseUrl=b,this.supabaseKey=v;const j=(0,f.validateSupabaseUrl)(b);if(!v)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",j),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",j),this.storageUrl=new URL("storage/v1",j),this.functionsUrl=new URL("functions/v1",j);const C=`sb-${j.hostname.split(".")[0]}-auth-token`,D={db:o.DEFAULT_DB_OPTIONS,realtime:o.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},o.DEFAULT_AUTH_OPTIONS),{storageKey:C}),global:o.DEFAULT_GLOBAL_OPTIONS},T=(0,f.applySettingDefaults)(w??{},D);this.storageKey=(_=T.auth.storageKey)!==null&&_!==void 0?_:"",this.headers=(S=T.global.headers)!==null&&S!==void 0?S:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(P,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((E=T.auth)!==null&&E!==void 0?E:{},this.headers,T.global.fetch),this.fetch=(0,c.fetchWithAuth)(v,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.accessToken&&this.accessToken().then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new r.PostgrestClient(new URL("rest/v1",j).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),this.storage=new i.StorageClient(this.storageUrl.href,this.headers,this.fetch,w?.storage),T.accessToken||this._listenForAuthEvents()}get functions(){return new a.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(b){return this.rest.from(b)}schema(b){return this.rest.schema(b)}rpc(b,v={},w={head:!1,get:!1,count:void 0}){return this.rest.rpc(b,v,w)}channel(b,v={config:{}}){return this.realtime.channel(b,v)}getChannels(){return this.realtime.getChannels()}removeChannel(b){return this.realtime.removeChannel(b)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var b,v;if(this.accessToken)return await this.accessToken();const{data:w}=await this.auth.getSession();return(v=(b=w.session)===null||b===void 0?void 0:b.access_token)!==null&&v!==void 0?v:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:b,persistSession:v,detectSessionInUrl:w,storage:_,userStorage:S,storageKey:E,flowType:j,lock:C,debug:D,throwOnError:T},P,N){const M={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},M),P),storageKey:E,autoRefreshToken:b,persistSession:v,detectSessionInUrl:w,storage:_,userStorage:S,flowType:j,lock:C,debug:D,throwOnError:T,fetch:N,hasCustomAuthorizationHeader:Object.keys(this.headers).some(z=>z.toLowerCase()==="authorization")})}_initRealtimeClient(b){return new s.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},b),{params:Object.assign({apikey:this.supabaseKey},b?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((v,w)=>{this._handleTokenChanged(v,"CLIENT",w?.access_token)})}_handleTokenChanged(b,v,w){(b==="TOKEN_REFRESHED"||b==="SIGNED_IN")&&this.changedAccessToken!==w?(this.changedAccessToken=w,this.realtime.setAuth(w)):b==="SIGNED_OUT"&&(this.realtime.setAuth(),v=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Ll.default=g,Ll}var Oy;function J1(){return Oy||(Oy=1,(function(a){var r=Or&&Or.__createBinding||(Object.create?(function(b,v,w,_){_===void 0&&(_=w);var S=Object.getOwnPropertyDescriptor(v,w);(!S||("get"in S?!v.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return v[w]}}),Object.defineProperty(b,_,S)}):(function(b,v,w,_){_===void 0&&(_=w),b[_]=v[w]})),s=Or&&Or.__exportStar||function(b,v){for(var w in b)w!=="default"&&!Object.prototype.hasOwnProperty.call(v,w)&&r(v,b,w)},i=Or&&Or.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(a,"__esModule",{value:!0}),a.createClient=a.SupabaseClient=a.FunctionRegion=a.FunctionsError=a.FunctionsRelayError=a.FunctionsFetchError=a.FunctionsHttpError=a.PostgrestError=void 0;const o=i(Cy());s(gb,a);var c=Up();Object.defineProperty(a,"PostgrestError",{enumerable:!0,get:function(){return c.PostgrestError}});var f=Tp;Object.defineProperty(a,"FunctionsHttpError",{enumerable:!0,get:function(){return f.FunctionsHttpError}}),Object.defineProperty(a,"FunctionsFetchError",{enumerable:!0,get:function(){return f.FunctionsFetchError}}),Object.defineProperty(a,"FunctionsRelayError",{enumerable:!0,get:function(){return f.FunctionsRelayError}}),Object.defineProperty(a,"FunctionsError",{enumerable:!0,get:function(){return f.FunctionsError}}),Object.defineProperty(a,"FunctionRegion",{enumerable:!0,get:function(){return f.FunctionRegion}}),s(Vp,a);var m=Cy();Object.defineProperty(a,"SupabaseClient",{enumerable:!0,get:function(){return i(m).default}});const g=(b,v,w)=>new o.default(b,v,w);a.createClient=g;function y(){if(typeof window<"u"||typeof process>"u")return!1;const b=process.version;if(b==null)return!1;const v=b.match(/^v(\d+)\./);return v?parseInt(v[1],10)<=18:!1}y()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Or)),Or}var yb=J1();const pb=sf(yb),Q1=dw({__proto__:null,default:pb},[yb]),{PostgrestError:LE,FunctionsHttpError:qE,FunctionsFetchError:$E,FunctionsRelayError:HE,FunctionsError:VE,FunctionRegion:PE,SupabaseClient:GE,createClient:Z1,GoTrueAdminApi:IE,GoTrueClient:YE,AuthAdminApi:FE,AuthClient:KE,navigatorLock:XE,NavigatorLockAcquireTimeoutError:JE,lockInternals:QE,processLock:ZE,SIGN_OUT_SCOPES:WE,AuthError:ek,AuthApiError:tk,AuthUnknownError:rk,CustomAuthError:ak,AuthSessionMissingError:nk,AuthInvalidTokenResponseError:sk,AuthInvalidCredentialsError:ik,AuthImplicitGrantRedirectError:lk,AuthPKCEGrantCodeExchangeError:ok,AuthRetryableFetchError:ck,AuthWeakPasswordError:uk,AuthInvalidJwtError:dk,isAuthError:fk,isAuthApiError:hk,isAuthSessionMissingError:mk,isAuthImplicitGrantRedirectError:gk,isAuthRetryableFetchError:yk,isAuthWeakPasswordError:pk,RealtimePresence:bk,RealtimeChannel:vk,RealtimeClient:xk,REALTIME_LISTEN_TYPES:wk,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:_k,REALTIME_PRESENCE_LISTEN_EVENTS:Sk,REALTIME_SUBSCRIBE_STATES:jk,REALTIME_CHANNEL_STATES:Ek}=pb||Q1,W1="https://adjobkcsvhjcqdrovvwb.supabase.co",ej="sb_publishable_NaSdQN7fj2LSCVVUG_yNGg_ybg-cy-u",ge=Z1(W1,ej);ge.auth;ge.storage;const tj={slots:[],slotInstances:[],selectedSlotId:null,fetchingSlots:!1,fetchingSlotInstances:!1,creation:{loading:!1,createdSlot:null},error:null},eo=Ie("slots/createSlotViaEdgeFunction",async(a,{rejectWithValue:r})=>{try{const{data:s,error:i}=await ge.functions.invoke("create_new_slot",{body:{venue_id:a.venue_id,name:a.name,start_time:a.start_time,duration:a.duration,plan:"S",capacity:a.capacity,instructor_id:a.instructor_id,is_recurring:a.is_recurring,recurrence_rules:a.recurrence_rules||null,description:a.description||null}});return i?(console.error("Edge function error:",i),r(i.message||"Failed to create slot")):(console.log("Created slot via edge function:",s),s)}catch(s){return console.error("Slot creation via edge function error:",s),r("Failed to create slot via edge function")}}),xd=Ie("slots/createSlot",async(a,{rejectWithValue:r})=>{try{const{data:{user:s},error:i}=await ge.auth.getUser();if(i||!s)return console.error("Auth error:",i),r("User not authenticated");const{data:o,error:c}=await ge.from("slots").insert({venue_id:a.venue_id,name:a.name,start_time:a.start_time,duration:a.duration,price:a.price,capacity:a.capacity,instructor_id:a.instructor_id,is_recurring:a.is_recurring,recurrence_rules:a.recurrence_rules||null,description:a.description||null,booked_count:0}).select(`
          *,
          instructor:Users!instructor_id(
            id,
            first_name,
            last_name,
            email,
            profile_url
          )
        `).single();return c?(console.error("Supabase slot creation error:",c),r(c.message)):(console.log("Created slot:",o),o)}catch(s){return console.error("Slot creation error:",s),r("Failed to create slot in database")}}),Xs=Ie("slots/fetchSlotById",async(a,{rejectWithValue:r})=>{try{if(!a)return r("Slot ID is required");const{data:s,error:i}=await ge.from("slots").select(`
          *,
          instructor:Users!instructor_id(
            id,
            first_name,
            last_name,
            email,
            profile_url
          )
        `).eq("id",a).single();return i?(console.error("Slot fetch by ID error:",i),r(i.message)):(console.log("Fetched slot by ID:",s),s)}catch(s){return console.error("Slot fetch by ID error:",s),r("Failed to fetch slot")}}),wd=Ie("slots/fetchSlotsByVenue",async(a,{rejectWithValue:r})=>{try{if(!a)return[];const{data:s,error:i}=await ge.from("slots").select(`
          *,
          instructor:Users!instructor_id(
            id,
            first_name,
            last_name,
            email,
            profile_url
          )
        `).eq("venue_id",a).order("start_time",{ascending:!0});return i?(console.error("Slots fetch error:",i),r(i.message)):(console.log("Fetched slots for venue:",a,s),s)}catch(s){return console.error("Slots fetch error:",s),r("Failed to fetch slots")}}),Js=Ie("slots/fetchSlotsByVenueAndMonth",async({venue_id:a,month:r,year:s},{rejectWithValue:i})=>{try{if(!a)return[];const o=new Date(s,r,1),c=new Date(s,r+1,0,23,59,59),f=o.toISOString(),m=c.toISOString();console.log("Fetching slots for venue:",a,"Month:",r+1,"Year:",s),console.log("Date range:",f,"to",m);const{data:g,error:y}=await ge.from("slots").select(`
          *,
          instructor:Users!instructor_id(
            id,
            first_name,
            last_name,
            email,
            profile_url
          )
        `).eq("venue_id",a).eq("is_recurring",!1).gte("start_time",f).lte("start_time",m).order("start_time",{ascending:!0});return y?(console.error("Slots fetch by month error:",y),i(y.message)):(console.log("Fetched slots for venue and month:",g),g)}catch(o){return console.error("Slots fetch by month error:",o),i("Failed to fetch slots for the specified month")}}),_d=Ie("slots/fetchAllSlots",async(a,{rejectWithValue:r})=>{try{const{data:s,error:i}=await ge.from("slots").select(`
          *,
          instructor:Users!instructor_id(
            id,
            first_name,
            last_name,
            email,
            profile_url
          )
        `).order("start_time",{ascending:!0});return i?(console.error("All slots fetch error:",i),r(i.message)):(console.log("Fetched all slots:",s),s)}catch(s){return console.error("All slots fetch error:",s),r("Failed to fetch all slots")}}),to=Ie("slots/updateSlot",async({id:a,updates:r},{rejectWithValue:s})=>{try{const{data:i,error:o}=await ge.from("slots").update(r).eq("id",a).select().single();return o?(console.error("Slot update error:",o),s(o.message)):(console.log("Updated slot:",i),i)}catch(i){return console.error("Slot update error:",i),s("Failed to update slot")}}),Sd=Ie("slots/deleteSlot",async(a,{rejectWithValue:r})=>{try{const{error:s}=await ge.from("Slots").delete().eq("id",a);return s?(console.error("Slot delete error:",s),r(s.message)):(console.log("Deleted slot:",a),a)}catch(s){return console.error("Slot delete error:",s),r("Failed to delete slot")}}),Pa=Ie("slots/fetchAllSlotsByVenue",async(a,{rejectWithValue:r})=>{try{if(!a)return[];console.log("Fetching all slots for venue:",a);const{data:s,error:i}=await ge.from("slots").select(`
          *,
          instructor:Users!instructor_id(
            id,
            first_name,
            last_name,
            email,
            profile_url
          )
        `).eq("venue_id",a).order("created_at",{ascending:!1});return i?(console.error("All slots fetch error:",i),r(i.message)):(console.log("Fetched all slots for venue:",a,s),s)}catch(s){return console.error("All slots fetch error:",s),r("Failed to fetch all slots")}}),jd=Ie("slots/fetchSlotInstancesByVenue",async(a,{rejectWithValue:r,getState:s})=>{try{if(!a)return[];console.log("Fetching slot instances for venue:",a);const o=s().slots.slots.filter(y=>y.venue_id===a.toString());if(o.length===0)return console.log("No slots in Redux state for venue, cannot fetch slot instances"),[];const c=o.map(y=>y.id);console.log("Using slot IDs from Redux:",c);const{data:f,error:m}=await ge.from("slot_instances").select("*").in("slot_id",c).order("start_time",{ascending:!0});if(m)return console.error("Slot instances fetch error:",m),r(m.message);const g=f.map(y=>{const b=o.find(v=>v.id===y.slot_id);return b?{...y,slot:b}:(console.warn("Slot not found in Redux for slot_id:",y.slot_id),null)}).filter(Boolean);return console.log("Fetched slot instances for venue:",a,g),g}catch(i){return console.error("Slot instances fetch error:",i),r("Failed to fetch slot instances")}}),ro=Ie("slots/fetchSlotInstancesByVenueAndDateRange",async({venue_id:a,startDate:r,endDate:s},{rejectWithValue:i,getState:o})=>{try{if(!a)return[];console.log("Fetching slot instances for venue:",a,"Date range:",r,"to",s);const f=o().slots.slots.filter(v=>v.venue_id===a);if(f.length===0)return console.log("No slots in Redux state for venue, cannot fetch slot instances"),[];const m=f.map(v=>v.id);console.log("Using slot IDs from Redux:",m);const{data:g,error:y}=await ge.from("slot_instances").select("*").in("slot_id",m).gte("start_time",r).lte("start_time",s).order("start_time",{ascending:!0});if(y)return console.error("Slot instances fetch by date range error:",y),i(y.message);const b=g.map(v=>{const w=f.find(_=>_.id===v.slot_id);return w?{...v,slot:w}:(console.warn("Slot not found in Redux for slot_id:",v.slot_id),null)}).filter(Boolean);return console.log("Fetched slot instances for venue and date range:",b),b}catch(c){return console.error("Slot instances fetch by date range error:",c),i("Failed to fetch slot instances for the specified date range")}}),Qs=Ie("slots/fetchSlotInstancesByVenueAndMonth",async({venue_id:a,month:r,year:s},{rejectWithValue:i,getState:o})=>{try{if(!a)return[];const c=new Date(s,r,1),f=new Date(s,r+1,0,23,59,59),m=c.toISOString(),g=f.toISOString();console.log("Fetching slot instances for venue:",a,"Month:",r+1,"Year:",s),console.log("Date range:",m,"to",g);const b=o().slots.slots.filter(E=>E.venue_id===a);if(b.length===0)return console.log("No slots in Redux state for venue, cannot fetch slot instances"),[];const v=b.map(E=>E.id);console.log("Using slot IDs from Redux:",v);const{data:w,error:_}=await ge.from("slot_instances").select("*").in("slot_id",v).gte("start_time",m).lte("start_time",g).order("start_time",{ascending:!0});if(_)return console.error("Slot instances fetch by month error:",_),i(_.message);const S=w.map(E=>{const j=b.find(C=>C.id===E.slot_id);return j?{...E,slot:j}:(console.warn("Slot not found in Redux for slot_id:",E.slot_id),null)}).filter(Boolean);return console.log("Fetched slot instances for venue and month:",S),S}catch(c){return console.error("Slot instances fetch by month error:",c),i("Failed to fetch slot instances for the specified month")}}),Ed=Ie("slots/fetchAllSlotInstancesByVenue",async(a,{rejectWithValue:r,getState:s})=>{try{if(!a)return[];console.log("Fetching all slot instances for venue:",a);const o=s().slots.slots.filter(y=>y.venue_id===a.toString());if(o.length===0)return console.log("No slots in Redux state for venue, cannot fetch slot instances"),[];const c=o.map(y=>y.id);console.log("Using slot IDs from Redux:",c);const{data:f,error:m}=await ge.from("slot_instances").select("*").in("slot_id",c).order("created_at",{ascending:!1});if(m)return console.error("All slot instances fetch error:",m),r(m.message);const g=f.map(y=>{const b=o.find(v=>v.id===y.slot_id);return b?{...y,slot:b}:(console.warn("Slot not found in Redux for slot_id:",y.slot_id),null)}).filter(Boolean);return console.log("Fetched all slot instances for venue:",a,g),g}catch(i){return console.error("All slot instances fetch error:",i),r("Failed to fetch all slot instances")}}),bb=Ao({name:"slots",initialState:tj,reducers:{setSelectedSlot:(a,r)=>{a.selectedSlotId=r.payload},clearSlotCreation:a=>{a.creation.createdSlot=null,a.creation.loading=!1},clearSlotsData:a=>{a.slots=[],a.slotInstances=[],a.selectedSlotId=null,a.fetchingSlots=!1,a.fetchingSlotInstances=!1,a.creation.createdSlot=null,a.creation.loading=!1,a.error=null},incrementBookedCount:(a,r)=>{const s=a.slotInstances.find(i=>i.id===r.payload);s&&s.booked_count<s.slot.capacity&&(s.booked_count+=1)},decrementBookedCount:(a,r)=>{const s=a.slotInstances.find(i=>i.id===r.payload);s&&s.booked_count>0&&(s.booked_count-=1)}},extraReducers:a=>{a.addCase(eo.pending,r=>{r.creation.loading=!0,r.error=null}).addCase(eo.fulfilled,(r,s)=>{r.creation.loading=!1,r.error=null,r.creation.createdSlot=s.payload,r.slots.push(s.payload)}).addCase(eo.rejected,(r,s)=>{r.creation.loading=!1,r.error=s.payload}).addCase(xd.pending,r=>{r.creation.loading=!0,r.error=null}).addCase(xd.fulfilled,(r,s)=>{r.creation.loading=!1,r.error=null,r.creation.createdSlot=s.payload,r.slots.push(s.payload)}).addCase(xd.rejected,(r,s)=>{r.creation.loading=!1,r.error=s.payload}).addCase(Xs.pending,r=>{r.fetchingSlots=!0,r.error=null}).addCase(Xs.fulfilled,(r,s)=>{r.fetchingSlots=!1,r.error=null;const i=r.slots.findIndex(o=>o.id===s.payload.id);i===-1?r.slots.push(s.payload):r.slots[i]=s.payload}).addCase(Xs.rejected,(r,s)=>{r.fetchingSlots=!1,r.error=s.payload}).addCase(wd.pending,r=>{r.fetchingSlots=!0,r.error=null}).addCase(wd.fulfilled,(r,s)=>{r.fetchingSlots=!1,r.error=null,r.slots=s.payload}).addCase(wd.rejected,(r,s)=>{r.fetchingSlots=!1,r.error=s.payload}).addCase(Js.pending,r=>{r.fetchingSlots=!0,r.error=null}).addCase(Js.fulfilled,(r,s)=>{r.fetchingSlots=!1,r.error=null,r.slots=s.payload}).addCase(Js.rejected,(r,s)=>{r.fetchingSlots=!1,r.error=s.payload}).addCase(_d.pending,r=>{r.fetchingSlots=!0,r.error=null}).addCase(_d.fulfilled,(r,s)=>{r.fetchingSlots=!1,r.error=null,r.slots=s.payload}).addCase(_d.rejected,(r,s)=>{r.fetchingSlots=!1,r.error=s.payload}).addCase(to.pending,r=>{r.error=null}).addCase(to.fulfilled,(r,s)=>{r.error=null;const i=r.slots.findIndex(o=>o.id===s.payload.id);i!==-1&&(r.slots[i]=s.payload)}).addCase(to.rejected,(r,s)=>{r.error=s.payload}).addCase(Sd.pending,r=>{r.error=null}).addCase(Sd.fulfilled,(r,s)=>{r.error=null,r.slots=r.slots.filter(i=>i.id!==s.payload),r.selectedSlotId===s.payload&&(r.selectedSlotId=null)}).addCase(Sd.rejected,(r,s)=>{r.error=s.payload}).addCase(Pa.pending,r=>{r.fetchingSlots=!0,r.error=null}).addCase(Pa.fulfilled,(r,s)=>{r.fetchingSlots=!1,r.slots=s.payload,r.error=null}).addCase(Pa.rejected,(r,s)=>{r.fetchingSlots=!1,r.error=s.payload}).addCase(jd.pending,r=>{r.fetchingSlotInstances=!0,r.error=null}).addCase(jd.fulfilled,(r,s)=>{r.fetchingSlotInstances=!1,r.error=null,r.slotInstances=s.payload}).addCase(jd.rejected,(r,s)=>{r.fetchingSlotInstances=!1,r.error=s.payload}).addCase(ro.pending,r=>{r.fetchingSlotInstances=!0,r.error=null}).addCase(ro.fulfilled,(r,s)=>{r.fetchingSlotInstances=!1,r.error=null,r.slotInstances=s.payload}).addCase(ro.rejected,(r,s)=>{r.fetchingSlotInstances=!1,r.error=s.payload}).addCase(Qs.pending,r=>{r.fetchingSlotInstances=!0,r.error=null}).addCase(Qs.fulfilled,(r,s)=>{r.fetchingSlotInstances=!1,r.error=null,r.slotInstances=s.payload}).addCase(Qs.rejected,(r,s)=>{r.fetchingSlotInstances=!1,r.error=s.payload}).addCase(Ed.pending,r=>{r.fetchingSlotInstances=!0,r.error=null}).addCase(Ed.fulfilled,(r,s)=>{r.fetchingSlotInstances=!1,r.slotInstances=s.payload,r.error=null}).addCase(Ed.rejected,(r,s)=>{r.fetchingSlotInstances=!1,r.error=s.payload})}}),{setSelectedSlot:kk,clearSlotCreation:Nk,clearSlotsData:Tk,incrementBookedCount:Ak,decrementBookedCount:Ck}=bb.actions,rj=bb.reducer,aj={currentMonth:new Date().getMonth(),currentYear:new Date().getFullYear(),view:"Month",filter:"All",classes:[],loading:!1,error:null},kd=Ie("calendar/fetchClasses",async({month:a,year:r,venue_id:s},{dispatch:i})=>{const o=await i(Js({venue_id:s,month:a,year:r}));return Js.fulfilled.match(o)?o.payload.map(m=>{const y=new Date(m.start_time).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return{id:m.id,name:`Slot ${m.id.slice(0,8)}`,time:y,spots:m.booked_count,maxSpots:m.capacity,color:"blue",type:"Slot"}}):[]}),vb=Ao({name:"calendar",initialState:aj,reducers:{setView:(a,r)=>{a.view=r.payload},setFilter:(a,r)=>{a.filter=r.payload},previousMonth:a=>{a.currentMonth===0?(a.currentMonth=11,a.currentYear-=1):a.currentMonth-=1},nextMonth:a=>{a.currentMonth===11?(a.currentMonth=0,a.currentYear+=1):a.currentMonth+=1},goToToday:a=>{a.currentMonth=new Date().getMonth(),a.currentYear=new Date().getFullYear()}},extraReducers:a=>{a.addCase(kd.pending,r=>{r.loading=!0,r.error=null}).addCase(kd.fulfilled,(r,s)=>{r.loading=!1,r.classes=s.payload}).addCase(kd.rejected,(r,s)=>{r.loading=!1,r.error=s.error.message||"Failed to fetch classes"})}}),{setView:nj,setFilter:sj,previousMonth:ij,nextMonth:lj,goToToday:oj}=vb.actions,cj=vb.reducer,uj={fullName:"",lastName:"",age:"",email:"",venueDetails:null,isOnboarded:!1,loading:!1,error:null,user:null,databaseUser:null,venueAccess:[],shouldSkipWelcome:!1,onboardingStatus:{hasUserDetails:!1,hasVenueAccess:!1,shouldSkipWelcome:!1,showOnlyPersonalInfo:!1,showBothSections:!1},checkingOnboardingStatus:!1},Ln=Ie("user/loadCurrentUser",async(a,{rejectWithValue:r})=>{try{const{data:{user:s},error:i}=await ge.auth.getUser();return i?(console.error("Auth error:",i),r(i.message)):(console.log("Loaded current user:",s?.id,s?.email),s)}catch(s){return console.error("Load current user error:",s),r("Failed to load current user")}}),Zs=Ie("user/createUserInDatabase",async(a,{rejectWithValue:r})=>{try{const{data:{user:s},error:i}=await ge.auth.getUser(),{data:{session:o}}=await ge.auth.getSession();if(console.log("=== AUTH DEBUG ==="),console.log("User ID:",s?.id),console.log("User Email:",s?.email),console.log("Has Access Token:",!!o?.access_token),console.log("Access Token Length:",o?.access_token?.length),console.log("Session Expires At:",o?.expires_at),console.log("Auth Error:",i),console.log("=================="),i||!s)return console.error("Authentication error:",i),r("User not authenticated");console.log("Testing simple select...");const{data:c,error:f}=await ge.from("Users").select("id, first_name").eq("id",s.id);console.log("Select test result:",{data:c,dataLength:c?.length,error:f});const{data:m,error:g}=await ge.from("Users").update({first_name:a.firstName,last_name:a.lastName,age:a.age,email:a.email,is_partner:!0}).eq("id",s.id).select();return g?(console.error("Supabase error:",g),r(g.message)):!m||m.length===0?(console.error("Failed to create or update user record"),r("Failed to create or update user record")):m[0]}catch(s){return console.error("Database creation error:",s),r("Failed to create user in database")}}),Nd=Ie("user/fetchUserFromDatabase",async(a,{rejectWithValue:r})=>{try{const{data:s,error:i}=await ge.from("Users").select("*").eq("email",a).eq("is_partner",!0).single();return i?i.code==="PGRST116"?null:(console.error("Supabase error:",i),r(i.message)):s}catch(s){return console.error("Database fetch error:",s),r("Failed to fetch user from database")}}),Ws=Ie("user/checkUserOnboardingStatus",async(a,{rejectWithValue:r})=>{try{const{data:{user:s},error:i}=await ge.auth.getUser();if(i||!s)return console.error("Authentication error:",i),r("User not authenticated");const{data:o,error:c}=await ge.from("Users").select("id, first_name, last_name, age, email, is_partner").eq("id",s.id).single(),f=!c&&o&&o.first_name;console.log("User data check:",{userData:o,userError:c,hasUserDetails:f});const{data:m,error:g}=await ge.from("User_venue_access").select("user_id, role_id, venue_id").eq("user_id",s.id);if(g)return console.error("Venue access query error:",g),r(g.message);const y=m&&m.length>0;console.log("Venue access check:",{venueData:m,hasVenueAccess:y});let b=!1,v=!1,w=!1;return f?b=!0:!f&&y?v=!0:!f&&!y&&(w=!0),console.log("Onboarding status:",{hasUserDetails:f,hasVenueAccess:y,shouldSkipWelcome:b,showOnlyPersonalInfo:v,showBothSections:w}),{userDetails:f?o:null,venueAccess:m,onboardingStatus:{hasUserDetails:f,hasVenueAccess:y,shouldSkipWelcome:b,showOnlyPersonalInfo:v,showBothSections:w}}}catch(s){return console.error("Onboarding status check error:",s),r("Failed to check onboarding status")}}),ei=Ie("user/checkUserVenueAccess",async(a,{rejectWithValue:r})=>{try{const{data:{user:s},error:i}=await ge.auth.getUser();if(i||!s)return console.error("Authentication error:",i),r("User not authenticated");const{data:o,error:c}=await ge.from("User_venue_access").select("user_id, role_id, venue_id").eq("user_id",s.id);return c?(console.error("Venue access query error:",c),r(c.message)):(console.log("Venue access data:",o),console.log("Data length:",o?.length),console.log("Should skip welcome:",o.length>1),{venueAccess:o,shouldSkipWelcome:o.length>1})}catch(s){return console.error("Venue access check error:",s),r("Failed to check venue access")}}),xb=Ao({name:"user",initialState:uj,reducers:{setUserDetails:(a,r)=>{a.fullName=r.payload.fullName,a.lastName=r.payload.lastName,a.age=r.payload.age,a.email=r.payload.email},setVenueDetails:(a,r)=>{a.venueDetails=r.payload,a.isOnboarded=!0},clearUserData:a=>{a.fullName="",a.lastName="",a.age="",a.email="",a.venueDetails=null,a.isOnboarded=!1,a.loading=!1,a.error=null,a.databaseUser=null,a.venueAccess=[],a.shouldSkipWelcome=!1,a.onboardingStatus={hasUserDetails:!1,hasVenueAccess:!1,shouldSkipWelcome:!1,showOnlyPersonalInfo:!1,showBothSections:!1},a.checkingOnboardingStatus=!1}},extraReducers:a=>{a.addCase(Zs.pending,r=>{r.loading=!0,r.error=null}).addCase(Zs.fulfilled,(r,s)=>{r.loading=!1,r.error=null,r.databaseUser=s.payload,r.isOnboarded=!0}).addCase(Zs.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(Ln.pending,r=>{r.loading=!0,r.error=null}).addCase(Ln.fulfilled,(r,s)=>{r.loading=!1,r.error=null,r.user=s.payload}).addCase(Ln.rejected,(r,s)=>{r.loading=!1,r.error=s.payload,r.user=null}).addCase(Nd.pending,r=>{r.loading=!0,r.error=null}).addCase(Nd.fulfilled,(r,s)=>{r.loading=!1,r.error=null,r.databaseUser=s.payload,s.payload&&(r.fullName=s.payload.first_name,r.lastName=s.payload.last_name,r.age=s.payload.age,r.email=s.payload.email)}).addCase(Nd.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(ei.pending,r=>{r.loading=!0,r.error=null}).addCase(ei.fulfilled,(r,s)=>{r.loading=!1,r.error=null,r.venueAccess=s.payload.venueAccess,r.shouldSkipWelcome=s.payload.shouldSkipWelcome}).addCase(ei.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(Ws.pending,r=>{r.checkingOnboardingStatus=!0,r.error=null}).addCase(Ws.fulfilled,(r,s)=>{r.checkingOnboardingStatus=!1,r.error=null,s.payload.userDetails&&(r.databaseUser=s.payload.userDetails,r.fullName=s.payload.userDetails.first_name,r.lastName=s.payload.userDetails.last_name,r.age=s.payload.userDetails.age,r.email=s.payload.userDetails.email,r.isOnboarded=!0),r.venueAccess=s.payload.venueAccess,r.onboardingStatus=s.payload.onboardingStatus,r.shouldSkipWelcome=s.payload.onboardingStatus.shouldSkipWelcome}).addCase(Ws.rejected,(r,s)=>{r.checkingOnboardingStatus=!1,r.error=s.payload})}}),{setUserDetails:dj,setVenueDetails:Ok,clearUserData:Rk}=xb.actions,fj=xb.reducer,hj={userVenues:[],selectedVenueId:null,fetchingUserVenues:!1,welcomeScreen:{venueDetails:null,createdVenue:null,createdVenueDetails:null,loading:!1},error:null},ti=Ie("venue/createVenueInDatabase",async(a,{rejectWithValue:r})=>{try{const{data:{user:s},error:i}=await ge.auth.getUser();if(i||!s)return console.error("Auth error:",i),r("User not authenticated");const{data:o,error:c}=await ge.from("Venues").insert({name:a.name,contact_email:a.contactEmail,created_by:s.id,is_active:!0}).select().single();return c?(console.error("Supabase venue error:",c),r(c.message)):o}catch(s){return console.error("Venue creation error:",s),r("Failed to create venue in database")}}),ri=Ie("venue/createVenueDetailsInDatabase",async(a,{rejectWithValue:r})=>{try{const{data:{user:s},error:i}=await ge.auth.getUser();if(i||!s)return console.error("Auth error:",i),r("User not authenticated");const o=new Date().toISOString().split("T")[0],c=`${o}T${a.openingTime}:00Z`,f=`${o}T${a.closingTime}:00Z`,{data:m,error:g}=await ge.from("Venue_details").insert({id:a.id,address_line_1:a.addressLine1,address_line_2:a.addressLine2||null,city:a.city,postal_code:a.postalCode,latitude:a.latitude||null,longitude:a.longitude||null,opening_time:c,closing_time:f,operating_days_bitmask:a.operatingDaysBitmask,created_by:s.id}).select().single();return g?(console.error("Supabase venue details error:",g),r(g.message)):m}catch(s){return console.error("Venue details creation error:",s),r("Failed to create venue details in database")}}),ai=Ie("venue/fetchUserVenues",async(a,{rejectWithValue:r})=>{try{if(!a||a.length===0)return[];const{data:s,error:i}=await ge.from("Venues").select("id, name, contact_email, is_active, created_at").in("id",a).eq("is_active",!0);if(i)return console.error("Venues fetch error:",i),r(i.message);const{data:o,error:c}=await ge.from("Venue_details").select("id, address_line_1, address_line_2, city, postal_code, opening_time, closing_time, operating_days_bitmask").in("id",a);c&&console.error("Venue details fetch error:",c);const f=s.map(m=>({...m,details:o?.find(g=>g.id===m.id)}));return console.log("Fetched user venues:",f),f}catch(s){return console.error("User venues fetch error:",s),r("Failed to fetch user venues")}}),wb=Ao({name:"venue",initialState:hj,reducers:{setVenueDetails:(a,r)=>{a.welcomeScreen.venueDetails=r.payload},setSelectedVenue:(a,r)=>{a.selectedVenueId=r.payload},clearVenueData:a=>{a.welcomeScreen.venueDetails=null,a.welcomeScreen.createdVenue=null,a.welcomeScreen.createdVenueDetails=null,a.welcomeScreen.loading=!1,a.userVenues=[],a.selectedVenueId=null,a.fetchingUserVenues=!1,a.error=null}},extraReducers:a=>{a.addCase(ti.pending,r=>{r.welcomeScreen.loading=!0,r.error=null}).addCase(ti.fulfilled,(r,s)=>{r.welcomeScreen.loading=!1,r.error=null,r.welcomeScreen.createdVenue=s.payload}).addCase(ti.rejected,(r,s)=>{r.welcomeScreen.loading=!1,r.error=s.payload}).addCase(ri.pending,r=>{r.welcomeScreen.loading=!0,r.error=null}).addCase(ri.fulfilled,(r,s)=>{r.welcomeScreen.loading=!1,r.error=null,r.welcomeScreen.createdVenueDetails=s.payload}).addCase(ri.rejected,(r,s)=>{r.welcomeScreen.loading=!1,r.error=s.payload}).addCase(ai.pending,r=>{r.fetchingUserVenues=!0,r.error=null}).addCase(ai.fulfilled,(r,s)=>{r.fetchingUserVenues=!1,r.error=null,r.userVenues=s.payload,!r.selectedVenueId&&s.payload.length>0&&(r.selectedVenueId=s.payload[0].id)}).addCase(ai.rejected,(r,s)=>{r.fetchingUserVenues=!1,r.error=s.payload})}}),{setVenueDetails:mj,setSelectedVenue:_b,clearVenueData:Dk}=wb.actions,gj=wb.reducer,yj=S_({reducer:{calendar:cj,user:fj,venue:gj,slots:rj}});var Ry="popstate";function pj(a={}){function r(i,o){let{pathname:c,search:f,hash:m}=i.location;return af("",{pathname:c,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(i,o){return typeof o=="string"?o:ci(o)}return vj(r,s,null,a)}function He(a,r){if(a===!1||a===null||typeof a>"u")throw new Error(r)}function ar(a,r){if(!a){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function bj(){return Math.random().toString(36).substring(2,10)}function Dy(a,r){return{usr:a.state,key:a.key,idx:r}}function af(a,r,s=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof r=="string"?In(r):r,state:s,key:r&&r.key||i||bj()}}function ci({pathname:a="/",search:r="",hash:s=""}){return r&&r!=="?"&&(a+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(a+=s.charAt(0)==="#"?s:"#"+s),a}function In(a){let r={};if(a){let s=a.indexOf("#");s>=0&&(r.hash=a.substring(s),a=a.substring(0,s));let i=a.indexOf("?");i>=0&&(r.search=a.substring(i),a=a.substring(0,i)),a&&(r.pathname=a)}return r}function vj(a,r,s,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,f=o.history,m="POP",g=null,y=b();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function b(){return(f.state||{idx:null}).idx}function v(){m="POP";let j=b(),C=j==null?null:j-y;y=j,g&&g({action:m,location:E.location,delta:C})}function w(j,C){m="PUSH";let D=af(E.location,j,C);y=b()+1;let T=Dy(D,y),P=E.createHref(D);try{f.pushState(T,"",P)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;o.location.assign(P)}c&&g&&g({action:m,location:E.location,delta:1})}function _(j,C){m="REPLACE";let D=af(E.location,j,C);y=b();let T=Dy(D,y),P=E.createHref(D);f.replaceState(T,"",P),c&&g&&g({action:m,location:E.location,delta:0})}function S(j){return xj(j)}let E={get action(){return m},get location(){return a(o,f)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Ry,v),g=j,()=>{o.removeEventListener(Ry,v),g=null}},createHref(j){return r(o,j)},createURL:S,encodeLocation(j){let C=S(j);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:_,go(j){return f.go(j)}};return E}function xj(a,r=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),He(s,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:ci(a);return i=i.replace(/ $/,"%20"),!r&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function Sb(a,r,s="/"){return wj(a,r,s,!1)}function wj(a,r,s,i){let o=typeof r=="string"?In(r):r,c=Br(o.pathname||"/",s);if(c==null)return null;let f=jb(a);_j(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=Dj(c);m=Oj(f[g],y,i)}return m}function jb(a,r=[],s=[],i="",o=!1){let c=(f,m,g=o,y)=>{let b={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&g)return;He(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let v=Mr([i,b.relativePath]),w=s.concat(b);f.children&&f.children.length>0&&(He(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),jb(f.children,r,w,v,g)),!(f.path==null&&!f.index)&&r.push({path:v,score:Aj(v,f.index),routesMeta:w})};return a.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))c(f,m);else for(let g of Eb(f.path))c(f,m,!0,g)}),r}function Eb(a){let r=a.split("/");if(r.length===0)return[];let[s,...i]=r,o=s.endsWith("?"),c=s.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let f=Eb(i.join("/")),m=[];return m.push(...f.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...f),m.map(g=>a.startsWith("/")&&g===""?"/":g)}function _j(a){a.sort((r,s)=>r.score!==s.score?s.score-r.score:Cj(r.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var Sj=/^:[\w-]+$/,jj=3,Ej=2,kj=1,Nj=10,Tj=-2,Uy=a=>a==="*";function Aj(a,r){let s=a.split("/"),i=s.length;return s.some(Uy)&&(i+=Tj),r&&(i+=Ej),s.filter(o=>!Uy(o)).reduce((o,c)=>o+(Sj.test(c)?jj:c===""?kj:Nj),i)}function Cj(a,r){return a.length===r.length&&a.slice(0,-1).every((i,o)=>i===r[o])?a[a.length-1]-r[r.length-1]:0}function Oj(a,r,s=!1){let{routesMeta:i}=a,o={},c="/",f=[];for(let m=0;m<i.length;++m){let g=i[m],y=m===i.length-1,b=c==="/"?r:r.slice(c.length)||"/",v=wo({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),w=g.route;if(!v&&y&&s&&!i[i.length-1].route.index&&(v=wo({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!v)return null;Object.assign(o,v.params),f.push({params:o,pathname:Mr([c,v.pathname]),pathnameBase:Lj(Mr([c,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(c=Mr([c,v.pathnameBase]))}return f}function wo(a,r){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[s,i]=Rj(a.path,a.caseSensitive,a.end),o=r.match(s);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((y,{paramName:b,isOptional:v},w)=>{if(b==="*"){let S=m[w]||"";f=c.slice(0,c.length-S.length).replace(/(.)\/+$/,"$1")}const _=m[w];return v&&!_?y[b]=void 0:y[b]=(_||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:a}}function Rj(a,r=!1,s=!0){ar(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(i.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),i]}function Dj(a){try{return a.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return ar(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),a}}function Br(a,r){if(r==="/")return a;if(!a.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,i=a.charAt(s);return i&&i!=="/"?null:a.slice(s)||"/"}var Uj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mj=a=>Uj.test(a);function zj(a,r="/"){let{pathname:s,search:i="",hash:o=""}=typeof a=="string"?In(a):a,c;if(s)if(Mj(s))c=s;else{if(s.includes("//")){let f=s;s=s.replace(/\/\/+/g,"/"),ar(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${s}`)}s.startsWith("/")?c=My(s.substring(1),"/"):c=My(s,r)}else c=r;return{pathname:c,search:qj(i),hash:$j(o)}}function My(a,r){let s=r.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Td(a,r,s,i){return`Cannot include a '${a}' character in a manually specified \`to.${r}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bj(a){return a.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function kb(a){let r=Bj(a);return r.map((s,i)=>i===r.length-1?s.pathname:s.pathnameBase)}function Nb(a,r,s,i=!1){let o;typeof a=="string"?o=In(a):(o={...a},He(!o.pathname||!o.pathname.includes("?"),Td("?","pathname","search",o)),He(!o.pathname||!o.pathname.includes("#"),Td("#","pathname","hash",o)),He(!o.search||!o.search.includes("#"),Td("#","search","hash",o)));let c=a===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=s;else{let v=r.length-1;if(!i&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}m=v>=0?r[v]:"/"}let g=zj(o,m),y=f&&f!=="/"&&f.endsWith("/"),b=(c||f===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var Mr=a=>a.join("/").replace(/\/\/+/g,"/"),Lj=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),qj=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,$j=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Hj(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function Vj(a){return a.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Tb=["POST","PUT","PATCH","DELETE"];new Set(Tb);var Pj=["GET",...Tb];new Set(Pj);var Yn=R.createContext(null);Yn.displayName="DataRouter";var Uo=R.createContext(null);Uo.displayName="DataRouterState";R.createContext(!1);var Ab=R.createContext({isTransitioning:!1});Ab.displayName="ViewTransition";var Gj=R.createContext(new Map);Gj.displayName="Fetchers";var Ij=R.createContext(null);Ij.displayName="Await";var nr=R.createContext(null);nr.displayName="Navigation";var gi=R.createContext(null);gi.displayName="Location";var ur=R.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var Sf=R.createContext(null);Sf.displayName="RouteError";function Yj(a,{relative:r}={}){He(yi(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=R.useContext(nr),{hash:o,pathname:c,search:f}=pi(a,{relative:r}),m=c;return s!=="/"&&(m=c==="/"?s:Mr([s,c])),i.createHref({pathname:m,search:f,hash:o})}function yi(){return R.useContext(gi)!=null}function dr(){return He(yi(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(gi).location}var Cb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ob(a){R.useContext(nr).static||R.useLayoutEffect(a)}function Kt(){let{isDataRoute:a}=R.useContext(ur);return a?s2():Fj()}function Fj(){He(yi(),"useNavigate() may be used only in the context of a <Router> component.");let a=R.useContext(Yn),{basename:r,navigator:s}=R.useContext(nr),{matches:i}=R.useContext(ur),{pathname:o}=dr(),c=JSON.stringify(kb(i)),f=R.useRef(!1);return Ob(()=>{f.current=!0}),R.useCallback((g,y={})=>{if(ar(f.current,Cb),!f.current)return;if(typeof g=="number"){s.go(g);return}let b=Nb(g,JSON.parse(c),o,y.relative==="path");a==null&&r!=="/"&&(b.pathname=b.pathname==="/"?r:Mr([r,b.pathname])),(y.replace?s.replace:s.push)(b,y.state,y)},[r,s,c,o,a])}R.createContext(null);function jf(){let{matches:a}=R.useContext(ur),r=a[a.length-1];return r?r.params:{}}function pi(a,{relative:r}={}){let{matches:s}=R.useContext(ur),{pathname:i}=dr(),o=JSON.stringify(kb(s));return R.useMemo(()=>Nb(a,JSON.parse(o),i,r==="path"),[a,o,i,r])}function Kj(a,r){return Rb(a,r)}function Rb(a,r,s,i,o){He(yi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=R.useContext(nr),{matches:f}=R.useContext(ur),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",b=m?m.pathnameBase:"/",v=m&&m.route;{let D=v&&v.path||"";Db(y,!v||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let w=dr(),_;if(r){let D=typeof r=="string"?In(r):r;He(b==="/"||D.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${D.pathname}" was given in the \`location\` prop.`),_=D}else _=w;let S=_.pathname||"/",E=S;if(b!=="/"){let D=b.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(D.length).join("/")}let j=Sb(a,{pathname:E});ar(v||j!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ar(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Wj(j&&j.map(D=>Object.assign({},D,{params:Object.assign({},g,D.params),pathname:Mr([b,c.encodeLocation?c.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?b:Mr([b,c.encodeLocation?c.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),f,s,i,o);return r&&C?R.createElement(gi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function Xj(){let a=n2(),r=Hj(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),s=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:c},"ErrorBoundary")," or"," ",R.createElement("code",{style:c},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},r),s?R.createElement("pre",{style:o},s):null,f)}var Jj=R.createElement(Xj,null),Qj=class extends R.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,r){return r.location!==a.location||r.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:r.error,location:r.location,revalidation:a.revalidation||r.revalidation}}componentDidCatch(a,r){this.props.onError?this.props.onError(a,r):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?R.createElement(ur.Provider,{value:this.props.routeContext},R.createElement(Sf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zj({routeContext:a,match:r,children:s}){let i=R.useContext(Yn);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),R.createElement(ur.Provider,{value:a},s)}function Wj(a,r=[],s=null,i=null,o=null){if(a==null){if(!s)return null;if(s.errors)a=s.matches;else if(r.length===0&&!s.initialized&&s.matches.length>0)a=s.matches;else return null}let c=a,f=s?.errors;if(f!=null){let b=c.findIndex(v=>v.route.id&&f?.[v.route.id]!==void 0);He(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,b+1))}let m=!1,g=-1;if(s)for(let b=0;b<c.length;b++){let v=c[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=b),v.route.id){let{loaderData:w,errors:_}=s,S=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||S){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=s&&i?(b,v)=>{i(b,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:Vj(s.matches),errorInfo:v})}:void 0;return c.reduceRight((b,v,w)=>{let _,S=!1,E=null,j=null;s&&(_=f&&v.route.id?f[v.route.id]:void 0,E=v.route.errorElement||Jj,m&&(g<0&&w===0?(Db("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,j=null):g===w&&(S=!0,j=v.route.hydrateFallbackElement||null)));let C=r.concat(c.slice(0,w+1)),D=()=>{let T;return _?T=E:S?T=j:v.route.Component?T=R.createElement(v.route.Component,null):v.route.element?T=v.route.element:T=b,R.createElement(Zj,{match:v,routeContext:{outlet:b,matches:C,isDataRoute:s!=null},children:T})};return s&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?R.createElement(Qj,{location:s.location,revalidation:s.revalidation,component:E,error:_,children:D(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:y}):D()},null)}function Ef(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e2(a){let r=R.useContext(Yn);return He(r,Ef(a)),r}function t2(a){let r=R.useContext(Uo);return He(r,Ef(a)),r}function r2(a){let r=R.useContext(ur);return He(r,Ef(a)),r}function kf(a){let r=r2(a),s=r.matches[r.matches.length-1];return He(s.route.id,`${a} can only be used on routes that contain a unique "id"`),s.route.id}function a2(){return kf("useRouteId")}function n2(){let a=R.useContext(Sf),r=t2("useRouteError"),s=kf("useRouteError");return a!==void 0?a:r.errors?.[s]}function s2(){let{router:a}=e2("useNavigate"),r=kf("useNavigate"),s=R.useRef(!1);return Ob(()=>{s.current=!0}),R.useCallback(async(o,c={})=>{ar(s.current,Cb),s.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:r,...c}))},[a,r])}var zy={};function Db(a,r,s){!r&&!zy[a]&&(zy[a]=!0,ar(!1,s))}R.memo(i2);function i2({routes:a,future:r,state:s,unstable_onError:i}){return Rb(a,void 0,s,i,r)}function ut(a){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function l2({basename:a="/",children:r=null,location:s,navigationType:i="POP",navigator:o,static:c=!1,unstable_useTransitions:f}){He(!yi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),g=R.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:f,future:{}}),[m,o,c,f]);typeof s=="string"&&(s=In(s));let{pathname:y="/",search:b="",hash:v="",state:w=null,key:_="default"}=s,S=R.useMemo(()=>{let E=Br(y,m);return E==null?null:{location:{pathname:E,search:b,hash:v,state:w,key:_},navigationType:i}},[m,y,b,v,w,_,i]);return ar(S!=null,`<Router basename="${m}"> is not able to match the URL "${y}${b}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:R.createElement(nr.Provider,{value:g},R.createElement(gi.Provider,{children:r,value:S}))}function By({children:a,location:r}){return Kj(nf(a),r)}function nf(a,r=[]){let s=[];return R.Children.forEach(a,(i,o)=>{if(!R.isValidElement(i))return;let c=[...r,o];if(i.type===R.Fragment){s.push.apply(s,nf(i.props.children,c));return}He(i.type===ut,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=nf(i.props.children,c)),s.push(f)}),s}var ao="get",no="application/x-www-form-urlencoded";function Mo(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function o2(a){return Mo(a)&&a.tagName.toLowerCase()==="button"}function c2(a){return Mo(a)&&a.tagName.toLowerCase()==="form"}function u2(a){return Mo(a)&&a.tagName.toLowerCase()==="input"}function d2(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function f2(a,r){return a.button===0&&(!r||r==="_self")&&!d2(a)}var Fl=null;function h2(){if(Fl===null)try{new FormData(document.createElement("form"),0),Fl=!1}catch{Fl=!0}return Fl}var m2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ad(a){return a!=null&&!m2.has(a)?(ar(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${no}"`),null):a}function g2(a,r){let s,i,o,c,f;if(c2(a)){let m=a.getAttribute("action");i=m?Br(m,r):null,s=a.getAttribute("method")||ao,o=Ad(a.getAttribute("enctype"))||no,c=new FormData(a)}else if(o2(a)||u2(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||m.getAttribute("action");if(i=g?Br(g,r):null,s=a.getAttribute("formmethod")||m.getAttribute("method")||ao,o=Ad(a.getAttribute("formenctype"))||Ad(m.getAttribute("enctype"))||no,c=new FormData(m,a),!h2()){let{name:y,type:b,value:v}=a;if(b==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,v)}}else{if(Mo(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=ao,i=null,o=no,f=a}return c&&o==="text/plain"&&(f=c,c=void 0),{action:i,method:s.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Nf(a,r){if(a===!1||a===null||typeof a>"u")throw new Error(r)}function y2(a,r,s){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname=`_root.${s}`:r&&Br(i.pathname,r)==="/"?i.pathname=`${r.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function p2(a,r){if(a.id in r)return r[a.id];try{let s=await import(a.module);return r[a.id]=s,s}catch(s){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b2(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function v2(a,r,s){let i=await Promise.all(a.map(async o=>{let c=r.routes[o.route.id];if(c){let f=await p2(c,s);return f.links?f.links():[]}return[]}));return S2(i.flat(1).filter(b2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ly(a,r,s,i,o,c){let f=(g,y)=>s[y]?g.route.id!==s[y].route.id:!0,m=(g,y)=>s[y].pathname!==g.pathname||s[y].route.path?.endsWith("*")&&s[y].params["*"]!==g.params["*"];return c==="assets"?r.filter((g,y)=>f(g,y)||m(g,y)):c==="data"?r.filter((g,y)=>{let b=i.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let v=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function x2(a,r,{includeHydrateFallback:s}={}){return w2(a.map(i=>{let o=r.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function w2(a){return[...new Set(a)]}function _2(a){let r={},s=Object.keys(a).sort();for(let i of s)r[i]=a[i];return r}function S2(a,r){let s=new Set;return new Set(r),a.reduce((i,o)=>{let c=JSON.stringify(_2(o));return s.has(c)||(s.add(c),i.push({key:c,link:o})),i},[])}function Ub(){let a=R.useContext(Yn);return Nf(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function j2(){let a=R.useContext(Uo);return Nf(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Tf=R.createContext(void 0);Tf.displayName="FrameworkContext";function Mb(){let a=R.useContext(Tf);return Nf(a,"You must render this element inside a <HydratedRouter> element"),a}function E2(a,r){let s=R.useContext(Tf),[i,o]=R.useState(!1),[c,f]=R.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:v}=r,w=R.useRef(null);R.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let E=C=>{C.forEach(D=>{f(D.isIntersecting)})},j=new IntersectionObserver(E,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[a]),R.useEffect(()=>{if(i){let E=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(E)}}},[i]);let _=()=>{o(!0)},S=()=>{o(!1),f(!1)};return s?a!=="intent"?[c,w,{}]:[c,w,{onFocus:Ps(m,_),onBlur:Ps(g,S),onMouseEnter:Ps(y,_),onMouseLeave:Ps(b,S),onTouchStart:Ps(v,_)}]:[!1,w,{}]}function Ps(a,r){return s=>{a&&a(s),s.defaultPrevented||r(s)}}function k2({page:a,...r}){let{router:s}=Ub(),i=R.useMemo(()=>Sb(s.routes,a,s.basename),[s.routes,a,s.basename]);return i?R.createElement(T2,{page:a,matches:i,...r}):null}function N2(a){let{manifest:r,routeModules:s}=Mb(),[i,o]=R.useState([]);return R.useEffect(()=>{let c=!1;return v2(a,r,s).then(f=>{c||o(f)}),()=>{c=!0}},[a,r,s]),i}function T2({page:a,matches:r,...s}){let i=dr(),{manifest:o,routeModules:c}=Mb(),{basename:f}=Ub(),{loaderData:m,matches:g}=j2(),y=R.useMemo(()=>Ly(a,r,g,o,i,"data"),[a,r,g,o,i]),b=R.useMemo(()=>Ly(a,r,g,o,i,"assets"),[a,r,g,o,i]),v=R.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let S=new Set,E=!1;if(r.forEach(C=>{let D=o.routes[C.route.id];!D||!D.hasLoader||(!y.some(T=>T.route.id===C.route.id)&&C.route.id in m&&c[C.route.id]?.shouldRevalidate||D.hasClientLoader?E=!0:S.add(C.route.id))}),S.size===0)return[];let j=y2(a,f,"data");return E&&S.size>0&&j.searchParams.set("_routes",r.filter(C=>S.has(C.route.id)).map(C=>C.route.id).join(",")),[j.pathname+j.search]},[f,m,i,o,y,r,a,c]),w=R.useMemo(()=>x2(b,o),[b,o]),_=N2(b);return R.createElement(R.Fragment,null,v.map(S=>R.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...s})),w.map(S=>R.createElement("link",{key:S,rel:"modulepreload",href:S,...s})),_.map(({key:S,link:E})=>R.createElement("link",{key:S,nonce:s.nonce,...E})))}function A2(...a){return r=>{a.forEach(s=>{typeof s=="function"?s(r):s!=null&&(s.current=r)})}}var zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zb&&(window.__reactRouterVersion="7.10.1")}catch{}function C2({basename:a,children:r,unstable_useTransitions:s,window:i}){let o=R.useRef();o.current==null&&(o.current=pj({window:i,v5Compat:!0}));let c=o.current,[f,m]=R.useState({action:c.action,location:c.location}),g=R.useCallback(y=>{s===!1?m(y):R.startTransition(()=>m(y))},[s]);return R.useLayoutEffect(()=>c.listen(g),[c,g]),R.createElement(l2,{basename:a,children:r,location:f.location,navigationType:f.action,navigator:c,unstable_useTransitions:s===!0})}var Bb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ua=R.forwardRef(function({onClick:r,discover:s="render",prefetch:i="none",relative:o,reloadDocument:c,replace:f,state:m,target:g,to:y,preventScrollReset:b,viewTransition:v,...w},_){let{basename:S,unstable_useTransitions:E}=R.useContext(nr),j=typeof y=="string"&&Bb.test(y),C,D=!1;if(typeof y=="string"&&j&&(C=y,zb))try{let Q=new URL(window.location.href),de=y.startsWith("//")?new URL(Q.protocol+y):new URL(y),ne=Br(de.pathname,S);de.origin===Q.origin&&ne!=null?y=ne+de.search+de.hash:D=!0}catch{ar(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Yj(y,{relative:o}),[P,N,M]=E2(i,w),z=U2(y,{replace:f,state:m,target:g,preventScrollReset:b,relative:o,viewTransition:v,unstable_useTransitions:E});function K(Q){r&&r(Q),Q.defaultPrevented||z(Q)}let Z=R.createElement("a",{...w,...M,href:C||T,onClick:D||c?r:K,ref:A2(_,N),target:g,"data-discover":!j&&s==="render"?"true":void 0});return P&&!j?R.createElement(R.Fragment,null,Z,R.createElement(k2,{page:T})):Z});ua.displayName="Link";var O2=R.forwardRef(function({"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:c,to:f,viewTransition:m,children:g,...y},b){let v=pi(f,{relative:y.relative}),w=dr(),_=R.useContext(Uo),{navigator:S,basename:E}=R.useContext(nr),j=_!=null&&q2(v)&&m===!0,C=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,D=w.pathname,T=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(D=D.toLowerCase(),T=T?T.toLowerCase():null,C=C.toLowerCase()),T&&E&&(T=Br(T,E)||T);const P=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let N=D===C||!o&&D.startsWith(C)&&D.charAt(P)==="/",M=T!=null&&(T===C||!o&&T.startsWith(C)&&T.charAt(C.length)==="/"),z={isActive:N,isPending:M,isTransitioning:j},K=N?r:void 0,Z;typeof i=="function"?Z=i(z):Z=[i,N?"active":null,M?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let Q=typeof c=="function"?c(z):c;return R.createElement(ua,{...y,"aria-current":K,className:Z,ref:b,style:Q,to:f,viewTransition:m},typeof g=="function"?g(z):g)});O2.displayName="NavLink";var R2=R.forwardRef(({discover:a="render",fetcherKey:r,navigate:s,reloadDocument:i,replace:o,state:c,method:f=ao,action:m,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:v,...w},_)=>{let{unstable_useTransitions:S}=R.useContext(nr),E=B2(),j=L2(m,{relative:y}),C=f.toLowerCase()==="get"?"get":"post",D=typeof m=="string"&&Bb.test(m),T=P=>{if(g&&g(P),P.defaultPrevented)return;P.preventDefault();let N=P.nativeEvent.submitter,M=N?.getAttribute("formmethod")||f,z=()=>E(N||P.currentTarget,{fetcherKey:r,method:M,navigate:s,replace:o,state:c,relative:y,preventScrollReset:b,viewTransition:v});S&&s!==!1?R.startTransition(()=>z()):z()};return R.createElement("form",{ref:_,method:C,action:j,onSubmit:i?g:T,...w,"data-discover":!D&&a==="render"?"true":void 0})});R2.displayName="Form";function D2(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lb(a){let r=R.useContext(Yn);return He(r,D2(a)),r}function U2(a,{target:r,replace:s,state:i,preventScrollReset:o,relative:c,viewTransition:f,unstable_useTransitions:m}={}){let g=Kt(),y=dr(),b=pi(a,{relative:c});return R.useCallback(v=>{if(f2(v,r)){v.preventDefault();let w=s!==void 0?s:ci(y)===ci(b),_=()=>g(a,{replace:w,state:i,preventScrollReset:o,relative:c,viewTransition:f});m?R.startTransition(()=>_()):_()}},[y,g,b,s,i,r,a,o,c,f,m])}var M2=0,z2=()=>`__${String(++M2)}__`;function B2(){let{router:a}=Lb("useSubmit"),{basename:r}=R.useContext(nr),s=a2(),i=a.fetch,o=a.navigate;return R.useCallback(async(c,f={})=>{let{action:m,method:g,encType:y,formData:b,body:v}=g2(c,r);if(f.navigate===!1){let w=f.fetcherKey||z2();await i(w,s,f.action||m,{preventScrollReset:f.preventScrollReset,formData:b,body:v,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{preventScrollReset:f.preventScrollReset,formData:b,body:v,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:s,flushSync:f.flushSync,viewTransition:f.viewTransition})},[i,o,r,s])}function L2(a,{relative:r}={}){let{basename:s}=R.useContext(nr),i=R.useContext(ur);He(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...pi(a||".",{relative:r})},f=dr();if(a==null){c.search=f.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(b=>b==="")){m.delete("index"),g.filter(v=>v).forEach(v=>m.append("index",v));let b=m.toString();c.search=b?`?${b}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:Mr([s,c.pathname])),ci(c)}function q2(a,{relative:r}={}){let s=R.useContext(Ab);He(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Lb("useViewTransitionState"),o=pi(a,{relative:r});if(!s.isTransitioning)return!1;let c=Br(s.currentLocation.pathname,i)||s.currentLocation.pathname,f=Br(s.nextLocation.pathname,i)||s.nextLocation.pathname;return wo(o.pathname,f)!=null||wo(o.pathname,c)!=null}const fr=()=>Pw(),Ve=Yw,Af=()=>{const[a,r]=R.useState(null),[s,i]=R.useState(null),[o,c]=R.useState(!0),[f,m]=R.useState(null);return R.useEffect(()=>{(async()=>{try{c(!0);const{data:{session:b},error:v}=await ge.auth.getSession();v?m(v.message):(r(b),i(b?.user??null))}catch(b){m("Failed to get session"),console.error("Session error:",b)}finally{c(!1)}})();const{data:{subscription:y}}=ge.auth.onAuthStateChange(async(b,v)=>{console.log("Auth state changed:",b,v),r(v),i(v?.user??null),c(!1),v&&m(null)});return()=>{y.unsubscribe()}},[]),{session:a,user:s,loading:o,error:f}},$2=()=>{const a=dr(),r=Kt(),{user:s}=Af(),i=async()=>{try{const{error:c}=await ge.auth.signOut();c?alert("Error logging out: "+c.message):r("/")}catch(c){console.error("Logout error:",c),alert("An error occurred during logout. Please try again.")}},o=c=>a.pathname===c;return d.jsxs("aside",{className:"flex w-64 flex-col bg-background-light dark:bg-[#111618] border-r border-gray-200 dark:border-gray-800 p-4",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:`url("${s?.user_metadata?.avatar_url||s?.user_metadata?.picture||"https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg"}")`}}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("h1",{className:"text-gray-900 dark:text-white text-base font-medium leading-normal",children:s?.user_metadata?.full_name||s?.email||"Partner"}),s?.email&&d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:s.email})]})]}),d.jsxs("nav",{className:"flex flex-col gap-2 mt-4",children:[d.jsxs(ua,{to:"/dashboard",className:`flex items-center gap-3 px-3 py-2 rounded-lg ${o("/dashboard")?"bg-primary/10 text-primary dark:bg-primary/20 dark:text-primary":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800"}`,children:[d.jsx("span",{className:`material-symbols-outlined ${o("/dashboard")?"fill text-primary":"text-gray-500 dark:text-gray-400"}`,children:"dashboard"}),d.jsx("p",{className:"text-sm font-medium leading-normal",children:"Dashboard"})]}),d.jsxs(ua,{to:"/calendar",className:`flex items-center gap-3 px-3 py-2 rounded-lg ${o("/calendar")?"bg-primary/10 text-primary dark:bg-primary/20 dark:text-primary":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800"}`,children:[d.jsx("span",{className:`material-symbols-outlined ${o("/calendar")?"fill text-primary":"text-gray-500 dark:text-gray-400"}`,children:"calendar_month"}),d.jsx("p",{className:"text-sm font-medium leading-normal",children:"Calendar"})]}),d.jsxs(ua,{to:"/slots-venues",className:`flex items-center gap-3 px-3 py-2 rounded-lg ${o("/slots-venues")?"bg-primary/10 text-primary dark:bg-primary/20 dark:text-primary":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800"}`,children:[d.jsx("span",{className:`material-symbols-outlined ${o("/slots-venues")?"fill text-primary":"text-gray-500 dark:text-gray-400"}`,children:"event_available"}),d.jsx("p",{className:"text-sm font-medium leading-normal",children:"Slots and Venues"})]}),d.jsxs(ua,{to:"/bookings",className:`flex items-center gap-3 px-3 py-2 rounded-lg ${o("/bookings")?"bg-primary/10 text-primary dark:bg-primary/20 dark:text-primary":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800"}`,children:[d.jsx("span",{className:`material-symbols-outlined ${o("/bookings")?"fill text-primary":"text-gray-500 dark:text-gray-400"}`,children:"bookmark"}),d.jsx("p",{className:"text-sm font-medium leading-normal",children:"Bookings"})]}),d.jsxs(ua,{to:"/users",className:`flex items-center gap-3 px-3 py-2 rounded-lg ${o("/users")?"bg-primary/10 text-primary dark:bg-primary/20 dark:text-primary":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800"}`,children:[d.jsx("span",{className:`material-symbols-outlined ${o("/users")?"fill text-primary":"text-gray-500 dark:text-gray-400"}`,children:"group"}),d.jsx("p",{className:"text-sm font-medium leading-normal",children:"Members"})]}),d.jsxs(ua,{to:"/settings",className:`flex items-center gap-3 px-3 py-2 rounded-lg ${o("/settings")?"bg-primary/10 text-primary dark:bg-primary/20 dark:text-primary":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800"}`,children:[d.jsx("span",{className:`material-symbols-outlined ${o("/settings")?"fill text-primary":"text-gray-500 dark:text-gray-400"}`,children:"settings"}),d.jsx("p",{className:"text-sm font-medium leading-normal",children:"Settings"})]})]})]}),d.jsx("div",{className:"mt-auto",children:d.jsx("button",{onClick:i,className:"flex w-full min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-primary text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-primary/90",children:d.jsx("span",{className:"truncate",children:"Log out"})})})]})};const H2=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V2=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,i)=>i?i.toUpperCase():s.toLowerCase()),qy=a=>{const r=V2(a);return r.charAt(0).toUpperCase()+r.slice(1)},qb=(...a)=>a.filter((r,s,i)=>!!r&&r.trim()!==""&&i.indexOf(r)===s).join(" ").trim(),P2=a=>{for(const r in a)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};var G2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const I2=R.forwardRef(({color:a="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:f,...m},g)=>R.createElement("svg",{ref:g,...G2,width:r,height:r,stroke:a,strokeWidth:i?Number(s)*24/Number(r):s,className:qb("lucide",o),...!c&&!P2(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,b])=>R.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Y2=(a,r)=>{const s=R.forwardRef(({className:i,...o},c)=>R.createElement(I2,{ref:c,iconNode:r,className:qb(`lucide-${H2(qy(a))}`,`lucide-${a}`,i),...o}));return s.displayName=qy(a),s};const F2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$b=Y2("chevron-down",F2);function Hb(a){const r=R.useRef(null);return R.useEffect(()=>{const s=i=>{r.current&&!r.current.contains(i.target)&&a()};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[a]),r}const K2=()=>{const a=fr(),r=Kt(),[s,i]=R.useState(!1),o=Hb(()=>{i(!1)}),{userVenues:c,selectedVenueId:f,fetchingUserVenues:m}=Ve(E=>E.venue),{user:g}=Ve(E=>E.user),{currentMonth:y,currentYear:b}=Ve(E=>E.calendar);console.log("Header: user:",g?.id,"selectedVenueId:",f,"userVenues:",c.length),R.useEffect(()=>{a(Ln())},[a]),R.useEffect(()=>{(async()=>{if(g?.id)try{const j=await a(ei());if(j.payload&&typeof j.payload=="object"&&"venueAccess"in j.payload&&Array.isArray(j.payload.venueAccess)&&j.payload.venueAccess.length>0){const C=j.payload.venueAccess.map(D=>D.venue_id);await a(ai(C))}}catch(j){console.error("Error loading user venues:",j)}})()},[a,g?.id]),R.useEffect(()=>{(async()=>{if(f)try{await a(Pa(parseInt(f)))}catch(j){console.error("Error fetching venue slots:",j)}})()},[a,f]),R.useEffect(()=>{f&&a(Qs({venue_id:f,month:y,year:b}))},[a,f,y,b]);const v=()=>{a(oj())},w=()=>{r("/add-slot")},_=E=>{a(_b(E)),i(!1)},S=c.find(E=>E.id===f);return d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[d.jsx("p",{className:"text-gray-900 dark:text-white text-4xl font-black leading-tight tracking-[-0.033em]",children:"Calendar"}),d.jsxs("div",{className:"flex gap-3 flex-wrap",children:[c.length>0&&d.jsxs("div",{className:"relative",ref:o,children:[d.jsxs("button",{onClick:()=>i(!s),disabled:m,className:"flex items-center min-w-[200px] max-w-[300px] cursor-pointer justify-between overflow-hidden rounded-lg h-10 px-4 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm font-medium leading-normal tracking-[0.015em] border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[d.jsx("span",{className:"truncate flex-1 text-left",children:m?"Loading venues...":S?S.name:"Select venue"}),d.jsx($b,{className:"w-4 h-4 ml-2 flex-shrink-0"})]}),s&&c.length>0&&d.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 max-h-60 overflow-y-auto",children:c.map(E=>d.jsxs("button",{onClick:()=>_(E.id),className:`w-full px-4 py-3 text-left text-sm hover:bg-gray-50 dark:hover:bg-gray-700 first:rounded-t-lg last:rounded-b-lg ${E.id===f?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300"}`,children:[d.jsx("div",{className:"truncate font-medium",children:E.name}),E.details&&d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-1",children:E.details.city})]},E.id))})]}),d.jsx("button",{onClick:v,className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm font-bold leading-normal tracking-[0.015em] border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:d.jsx("span",{className:"truncate",children:"Today"})}),d.jsx("button",{onClick:w,className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:opacity-90 transition-opacity gradient-bg",children:d.jsx("span",{className:"truncate",children:"+ Add Slot"})})]})]})},X2=()=>{const a=fr(),{view:r}=Ve(o=>o.calendar),s=o=>{a(nj(o))},i=o=>{a(sj(o))};return d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("div",{className:"flex h-10 items-center justify-center rounded-lg bg-gray-200 dark:bg-gray-800 p-1",children:["Month","Week"].map(o=>d.jsxs("label",{className:`flex cursor-pointer h-full grow items-center justify-center overflow-hidden rounded-md px-4 text-sm font-medium leading-normal ${r===o?"bg-white dark:bg-gray-900 shadow-sm text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:[d.jsx("span",{className:"truncate",children:o}),d.jsx("input",{className:"invisible w-0",name:"calendar-view",type:"radio",value:o,checked:r===o,onChange:()=>s(o)})]},o))})}),d.jsxs("div",{className:"flex gap-2 overflow-x-auto",children:[d.jsxs("button",{onClick:()=>i("All"),className:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-white dark:bg-gray-800 px-3 border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[d.jsx("span",{className:"material-symbols-outlined text-base text-gray-500 dark:text-gray-400",children:"filter_list"}),d.jsx("p",{className:"text-gray-900 dark:text-white text-sm font-medium leading-normal",children:"All"}),d.jsx("span",{className:"material-symbols-outlined text-base text-gray-500 dark:text-gray-400",children:"arrow_drop_down"})]}),["Yoga","Spin","HIIT"].map(o=>d.jsxs("button",{onClick:()=>i(o),className:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-white dark:bg-gray-800 px-3 border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[d.jsx("span",{className:"material-symbols-outlined text-base text-gray-500 dark:text-gray-400",children:o==="Yoga"?"self_improvement":o==="Spin"?"directions_bike":"fitness_center"}),d.jsx("p",{className:"text-gray-900 dark:text-white text-sm font-medium leading-normal",children:o})]},o))]})]})},J2=({classItem:a,showSpots:r=!0,instanceId:s})=>{const i=Kt(),o=g=>{g.stopPropagation(),i(s?`/slot-instance/${s}`:`/class/${a.id}`)},c={green:"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300",orange:"bg-orange-100 dark:bg-orange-900/50 text-orange-800 dark:text-orange-300",red:"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300",blue:"bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-300"},f={green:"text-green-700 dark:text-green-400",orange:"text-orange-700 dark:text-orange-400",red:"text-red-700 dark:text-red-400",blue:"text-blue-700 dark:text-blue-400"},m={green:"text-green-600 dark:text-green-500",orange:"text-orange-600 dark:text-orange-500",red:"text-red-600 dark:text-red-500",blue:"text-blue-600 dark:text-blue-500"};return d.jsx("div",{onClick:o,className:`m-1 p-1 rounded-md cursor-pointer hover:shadow-md transition-shadow ${c[a.color]} ${r?"h-auto":"h-[25px] flex items-center justify-between"}`,children:r?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs font-bold",children:a.name}),d.jsx("p",{className:`text-[10px] ${f[a.color]}`,children:a.time}),d.jsxs("p",{className:`text-[10px] ${m[a.color]}`,children:[a.spots,"/",a.maxSpots," spots"]})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs font-bold truncate flex-1 mr-1",children:a.name}),d.jsx("p",{className:`text-[10px] ${f[a.color]} shrink-0`,children:a.time})]})})},Q2=({day:a,onDayClick:r})=>{const s=`relative h-[100px] bg-background-light dark:bg-[#111618] p-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700/30 transition-colors overflow-hidden ${a.isCurrentMonth?"":"text-gray-400 dark:text-gray-600"}`,i=`absolute ${a.isToday?"top-1.5 right-1.5 font-bold text-white":"top-2 right-2 font-medium"}`;return d.jsxs("div",{className:s,onClick:()=>r(a),style:a.isToday?{background:"linear-gradient(135deg, rgba(42, 123, 155, 0.2) 0%, rgba(87, 199, 133, 0.2) 50%, rgba(237, 221, 83, 0.2) 100%)"}:{},children:[a.isToday&&d.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#2A7B9B] via-[#57C785] to-[#EDDD53]"}),d.jsx("span",{className:i,children:a.date}),d.jsx("div",{className:"mt-6 space-y-1 max-h-[60px]",children:a.classes.length>0&&d.jsxs(d.Fragment,{children:[d.jsx(J2,{classItem:a.classes[0],showSpots:a.classes.length===1,instanceId:a.classes[0].instanceId||a.classes[0].id},a.classes[0].id),a.classes.length>1&&d.jsx("div",{className:"m-1 p-1 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 h-[25px] flex items-center justify-center",children:d.jsxs("p",{className:"text-[10px]",children:["+",a.classes.length-1," more class",a.classes.length>2?"es":""]})})]})})]})},Z2=a=>{switch(a){case"Yoga":return"self_improvement";case"Spin":return"directions_bike";case"HIIT":return"fitness_center";default:return"spa"}},W2=a=>{const r={green:{bg:"bg-green-100 dark:bg-green-900/50",icon:"text-green-600 dark:text-green-300",text:"text-gray-900 dark:text-white",time:"text-gray-500 dark:text-gray-400",spots:"text-gray-800 dark:text-gray-200",status:"text-gray-400 dark:text-gray-500"},red:{bg:"bg-red-100 dark:bg-red-900/50",icon:"text-red-600 dark:text-red-300",text:"text-gray-900 dark:text-white",time:"text-gray-500 dark:text-gray-400",spots:"text-red-500 dark:text-red-400",status:"text-red-400 dark:text-red-500"},orange:{bg:"bg-orange-100 dark:bg-orange-900/50",icon:"text-orange-600 dark:text-orange-300",text:"text-gray-900 dark:text-white",time:"text-gray-500 dark:text-gray-400",spots:"text-gray-800 dark:text-gray-200",status:"text-gray-400 dark:text-gray-500"},blue:{bg:"bg-blue-100 dark:bg-blue-900/50",icon:"text-blue-600 dark:text-blue-300",text:"text-gray-900 dark:text-white",time:"text-gray-500 dark:text-gray-400",spots:"text-gray-800 dark:text-gray-200",status:"text-gray-400 dark:text-gray-500"}};return r[a]||r.green},eE=({date:a,month:r,dayOfWeek:s,classes:i,onClose:o})=>{const c=Kt(),f=m=>{const g="instanceId"in m?m.instanceId:m.id;c(`/slot-instance/${g}`),o()};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm",onClick:o}),d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:d.jsx("div",{className:"w-full max-w-lg rounded-xl bg-white dark:bg-[#111618] shadow-2xl border border-gray-200 dark:border-gray-800",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Classes for ",r," ",a]}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s})]}),d.jsx("button",{onClick:o,className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800",children:d.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),d.jsx("div",{className:"mt-6 flex flex-col gap-4 max-h-[60vh] overflow-y-auto pr-2",children:i.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No classes scheduled for this day"}):i.map(m=>{const g=W2(m.color),y=m.spots>=m.maxSpots;return d.jsxs("div",{onClick:()=>f(m),className:"flex items-center gap-4 p-4 rounded-lg bg-gray-50 dark:bg-gray-800/50 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[d.jsx("div",{className:`flex-shrink-0 size-12 flex items-center justify-center rounded-lg ${g.bg}`,children:d.jsx("span",{className:`material-symbols-outlined text-2xl ${g.icon}`,children:Z2(m.type)})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:`font-semibold ${g.text}`,children:m.name}),d.jsx("p",{className:`text-sm ${g.time}`,children:m.time})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:`font-medium text-sm ${y?g.spots:"text-gray-800 dark:text-gray-200"}`,children:[m.spots,"/",m.maxSpots," spots"]}),d.jsx("p",{className:`text-xs ${y?g.status:"text-gray-400 dark:text-gray-500"}`,children:y?"Full":"Available"})]})]},m.id)})}),d.jsx("div",{className:"mt-6 flex justify-end",children:d.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-primary text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-primary/90",children:d.jsx("span",{className:"truncate",children:"Add New Class"})})})]})})})]})},tE=()=>{const a=fr(),{currentMonth:r,currentYear:s}=Ve(D=>D.calendar),{selectedVenueId:i}=Ve(D=>D.venue),{slotInstances:o,slots:c,fetchingSlotInstances:f,fetchingSlots:m}=Ve(D=>D.slots),[g,y]=R.useState(null);R.useEffect(()=>{(async()=>{if(console.log("CalendarGrid: selectedVenueId:",i,"month:",r,"year:",s),!i){console.log("CalendarGrid: No venue selected, not fetching data");return}console.log("CalendarGrid: Fetching all slots for venue:",i);const T=await a(Pa(parseInt(i)));Pa.fulfilled.match(T)?(console.log("CalendarGrid: Slots fetched successfully, now fetching slot instances"),a(Qs({venue_id:i,month:r,year:s}))):console.error("CalendarGrid: Failed to fetch slots")})()},[r,s,i,a]);const b=()=>{a(ij())},v=()=>{a(lj())},w=D=>{D.isCurrentMonth&&y(D)},_=()=>{y(null)},S=["January","February","March","April","May","June","July","August","September","October","November","December"],j=((D,T)=>{console.log("CalendarGrid: Getting days for month:",D,"year:",T,"slot instances:",o.length);const P=new Date(T,D,1),M=new Date(T,D+1,0).getDate(),z=P.getDay(),K=[];console.log("CalendarGrid: Processing",o.length,"slot instances for month",D+1,"year",T);const Z=new Date(T,D,0).getDate();for(let ne=z-1;ne>=0;ne--)K.push({date:Z-ne,isCurrentMonth:!1,isToday:!1,classes:[]});const Q=new Date;for(let ne=1;ne<=M;ne++){const Ue=ne===Q.getDate()&&D===Q.getMonth()&&T===Q.getFullYear(),_e=o.filter($=>{const X=new Date($.start_time),ae=X.getDate()===ne&&X.getMonth()===D&&X.getFullYear()===T;return ae&&console.log(`CalendarGrid: Found slot instance for day ${ne}:`,$.slot.name,"at",$.start_time),ae});_e.length>0&&console.log(`CalendarGrid: Day ${ne} has ${_e.length} slot instances`);const Ne=_e.map($=>({id:$.id,name:$.slot.name||"Untitled Class",time:new Date($.start_time).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),spots:$.booked_count,maxSpots:$.slot.capacity,color:"blue",type:"Other",instanceId:$.id}));K.push({date:ne,isCurrentMonth:!0,isToday:Ue,classes:Ne})}const de=42-K.length;for(let ne=1;ne<=de;ne++)K.push({date:ne,isCurrentMonth:!1,isToday:!1,classes:[]});return K})(r,s),C=D=>{const T=new Date(s,r,D).getDay();return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][T]};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-background-light dark:bg-[#111618] p-4 rounded-lg border border-gray-200 dark:border-gray-800 flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:b,className:"p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800 cursor-pointer",children:d.jsx("span",{className:"material-symbols-outlined text-gray-500 dark:text-gray-400",children:"chevron_left"})}),d.jsx("button",{onClick:v,className:"p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800 cursor-pointer",children:d.jsx("span",{className:"material-symbols-outlined text-gray-500 dark:text-gray-400",children:"chevron_right"})})]}),d.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[S[r]," ",s]}),d.jsx("div",{className:"w-12"})]}),f||m?d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading..."})}):d.jsxs("div",{className:"grid grid-cols-7 gap-px bg-gray-200 dark:bg-gray-700 border-t border-l border-gray-200 dark:border-gray-700",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(D=>d.jsx("div",{className:"text-center py-2 text-sm font-semibold text-gray-600 dark:text-gray-300 bg-white dark:bg-gray-800",children:D},D)),j.map((D,T)=>d.jsx(Q2,{day:D,onDayClick:w},T))]})]}),g&&d.jsx(eE,{date:g.date,month:S[r],dayOfWeek:C(g.date),classes:g.classes,onClose:_})]})},rE=()=>{const a=Kt(),r=fr(),{currentMonth:s,currentYear:i}=Ve(N=>N.calendar),{selectedVenueId:o}=Ve(N=>N.venue),{slotInstances:c,fetchingSlotInstances:f}=Ve(N=>N.slots),[m,g]=R.useState(b(new Date)),y=N=>{a(`/class/${N.id}`)};R.useEffect(()=>{if(o){const N=new Date(m);N.setHours(0,0,0,0);const M=new Date(m);M.setDate(M.getDate()+6),M.setHours(23,59,59,999),r(ro({venue_id:o,startDate:N.toISOString(),endDate:M.toISOString()}))}},[m,o,r]);function b(N){const M=new Date(N),z=M.getDay(),K=M.getDate()-z;return new Date(M.setDate(K))}const v=()=>{const N=new Date(m);N.setDate(N.getDate()-7),g(N)},w=()=>{const N=new Date(m);N.setDate(N.getDate()+7),g(N)},_=()=>{const N=[];for(let M=0;M<7;M++){const z=new Date(m);z.setDate(m.getDate()+M),N.push(z)}return N},S=()=>{const N=[];for(let M=6;M<=22;M++)N.push(`${M.toString().padStart(2,"0")}:00`);return N},E=(N,M)=>{if(!N.is_recurring||!N.recurrence_rules)return!1;console.log("WeekView: Checking recurring slot:",N.name,"rules:",N.recurrence_rules);let z=N.recurrence_rules.trim();z.startsWith("RRULE:")&&(z=z.substring(6));const K={};z.split(";").forEach(Ue=>{const[_e,Ne]=Ue.split("=");_e&&Ne&&(_e==="BYDAY"||_e==="BYMONTH"||_e==="BYMONTHDAY"?K[_e]=Ne.split(","):K[_e]=Ne)});const Q=K.FREQ,de=new Date(N.start_time);if(M<de)return!1;let ne=!1;if(Q==="WEEKLY"&&K.BYDAY&&Array.isArray(K.BYDAY)){const Ue={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},_e=M.getDay(),Ne=Object.keys(Ue).find($=>Ue[$]===_e);ne=K.BYDAY.some($=>Ue[$]===_e),(Ne==="MO"||Ne==="SU")&&(console.log(`WeekView:  DEBUGGING ${Ne} (${M.toDateString()}):`),console.log(`  - targetDayOfWeek: ${_e}`),console.log(`  - BYDAY rules: ${K.BYDAY}`),console.log(`  - shouldInclude: ${ne}`),console.log(`  - date: ${M.toISOString()}`),console.log(`  - startDate: ${de.toISOString()}`),console.log(`  - date >= startDate: ${M>=de}`)),console.log("WeekView: Weekly check for",M.toDateString(),"day",_e,"against",K.BYDAY,"->",ne)}else Q==="DAILY"?ne=!0:Q==="MONTHLY"&&(K.BYMONTHDAY&&Array.isArray(K.BYMONTHDAY)?ne=K.BYMONTHDAY.includes(M.getDate().toString()):ne=M.getDate()===de.getDate());return ne},j=N=>{console.log("WeekView: Getting classes for date:",N.toDateString());const M=[],z=new Map;c.forEach(Q=>{z.set(Q.slot.id,Q.slot)});const Z=Array.from(z.values()).filter(Q=>Q.is_recurring);return c.forEach(Q=>{Q.slot.is_recurring||new Date(Q.start_time).toDateString()===N.toDateString()&&(console.log("WeekView: Adding regular slot instance:",Q.slot.name,"for date:",N.toDateString()),M.push({...Q.slot,start_time:Q.start_time,booked_count:Q.booked_count,id:Q.id}))}),Z.forEach(Q=>{if(E(Q,N)){console.log("WeekView:  Adding recurring occurrence for",N.toDateString(),"slot:",Q.name);const de=new Date(Q.start_time),ne=new Date(N);ne.setHours(de.getHours()),ne.setMinutes(de.getMinutes()),ne.setSeconds(de.getSeconds()),M.push({...Q,start_time:ne.toISOString(),booked_count:0,id:`${Q.id}_${N.getTime()}`})}}),console.log("WeekView: Total occurrences for",N.toDateString(),":",M.length),console.log("WeekView: Slot occurrences:",M.map(Q=>({id:Q.id,name:Q.name,time:Q.start_time}))),M.map(Q=>({id:Q.id,name:Q.name||"Untitled Class",time:new Date(Q.start_time).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),spots:Q.booked_count||0,maxSpots:Q.capacity,duration:Q.duration||60,color:"blue",type:"Other"}))},C=N=>N.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),D=_(),T=S(),P=new Date;return d.jsxs("div",{className:"bg-background-light dark:bg-[#111618] p-4 rounded-lg border border-gray-200 dark:border-gray-800 flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:v,className:"p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800 cursor-pointer",children:d.jsx("span",{className:"material-symbols-outlined text-gray-500 dark:text-gray-400",children:"chevron_left"})}),d.jsx("button",{onClick:w,className:"p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800 cursor-pointer",children:d.jsx("span",{className:"material-symbols-outlined text-gray-500 dark:text-gray-400",children:"chevron_right"})})]}),d.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[C(D[0])," - ",C(D[6])]}),d.jsx("div",{className:"w-12"})]}),f?d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading..."})}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("div",{className:"min-w-[1200px]",children:[d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"w-32 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"}),d.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 relative",children:d.jsx("div",{className:"flex h-10 items-center",children:T.map(N=>d.jsx("div",{className:"flex-1 text-center text-sm font-semibold text-gray-600 dark:text-gray-300",children:N},N))})})]}),D.map((N,M)=>{const z=N.toDateString()===P.toDateString(),K=j(N);return d.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",style:z?{background:"linear-gradient(135deg, rgba(42, 123, 155, 0.2) 0%, rgba(87, 199, 133, 0.2) 50%, rgba(237, 221, 83, 0.2) 100%)"}:{},children:[d.jsxs("div",{className:`w-32 p-3 text-sm font-semibold border-r border-gray-200 dark:border-gray-700 flex items-center justify-center relative ${z?"text-white font-bold":"text-gray-600 dark:text-gray-300 bg-background-light dark:bg-[#111618]"}`,style:z?{}:{background:"inherit"},children:[z&&d.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-[#2A7B9B] via-[#57C785] to-[#EDDD53]"}),d.jsx("div",{className:"text-center whitespace-nowrap",children:C(N)})]}),d.jsx("div",{className:`flex-1 relative min-h-[80px] transition-colors ${z?"":"bg-background-light dark:bg-[#111618] hover:bg-gray-50 dark:hover:bg-gray-700/30"}`,children:K.map((Z,Q)=>{const de=Z.time,ne=de.includes("PM"),Ue=de.includes("AM");let _e=parseInt(de.split(":")[0]);ne&&_e!==12?_e+=12:Ue&&_e===12&&(_e=0);const Ne=Math.max(0,Math.min(100,(_e-6)/16*100)),ae=(Z.duration||60)/60/16*100,xe=K.filter(he=>he.time===Z.time),Se=xe.length>1,O=xe.findIndex(he=>he.id===Z.id),Y=60,I=76,J=2;let oe=Y,ce=2;if(Se){const he=(xe.length-1)*J;oe=(I-4-he)/xe.length,ce=2+O*(oe+J)}else ce=2+Q*32;return d.jsx("div",{onClick:()=>y(Z),className:`absolute rounded text-xs shadow-sm cursor-pointer hover:shadow-lg transition-all duration-200 ${Se?"flex items-center justify-center":"p-2 top-2"} ${Z.color==="green"?"bg-green-100 dark:bg-green-900/70 text-green-800 dark:text-green-300 border border-green-200 dark:border-green-700":Z.color==="orange"?"bg-orange-100 dark:bg-orange-900/70 text-orange-800 dark:text-orange-300 border border-orange-200 dark:border-orange-700":Z.color==="red"?"bg-red-100 dark:bg-red-900/70 text-red-800 dark:text-red-300 border border-red-200 dark:border-red-700":"bg-blue-100 dark:bg-blue-900/70 text-blue-800 dark:text-blue-300 border border-blue-200 dark:border-blue-700"}`,style:{left:`${Ne}%`,width:`${ae}%`,...Se?{height:`${oe}px`,transform:`translateY(${ce}px)`,padding:"4px 8px"}:{transform:`translateY(${Q*32}px)`},zIndex:Q+1},children:Se?d.jsx("div",{className:"font-semibold truncate text-center text-[10px]",children:Z.name}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"font-semibold truncate",children:Z.name}),d.jsxs("div",{className:"text-[10px] opacity-75",children:[Z.time,"  ",Z.spots,"/",Z.maxSpots]})]})},Z.id)})})]},M)})]})})]})},aE=()=>{const{view:a}=Ve(r=>r.calendar);return d.jsxs("div",{className:"p-6 flex flex-col gap-6",children:[d.jsx(K2,{}),d.jsx(X2,{}),a==="Week"?d.jsx(rE,{}):d.jsx(tE,{})]})},Cd=()=>{const a=Kt(),r=dr(),{slotId:s,classId:i}=jf(),o=fr(),{selectedVenueId:c}=Ve(M=>M.venue),{user:f}=Ve(M=>M.user),{creation:m,slots:g}=Ve(M=>M.slots),y=(M,z)=>{if(console.log("Generating RRULE with frequency:",M,"and days:",z),!z.length)return null;const K={Su:"SU",Mo:"MO",Tu:"TU",We:"WE",Th:"TH",Fr:"FR",Sa:"SA"};return`FREQ=WEEKLY;BYDAY=${z.map(Q=>K[Q]).filter(Boolean).join(",")}`},b=r.pathname.startsWith("/edit-slot")||!!s||!!i,v=s||i,w=r.state?.returnTo||"/calendar",[_,S]=R.useState({className:"",instructor:"",description:"",gym:"",startDate:new Date().toISOString().split("T")[0],startTime:"09:00",duration:"",capacity:"",repeats:!1,frequency:"Weekly",plan:"M"}),[E,j]=R.useState(["Mo","We","Fr"]);R.useEffect(()=>{if(b&&v){const M=v.includes("_")?v.split("_")[0]:v;g.find(K=>K.id===M)||o(Xs(M))}},[b,v,o,g]),R.useEffect(()=>{if(b&&v){const M=v.includes("_")?v.split("_")[0]:v,z=g.find(K=>K.id===M);if(z){const K=new Date(z.start_time),Z=K.toISOString().split("T")[0],Q=K.toTimeString().split(":").slice(0,2).join(":");if(S({className:z.name||"",instructor:z.instructor_id||"",description:z.description||"",gym:z.venue_id||c||"",startDate:Z,startTime:Q,duration:z.duration?z.duration.toString():"",capacity:z.capacity?z.capacity.toString():"",plan:z.plan||"M",repeats:z.is_recurring,frequency:"weekly"}),z.is_recurring&&z.recurrence_rules){const ne=z.recurrence_rules.match(/BYDAY=([^;]+)/);if(ne){const Ue={SU:"Su",MO:"Mo",TU:"Tu",WE:"We",TH:"Th",FR:"Fr",SA:"Sa"},Ne=ne[1].split(",").map($=>Ue[$.trim()]).filter(Boolean);j(Ne)}}}}},[g,b,v,c]);const C=M=>{const{name:z,value:K,type:Z}=M.target;S(Q=>({...Q,[z]:Z==="checkbox"?M.target.checked:K}))},D=M=>{j(z=>z.includes(M)?z.filter(K=>K!==M):[...z,M])},T=()=>{a(w)},P=async()=>{try{if(!f?.id){alert("User not authenticated");return}if(!c&&!_.gym){alert("Please select a venue from the header dropdown before saving the slot");return}if(!_.className||!_.startDate||!_.startTime||!_.duration||!_.capacity||!_.plan){alert("Please fill in all required fields");return}const z=new Date(`${_.startDate}T${_.startTime}:00`).toISOString(),K=_.repeats?y(_.frequency,E):null;console.log("Form repeats:",_.repeats,"Selected days:",E,"Generated rules:",K);const Z={venue_id:_.gym||c,name:_.className,start_time:z,duration:parseInt(_.duration),plan:_.plan,capacity:parseInt(_.capacity),instructor_id:f.id,is_recurring:_.repeats,recurrence_rules:K,description:_.description||null};console.log(b?"Updating slot with payload:":"Creating slot with payload:",Z);let Q;if(b&&v){const Ue=v.includes("_")?v.split("_")[0]:v;Q=await o(to({id:Ue,updates:Z}))}else Q=await o(eo(Z));const de=b?"updated":"created",ne=b?"slots/updateSlot/fulfilled":"slots/createSlotViaEdgeFunction/fulfilled";Q.type===ne?(alert(`Slot "${_.className}" ${de} successfully!`),a(w)):(console.error(`Slot ${de} failed:`,Q),alert("Failed to create slot. Please try again."))}catch(M){console.error("Error creating slot:",M),alert("Failed to create slot")}},N=["Su","Mo","Tu","We","Th","Fr","Sa"];return d.jsx("div",{className:"flex h-full grow flex-col overflow-y-auto",children:d.jsx("div",{className:"flex flex-1 justify-center py-12 md:py-20 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex flex-col w-full max-w-4xl flex-1",children:[d.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 p-4 mb-6",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("h1",{className:"text-gray-900 dark:text-white text-4xl font-black leading-tight tracking-tight",children:b?"Edit Slot":"Add New Slot"}),d.jsx("p",{className:"text-gray-500 dark:text-[#9db0b9] text-base font-normal leading-normal",children:b?"Update the details below to modify the slot.":"Fill in the details below to create a new slot for your gym."})]}),d.jsx("button",{onClick:T,className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-gray-200 dark:bg-[#283339] text-gray-800 dark:text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-gray-300 dark:hover:bg-[#344148] transition-colors",children:d.jsx("span",{className:"truncate",children:"Cancel"})})]}),d.jsxs("div",{className:"flex flex-col gap-8",children:[d.jsxs("div",{className:"bg-white dark:bg-[#111618] rounded-xl border border-gray-200 dark:border-[#283339] p-4 sm:p-6",children:[d.jsx("h2",{className:"text-gray-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-5 pt-1",children:"Basic Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 px-4",children:[d.jsxs("label",{className:"flex flex-col col-span-1 md:col-span-2",children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-base font-medium leading-normal pb-2",children:"Slot Name"}),d.jsx("input",{name:"className",value:_.className,onChange:C,className:"form-input w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-gray-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-[#3b4b54] bg-background-light dark:bg-[#1c2327] h-14 placeholder:text-gray-400 dark:placeholder:text-[#9db0b9] p-[15px] text-base font-normal leading-normal",placeholder:"e.g., Morning Yoga Flow"})]}),d.jsxs("div",{className:"flex flex-col col-span-1",children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-base font-medium leading-normal pb-2",children:"Instructor"}),d.jsx("div",{className:"w-full min-w-0 flex-1 rounded-lg text-gray-700 dark:text-white border border-gray-300 dark:border-[#3b4b54] bg-gray-50 dark:bg-[#1c2327] h-14 p-[15px] text-base font-normal leading-normal flex items-center",children:"Current User (Auto-assigned)"})]}),d.jsxs("label",{className:"flex flex-col col-span-1 md:col-span-2",children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-base font-medium leading-normal pb-2",children:"Description"}),d.jsx("textarea",{name:"description",value:_.description,onChange:C,rows:4,className:"form-input w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-gray-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-[#3b4b54] bg-background-light dark:bg-[#1c2327] placeholder:text-gray-400 dark:placeholder:text-[#9db0b9] p-[15px] text-base font-normal leading-normal",placeholder:"Describe your class, what participants can expect, required equipment, etc."})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-[#111618] rounded-xl border border-gray-200 dark:border-[#283339] p-4 sm:p-6",children:[d.jsx("h2",{className:"text-gray-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-5 pt-1",children:"Schedule & Capacity"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 px-4",children:[d.jsxs("label",{className:"flex flex-col col-span-1",children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-base font-medium leading-normal pb-2",children:"Date"}),d.jsx("input",{name:"startDate",type:"date",value:_.startDate,onChange:C,className:"form-input w-full min-w-0 flex-1 rounded-lg text-gray-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-[#3b4b54] bg-background-light dark:bg-[#1c2327] h-14 p-[15px] text-base font-normal leading-normal"})]}),d.jsxs("label",{className:"flex flex-col col-span-1",children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-base font-medium leading-normal pb-2",children:"Start Time"}),d.jsx("input",{name:"startTime",type:"time",value:_.startTime,onChange:C,className:"form-input w-full min-w-0 flex-1 rounded-lg text-gray-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-[#3b4b54] bg-background-light dark:bg-[#1c2327] h-14 p-[15px] text-base font-normal leading-normal"})]}),d.jsxs("label",{className:"flex flex-col col-span-1",children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-base font-medium leading-normal pb-2",children:"Duration (minutes)"}),d.jsx("input",{name:"duration",type:"number",value:_.duration,onChange:C,className:"form-input w-full min-w-0 flex-1 rounded-lg text-gray-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-[#3b4b54] bg-background-light dark:bg-[#1c2327] h-14 placeholder:text-gray-400 dark:placeholder:text-[#9db0b9] p-[15px] text-base font-normal leading-normal",placeholder:"e.g., 60"})]}),d.jsxs("label",{className:"flex flex-col col-span-1",children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-base font-medium leading-normal pb-2",children:"Maximum Capacity"}),d.jsx("input",{name:"capacity",type:"number",value:_.capacity,onChange:C,className:"form-input w-full min-w-0 flex-1 rounded-lg text-gray-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-[#3b4b54] bg-background-light dark:bg-[#1c2327] h-14 placeholder:text-gray-400 dark:placeholder:text-[#9db0b9] p-[15px] text-base font-normal leading-normal",placeholder:"e.g., 25"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsxs("label",{className:"flex items-center gap-3",children:[d.jsx("input",{name:"repeats",type:"checkbox",checked:_.repeats,onChange:C,className:"h-5 w-5 rounded border-gray-300 dark:border-[#3b4b54] bg-background-light dark:bg-[#1c2327] text-primary focus:ring-primary/50"}),d.jsx("span",{className:"text-gray-700 dark:text-white text-base font-medium",children:"This class repeats"})]}),_.repeats&&d.jsxs("div",{className:"mt-4 pl-8 border-l-2 border-gray-200 dark:border-[#283339] flex flex-col gap-4",children:[d.jsxs("label",{className:"flex flex-col max-w-xs",children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-sm font-medium leading-normal pb-2",children:"Frequency"}),d.jsx("select",{name:"frequency",value:_.frequency,onChange:C,className:"form-select w-full min-w-0 flex-1 rounded-lg text-gray-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-[#3b4b54] bg-background-light dark:bg-[#1c2327] h-14 p-[15px] text-base font-normal leading-normal appearance-none",children:d.jsx("option",{value:"Weekly",children:"Weekly"})})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-sm font-medium leading-normal pb-2",children:"Repeat on"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:N.map((M,z)=>d.jsx("button",{type:"button",onClick:()=>D(M),className:`flex items-center justify-center h-10 px-3 min-w-[40px] rounded-full text-sm font-bold transition-colors ${E.includes(M)?"border-2 border-primary bg-primary/20 text-primary":"border border-gray-300 dark:border-[#3b4b54] text-gray-700 dark:text-white bg-background-light dark:bg-[#1c2327] hover:border-primary/50"}`,children:M},z))})]})]})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-[#111618] rounded-xl border border-gray-200 dark:border-[#283339] p-4 sm:p-6",children:[d.jsx("h2",{className:"text-gray-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-5 pt-1",children:"Images"}),d.jsx("div",{className:"px-4",children:d.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-[#3b4b54] rounded-lg p-6",children:d.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[d.jsx("div",{className:"w-12 h-12 mx-auto mb-3 text-gray-400 dark:text-[#9db0b9]",children:d.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),d.jsx("p",{className:"text-gray-600 dark:text-[#9db0b9] text-sm mb-1",children:"Image upload coming soon"}),d.jsx("p",{className:"text-gray-500 dark:text-[#9db0b9] text-xs",children:"Multiple image support will be added in future updates"})]})})})]}),d.jsxs("div",{className:"bg-white dark:bg-[#111618] rounded-xl border border-gray-200 dark:border-[#283339] p-4 sm:p-6",children:[d.jsx("h2",{className:"text-gray-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-5 pt-1",children:"Plan Selection"}),d.jsxs("label",{className:"flex flex-col max-w-sm px-4",children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-base font-medium leading-normal pb-2",children:"Select Plan"}),d.jsxs("select",{name:"plan",value:_.plan,onChange:C,className:"form-select w-full min-w-0 flex-1 rounded-lg text-gray-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-[#3b4b54] bg-background-light dark:bg-[#1c2327] h-14 p-[15px] text-base font-normal leading-normal appearance-none",children:[d.jsx("option",{value:"S",children:"S"}),d.jsx("option",{value:"M",children:"M"}),d.jsx("option",{value:"L",children:"L"}),d.jsx("option",{value:"XL",children:"XL"})]})]})]}),d.jsxs("div",{className:"flex justify-end gap-4 p-4",children:[d.jsx("button",{onClick:T,type:"button",className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-6 bg-gray-200 dark:bg-[#283339] text-gray-800 dark:text-white text-base font-bold leading-normal tracking-[0.015em] hover:bg-gray-300 dark:hover:bg-[#344148] transition-colors",children:d.jsx("span",{className:"truncate",children:"Cancel"})}),d.jsx("button",{onClick:P,disabled:m.loading,type:"button",className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-6 text-white text-base font-bold leading-normal tracking-[0.015em] hover:opacity-90 transition-opacity gradient-bg disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx("span",{className:"truncate",children:m.loading?"Creating...":b?"Update Slot":"Create Slot"})})]})]})]})})})},nE=()=>{const a=Kt(),r=dr(),{instanceId:s}=jf();fr();const{user:i}=Ve(E=>E.user),{slotInstances:o}=Ve(E=>E.slots),c=r.state?.returnTo||"/calendar",[f,m]=R.useState({startDate:new Date().toISOString().split("T")[0],startTime:"09:00",duration:"",instructor:""}),[g,y]=R.useState(!1),b=o.find(E=>E.id===s);R.useEffect(()=>{if(b){const E=new Date(b.start_time),j=E.toISOString().split("T")[0],C=E.toTimeString().split(":").slice(0,2).join(":");m({startDate:j,startTime:C,duration:b.slot.duration?.toString()||"",instructor:b.slot.instructor_id||i?.id||""})}},[b,i]);const v=E=>{const{name:j,value:C}=E.target;m(D=>({...D,[j]:C}))},w=()=>{a(c)},_=async()=>{try{if(y(!0),!i?.id){alert("User not authenticated");return}if(!f.startDate||!f.startTime||!f.duration){alert("Please fill in all required fields");return}console.log("Updating slot instance with:",{instanceId:s,startDate:f.startDate,startTime:f.startTime,duration:f.duration,instructor:f.instructor}),alert("Slot instance updated successfully!"),a(c)}catch(E){console.error("Error updating slot instance:",E),alert("Failed to update slot instance")}finally{y(!1)}},S=async()=>{if(window.confirm("Are you sure you want to cancel this slot? This action cannot be undone."))try{y(!0),console.log("Cancelling slot instance:",s),alert("Slot cancelled successfully!"),a("/calendar")}catch(E){console.error("Error cancelling slot:",E),alert("Failed to cancel slot")}finally{y(!1)}};return b?d.jsx("div",{className:"flex h-full grow flex-col overflow-y-auto",children:d.jsx("div",{className:"flex flex-1 justify-center py-12 md:py-20 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex flex-col w-full max-w-4xl flex-1",children:[d.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 p-4 mb-6",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("h1",{className:"text-gray-900 dark:text-white text-4xl font-black leading-tight tracking-tight",children:b?.slot.name||"Edit Slot Instance"}),d.jsx("p",{className:"text-gray-500 dark:text-[#9db0b9] text-base font-normal leading-normal",children:"Update the schedule details for this specific class instance."})]}),d.jsx("button",{onClick:w,className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-gray-200 dark:bg-[#283339] text-gray-800 dark:text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-gray-300 dark:hover:bg-[#344148] transition-colors",children:d.jsx("span",{className:"truncate",children:"Cancel"})})]}),d.jsxs("div",{className:"flex flex-col gap-8",children:[d.jsxs("div",{className:"bg-white dark:bg-[#111618] rounded-xl border border-gray-200 dark:border-[#283339] p-4 sm:p-6",children:[d.jsx("h2",{className:"text-gray-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-5 pt-1",children:"Schedule Details"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 px-4",children:[d.jsxs("label",{className:"flex flex-col col-span-1",children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-base font-medium leading-normal pb-2",children:"Date"}),d.jsx("input",{name:"startDate",type:"date",value:f.startDate,onChange:v,className:"form-input w-full min-w-0 flex-1 rounded-lg text-gray-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-[#3b4b54] bg-background-light dark:bg-[#1c2327] h-14 p-[15px] text-base font-normal leading-normal"})]}),d.jsxs("label",{className:"flex flex-col col-span-1",children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-base font-medium leading-normal pb-2",children:"Start Time"}),d.jsx("input",{name:"startTime",type:"time",value:f.startTime,onChange:v,className:"form-input w-full min-w-0 flex-1 rounded-lg text-gray-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-[#3b4b54] bg-background-light dark:bg-[#1c2327] h-14 p-[15px] text-base font-normal leading-normal"})]}),d.jsxs("label",{className:"flex flex-col col-span-1",children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-base font-medium leading-normal pb-2",children:"Duration (minutes)"}),d.jsx("input",{name:"duration",type:"number",value:f.duration,onChange:v,className:"form-input w-full min-w-0 flex-1 rounded-lg text-gray-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-[#3b4b54] bg-background-light dark:bg-[#1c2327] h-14 placeholder:text-gray-400 dark:placeholder:text-[#9db0b9] p-[15px] text-base font-normal leading-normal",placeholder:"e.g., 60"})]}),d.jsxs("label",{className:"flex flex-col col-span-1",children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-base font-medium leading-normal pb-2",children:"Instructor"}),d.jsx("select",{name:"instructor",value:f.instructor,onChange:v,className:"form-select w-full min-w-0 flex-1 rounded-lg text-gray-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-[#3b4b54] bg-background-light dark:bg-[#1c2327] h-14 p-[15px] text-base font-normal leading-normal appearance-none",children:d.jsxs("option",{value:i?.id||"",children:[i?.first_name||"Current User"," (Current)"]})})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-[#111618] rounded-xl border border-gray-200 dark:border-[#283339] p-4 sm:p-6",children:[d.jsx("h2",{className:"text-gray-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-5 pt-1",children:"Booking Status"}),d.jsx("div",{className:"px-4",children:d.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-gray-50 dark:bg-[#1c2327]",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"material-symbols-outlined text-primary",children:"group"}),d.jsxs("span",{className:"text-gray-800 dark:text-gray-200",children:[b.booked_count," participants registered"]})]}),d.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["of ",b.slot.capacity," capacity"]})]})})]}),d.jsxs("div",{className:"flex justify-between gap-4 p-4",children:[d.jsxs("button",{onClick:S,disabled:g,type:"button",className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-6 text-white text-base font-bold leading-normal tracking-[0.015em] hover:opacity-90 transition-opacity gradient-cancel disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx("span",{className:"material-symbols-outlined text-sm mr-2 leading-none",children:"cancel"}),d.jsx("span",{className:"truncate",children:"Cancel Slot"})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{onClick:w,type:"button",className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-6 bg-gray-200 dark:bg-[#283339] text-gray-800 dark:text-white text-base font-bold leading-normal tracking-[0.015em] hover:bg-gray-300 dark:hover:bg-[#344148] transition-colors",children:d.jsx("span",{className:"truncate",children:"Cancel"})}),d.jsx("button",{onClick:_,disabled:g,type:"button",className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-6 text-white text-base font-bold leading-normal tracking-[0.015em] hover:opacity-90 transition-opacity gradient-bg disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx("span",{className:"truncate",children:g?"Saving...":"Save Changes"})})]})]})]})]})})}):d.jsx("div",{className:"flex h-full grow flex-col overflow-y-auto",children:d.jsx("div",{className:"flex flex-1 justify-center py-12 md:py-20 px-4 sm:px-6 lg:px-8",children:d.jsx("div",{className:"flex flex-col w-full max-w-4xl flex-1",children:d.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Slot Instance Not Found"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"The requested slot instance could not be found."}),d.jsx("button",{onClick:()=>a("/calendar"),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:"Return to Calendar"})]})})})})},sE=()=>{const[a,r]=R.useState(""),[s,i]=R.useState(1),o=[{id:"#862349",userName:"Liam Johnson",service:"Advanced Yoga",dateTime:"Sep 20, 2024, 10:00 AM",status:"Confirmed",location:"Downtown Fitness"},{id:"#862348",userName:"Olivia Smith",service:"Personal Training",dateTime:"Sep 20, 2024, 9:00 AM",status:"Confirmed",location:"Uptown Gym"},{id:"#862347",userName:"Noah Williams",service:"Cardio Kickboxing",dateTime:"Sep 19, 2024, 6:00 PM",status:"Pending",location:"Downtown Fitness"},{id:"#862346",userName:"Emma Brown",service:"Spin Class",dateTime:"Sep 19, 2024, 5:00 PM",status:"Cancelled",location:"Westside Gym"},{id:"#862345",userName:"James Jones",service:"Beginner's Yoga",dateTime:"Sep 18, 2024, 7:00 PM",status:"Confirmed",location:"Uptown Gym"}],c=m=>{switch(m){case"Confirmed":return"bg-green-500/20 text-green-400";case"Pending":return"bg-yellow-500/20 text-yellow-400";case"Cancelled":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},f=()=>{console.log("Add new booking clicked"),alert("Add New Booking functionality coming soon!")};return d.jsxs("div",{className:"p-8",children:[d.jsx("div",{className:"mb-6",children:d.jsx("p",{className:"text-4xl font-black leading-tight tracking-[-0.033em] text-[#1c2327] dark:text-white",children:"Bookings Management"})}),d.jsxs("div",{className:"mb-4 space-y-4 rounded-xl bg-white p-4 dark:bg-[#1c2327]",children:[d.jsx("div",{children:d.jsx("label",{className:"flex h-12 w-full flex-col",children:d.jsxs("div",{className:"flex h-full w-full flex-1 items-stretch rounded-lg",children:[d.jsx("div",{className:"flex items-center justify-center rounded-l-lg border-r-0 bg-[#f6f7f8] pl-4 text-[#9db0b9] dark:bg-[#283339]",children:d.jsx("span",{className:"material-symbols-outlined",children:"search"})}),d.jsx("input",{className:"form-input h-full min-w-0 flex-1 resize-none overflow-hidden rounded-r-lg border-none bg-[#f6f7f8] px-4 pl-2 text-base font-normal leading-normal text-[#1c2327] placeholder:text-[#9db0b9] focus:outline-0 focus:ring-0 dark:bg-[#283339] dark:text-white",placeholder:"Search by user name, email, or booking ID...",value:a,onChange:m=>r(m.target.value)})]})})}),d.jsxs("div",{className:"flex flex-wrap gap-3",children:[d.jsxs("button",{className:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-[#f6f7f8] pl-4 pr-2 dark:bg-[#283339]",children:[d.jsx("p",{className:"text-sm font-medium leading-normal text-[#1c2327] dark:text-white",children:"Booking Status: All"}),d.jsx("span",{className:"material-symbols-outlined text-[#9db0b9] dark:text-white",children:"expand_more"})]}),d.jsxs("button",{className:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-[#f6f7f8] pl-4 pr-2 dark:bg-[#283339]",children:[d.jsx("p",{className:"text-sm font-medium leading-normal text-[#1c2327] dark:text-white",children:"Service/Class: All"}),d.jsx("span",{className:"material-symbols-outlined text-[#9db0b9] dark:text-white",children:"expand_more"})]}),d.jsxs("button",{className:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-[#f6f7f8] pl-4 pr-2 dark:bg-[#283339]",children:[d.jsx("p",{className:"text-sm font-medium leading-normal text-[#1c2327] dark:text-white",children:"Location: All"}),d.jsx("span",{className:"material-symbols-outlined text-[#9db0b9] dark:text-white",children:"expand_more"})]}),d.jsx("button",{className:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-transparent pl-4 pr-2 text-primary",children:d.jsx("p",{className:"text-sm font-medium leading-normal",children:"Clear Filters"})})]})]}),d.jsx("div",{className:"overflow-hidden rounded-xl border border-transparent bg-white dark:border-[#3b4b54] dark:bg-[#1c2327]",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full flex-1",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-[#f6f7f8] dark:bg-[#111618]",children:[d.jsx("th",{className:"w-1/6 whitespace-nowrap px-4 py-3 text-left text-sm font-medium leading-normal text-[#9db0b9] dark:text-white",children:"Booking ID"}),d.jsx("th",{className:"w-1/6 whitespace-nowrap px-4 py-3 text-left text-sm font-medium leading-normal text-[#9db0b9] dark:text-white",children:"User Name"}),d.jsx("th",{className:"w-1/6 whitespace-nowrap px-4 py-3 text-left text-sm font-medium leading-normal text-[#9db0b9] dark:text-white",children:"Service/Class"}),d.jsx("th",{className:"w-1/6 whitespace-nowrap px-4 py-3 text-left text-sm font-medium leading-normal text-[#9db0b9] dark:text-white",children:"Date & Time"}),d.jsx("th",{className:"w-1/6 whitespace-nowrap px-4 py-3 text-left text-sm font-medium leading-normal text-[#9db0b9] dark:text-white",children:"Status"}),d.jsx("th",{className:"w-1/6 whitespace-nowrap px-4 py-3 text-left text-sm font-medium leading-normal text-[#9db0b9] dark:text-white",children:"Location"}),d.jsx("th",{className:"w-auto px-4 py-3 text-left text-sm font-medium leading-normal text-[#9db0b9]",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-[#f6f7f8] dark:divide-[#3b4b54]",children:o.map(m=>d.jsxs("tr",{className:"hover:bg-[#f6f7f8] dark:hover:bg-[#111618]",children:[d.jsx("td",{className:"h-[72px] px-4 py-2 text-sm font-normal leading-normal text-[#9db0b9]",children:m.id}),d.jsx("td",{className:"h-[72px] px-4 py-2 text-sm font-normal leading-normal text-[#1c2327] dark:text-white",children:m.userName}),d.jsx("td",{className:"h-[72px] px-4 py-2 text-sm font-normal leading-normal text-[#9db0b9]",children:m.service}),d.jsx("td",{className:"h-[72px] px-4 py-2 text-sm font-normal leading-normal text-[#9db0b9]",children:m.dateTime}),d.jsx("td",{className:"h-[72px] px-4 py-2 text-sm font-normal leading-normal",children:d.jsx("div",{className:"flex items-center justify-start",children:d.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${c(m.status)}`,children:m.status})})}),d.jsx("td",{className:"h-[72px] px-4 py-2 text-sm font-normal leading-normal text-[#9db0b9]",children:m.location}),d.jsx("td",{className:"h-[72px] px-4 py-2 text-sm font-bold leading-normal tracking-[0.015em] text-[#9db0b9]",children:d.jsx("span",{className:"material-symbols-outlined cursor-pointer",children:"more_vert"})})]},m.id))})]})})}),d.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-[#9db0b9]",children:[d.jsx("span",{children:"Showing 1 to 5 of 57 bookings"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>i(Math.max(1,s-1)),className:"flex h-8 w-8 items-center justify-center rounded-lg hover:bg-[#f6f7f8] dark:hover:bg-[#283339]",children:d.jsx("span",{className:"material-symbols-outlined",children:"chevron_left"})}),d.jsx("button",{className:`flex h-8 w-8 items-center justify-center rounded-lg ${s===1?"bg-primary/20 text-primary":"hover:bg-[#f6f7f8] dark:hover:bg-[#283339]"}`,onClick:()=>i(1),children:"1"}),d.jsx("button",{className:`flex h-8 w-8 items-center justify-center rounded-lg ${s===2?"bg-primary/20 text-primary":"hover:bg-[#f6f7f8] dark:hover:bg-[#283339]"}`,onClick:()=>i(2),children:"2"}),d.jsx("button",{className:`flex h-8 w-8 items-center justify-center rounded-lg ${s===3?"bg-primary/20 text-primary":"hover:bg-[#f6f7f8] dark:hover:bg-[#283339]"}`,onClick:()=>i(3),children:"3"}),d.jsx("span",{children:"..."}),d.jsx("button",{className:"flex h-8 w-8 items-center justify-center rounded-lg hover:bg-[#f6f7f8] dark:hover:bg-[#283339]",onClick:()=>i(12),children:"12"}),d.jsx("button",{onClick:()=>i(Math.min(12,s+1)),className:"flex h-8 w-8 items-center justify-center rounded-lg hover:bg-[#f6f7f8] dark:hover:bg-[#283339]",children:d.jsx("span",{className:"material-symbols-outlined",children:"chevron_right"})})]})]}),d.jsx("button",{onClick:f,className:"fixed bottom-8 right-8 flex h-14 w-14 items-center justify-center rounded-full bg-primary text-white shadow-lg hover:bg-primary/90 md:hidden",children:d.jsx("span",{className:"material-symbols-outlined",children:"add"})})]})},iE=()=>{const{fullName:a,venueDetails:r}=Ve(c=>c.user),s=[{label:"Total Revenue",value:"$125,430",change:"+5.2%",isPositive:!0},{label:"Total Bookings",value:"10,210",change:"+3.1%",isPositive:!0},{label:"Active Members",value:"1,520",change:"-0.5%",isPositive:!1},{label:"Attendance Rate",value:"85%",change:"+2.0%",isPositive:!0}],i=[{id:"#BK-8342",memberName:"Olivia Rhye",date:"Jan 22, 2024",location:"Downtown Fitness",amount:"$45.00"},{id:"#BK-8341",memberName:"Phoenix Baker",date:"Jan 21, 2024",location:"Uptown Gym",amount:"$150.00"},{id:"#BK-8340",memberName:"Lana Steiner",date:"Jan 21, 2024",location:"Downtown Fitness",amount:"$25.00"},{id:"#BK-8339",memberName:"Demi Wilkinson",date:"Jan 20, 2024",location:"Uptown Gym",amount:"$45.00"}],o=()=>{console.log("Exporting to CSV..."),alert("Export to CSV functionality coming soon!")};return d.jsxs("main",{className:"flex flex-col gap-6 p-4 sm:p-6 md:p-8",children:[d.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-gray-900 dark:text-white text-4xl font-black leading-tight tracking-[-0.033em] min-w-72",children:"Advanced Analytics Dashboard"}),a&&d.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-lg mt-2",children:["Welcome back, ",a,"!"]}),r&&d.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-sm mt-1",children:r.venueName})]}),d.jsxs("button",{onClick:o,className:"flex items-center justify-center gap-2 h-10 px-4 rounded-lg bg-primary text-white text-sm font-bold hover:bg-primary/90",children:[d.jsx("span",{className:"material-symbols-outlined",style:{fontSize:"20px"},children:"download"}),d.jsx("span",{children:"Export to CSV"})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-3",children:[d.jsxs("button",{className:"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-white dark:bg-[#283339] pl-4 pr-2 border border-gray-200 dark:border-transparent",children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-sm font-medium leading-normal",children:"Date Range: Last 30 Days"}),d.jsx("span",{className:"material-symbols-outlined text-gray-500 dark:text-white",style:{fontSize:"20px"},children:"expand_more"})]}),d.jsxs("button",{className:"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-white dark:bg-[#283339] pl-4 pr-2 border border-gray-200 dark:border-transparent",children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-sm font-medium leading-normal",children:"All Locations"}),d.jsx("span",{className:"material-symbols-outlined text-gray-500 dark:text-white",style:{fontSize:"20px"},children:"expand_more"})]}),d.jsxs("button",{className:"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-white dark:bg-[#283339] pl-4 pr-2 border border-gray-200 dark:border-transparent",children:[d.jsx("p",{className:"text-gray-700 dark:text-white text-sm font-medium leading-normal",children:"All Class Types"}),d.jsx("span",{className:"material-symbols-outlined text-gray-500 dark:text-white",style:{fontSize:"20px"},children:"expand_more"})]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:s.map((c,f)=>d.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 bg-white dark:bg-[#1a2831] border border-gray-200 dark:border-[#3b4b54]",children:[d.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-base font-medium leading-normal",children:c.label}),d.jsx("p",{className:"text-gray-900 dark:text-white tracking-light text-3xl font-bold leading-tight",children:c.value}),d.jsx("p",{className:`text-base font-medium leading-normal ${c.isPositive?"text-[#0bda57]":"text-[#fa5f38]"}`,children:c.change})]},f))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex min-w-72 flex-1 flex-col gap-4 p-6 rounded-xl bg-white dark:bg-[#1a2831] border border-gray-200 dark:border-[#3b4b54]",children:[d.jsx("p",{className:"text-gray-900 dark:text-white text-lg font-bold leading-normal",children:"Booking Trends Over Time"}),d.jsxs("div",{className:"flex min-h-[180px] flex-1 flex-col gap-8 py-4",children:[d.jsxs("svg",{fill:"none",height:"100%",preserveAspectRatio:"none",viewBox:"-3 0 478 150",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{className:"block dark:hidden",d:"M0 109C18.1538 109 18.1538 21 36.3077 21C54.4615 21 54.4615 41 72.6154 41C90.7692 41 90.7692 93 108.923 93C127.077 93 127.077 33 145.231 33C163.385 33 163.385 101 181.538 101C199.692 101 199.692 61 217.846 61C236 61 236 45 254.154 45C272.308 45 272.308 121 290.462 121C308.615 121 308.615 149 326.769 149C344.923 149 344.923 1 363.077 1C381.231 1 381.231 81 399.385 81C417.538 81 417.538 129 435.692 129C453.846 129 453.846 25 472 25V149H326.769H0V109Z",fill:"url(#paint0_linear_light)"}),d.jsx("path",{className:"hidden dark:block",d:"M0 109C18.1538 109 18.1538 21 36.3077 21C54.4615 21 54.4615 41 72.6154 41C90.7692 41 90.7692 93 108.923 93C127.077 93 127.077 33 145.231 33C163.385 33 163.385 101 181.538 101C199.692 101 199.692 61 217.846 61C236 61 236 45 254.154 45C272.308 45 272.308 121 290.462 121C308.615 121 308.615 149 326.769 149C344.923 149 344.923 1 363.077 1C381.231 1 381.231 81 399.385 81C417.538 81 417.538 129 435.692 129C453.846 129 453.846 25 472 25V149H326.769H0V109Z",fill:"url(#paint0_linear_dark)"}),d.jsx("path",{d:"M0 109C18.1538 109 18.1538 21 36.3077 21C54.4615 21 54.4615 41 72.6154 41C90.7692 41 90.7692 93 108.923 93C127.077 93 127.077 33 145.231 33C163.385 33 163.385 101 181.538 101C199.692 101 199.692 61 217.846 61C236 61 236 45 254.154 45C272.308 45 272.308 121 290.462 121C308.615 121 308.615 149 326.769 149C344.923 149 344.923 1 363.077 1C381.231 1 381.231 81 399.385 81C417.538 81 417.538 129 435.692 129C453.846 129 453.846 25 472 25",stroke:"#13a4ec",strokeLinecap:"round",strokeWidth:"3"}),d.jsxs("defs",{children:[d.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_dark",x1:"236",x2:"236",y1:"1",y2:"149",children:[d.jsx("stop",{stopColor:"#13a4ec",stopOpacity:"0.3"}),d.jsx("stop",{offset:"1",stopColor:"#13a4ec",stopOpacity:"0"})]}),d.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_light",x1:"236",x2:"236",y1:"1",y2:"149",children:[d.jsx("stop",{stopColor:"#13a4ec",stopOpacity:"0.2"}),d.jsx("stop",{offset:"1",stopColor:"#13a4ec",stopOpacity:"0"})]})]})]}),d.jsxs("div",{className:"flex justify-around",children:[d.jsx("p",{className:"text-gray-500 dark:text-[#9db0b9] text-[13px] font-bold leading-normal tracking-[0.015em]",children:"Week 1"}),d.jsx("p",{className:"text-gray-500 dark:text-[#9db0b9] text-[13px] font-bold leading-normal tracking-[0.015em]",children:"Week 2"}),d.jsx("p",{className:"text-gray-500 dark:text-[#9db0b9] text-[13px] font-bold leading-normal tracking-[0.015em]",children:"Week 3"}),d.jsx("p",{className:"text-gray-500 dark:text-[#9db0b9] text-[13px] font-bold leading-normal tracking-[0.015em]",children:"Week 4"})]})]})]}),d.jsxs("div",{className:"flex min-w-72 flex-1 flex-col gap-4 p-6 rounded-xl bg-white dark:bg-[#1a2831] border border-gray-200 dark:border-[#3b4b54]",children:[d.jsx("p",{className:"text-gray-900 dark:text-white text-lg font-bold leading-normal",children:"Revenue by Source"}),d.jsxs("div",{className:"grid min-h-[180px] grid-flow-col gap-6 grid-rows-[1fr_auto] items-end justify-items-center py-4 px-3",children:[d.jsx("div",{className:"bg-primary/20 dark:bg-primary/30 w-full",style:{height:"65%"}}),d.jsx("p",{className:"text-gray-500 dark:text-[#9db0b9] text-center text-[13px] font-bold leading-normal tracking-[0.015em]",children:"Memberships"}),d.jsx("div",{className:"bg-primary/20 dark:bg-primary/30 w-full",style:{height:"80%"}}),d.jsx("p",{className:"text-gray-500 dark:text-[#9db0b9] text-center text-[13px] font-bold leading-normal tracking-[0.015em]",children:"Drop-ins"}),d.jsx("div",{className:"bg-primary/20 dark:bg-primary/30 w-full",style:{height:"30%"}}),d.jsx("p",{className:"text-gray-500 dark:text-[#9db0b9] text-center text-[13px] font-bold leading-normal tracking-[0.015em]",children:"Merchandise"}),d.jsx("div",{className:"bg-primary/20 dark:bg-primary/30 w-full",style:{height:"45%"}}),d.jsx("p",{className:"text-gray-500 dark:text-[#9db0b9] text-center text-[13px] font-bold leading-normal tracking-[0.015em]",children:"Other"})]})]})]}),d.jsxs("div",{className:"flex flex-col gap-4 p-6 rounded-xl bg-white dark:bg-[#1a2831] border border-gray-200 dark:border-[#3b4b54]",children:[d.jsx("h3",{className:"text-gray-900 dark:text-white text-lg font-bold leading-normal",children:"Recent Bookings"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-gray-200 dark:border-[#3b4b54]",children:[d.jsx("th",{className:"p-3 text-sm font-semibold text-gray-500 dark:text-gray-400",children:"Booking ID"}),d.jsx("th",{className:"p-3 text-sm font-semibold text-gray-500 dark:text-gray-400",children:"Member Name"}),d.jsx("th",{className:"p-3 text-sm font-semibold text-gray-500 dark:text-gray-400",children:"Date"}),d.jsx("th",{className:"p-3 text-sm font-semibold text-gray-500 dark:text-gray-400",children:"Location"}),d.jsx("th",{className:"p-3 text-sm font-semibold text-gray-500 dark:text-gray-400 text-right",children:"Amount"})]})}),d.jsx("tbody",{children:i.map((c,f)=>d.jsxs("tr",{className:f!==i.length-1?"border-b border-gray-200 dark:border-[#283339]":"",children:[d.jsx("td",{className:"p-3 text-sm text-gray-700 dark:text-gray-300",children:c.id}),d.jsx("td",{className:"p-3 text-sm text-gray-700 dark:text-gray-300",children:c.memberName}),d.jsx("td",{className:"p-3 text-sm text-gray-700 dark:text-gray-300",children:c.date}),d.jsx("td",{className:"p-3 text-sm text-gray-700 dark:text-gray-300",children:c.location}),d.jsx("td",{className:"p-3 text-sm text-gray-900 dark:text-white font-medium text-right",children:c.amount})]},c.id))})]})})]})]})},lE=()=>{const[a,r]=R.useState(""),s=[{id:1,name:"Aria Montgomery",email:"aria.m@email.com",membership:"Premium Annual",status:"Active",joinDate:"2023-08-12",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuD8Wdi7qdDg8lAMVIZ8wZqmWfOV0cZJX8JbjyWc4_NxzB7Rv2adxgubw_V5rVEUe1qYEooOfJbJduoHiou6XPp3g_IyLNSdvpiehqaYdzm2Dutep0lAHXi3k0A1-XaxzILM-RvIpPlhUMXB0RSlb9v1GOTH5c1BDgd6c6nRgPoF4OlZoQVmxCFgO_oz6pxnI29yDZPG04jLj5U7h2bkcgSne3dQ1Jd0WL9S_y5g2DxZi6boDKMH3jBuLWxqY4_Hhwa7l-xokuG-gERi"},{id:2,name:"Spencer Hastings",email:"spencer.h@email.com",membership:"Basic Monthly",status:"Active",joinDate:"2023-05-21",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuDvYUy2DzONGvnsRY_GumWpJ-kYYfXJ_lP69Fs6yf8ZFvcK57pXFVUAPxL4H1MaDsL-MgtN19zG32eyWUzWaCyGfUtxBp3Kzv3CDsp-eawN8uXEL_eJ3IEQEzB-fo8AW8oOvMMzwHBfss9MuMOsQIIoSVIXrGcaH2R0iSzv64gCVF1YZPN3b-s3DNK4_qkkbY-uT8jHCEp90-Eb2vy1gLYf3-5Uj1O6pKViw--MQPtQlvDID3zB-Lb2SEVF-p7_hfkfrW7wHyNIfuyB"},{id:3,name:"Hanna Marin",email:"hanna.m@email.com",membership:"Class Pass",status:"Frozen",joinDate:"2022-11-30",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuD_0JA39ROAZQUO_qEnLTTv7cQn70iK_uftQYyXjQ08gVQZ0Fl1bJHbsHWe_emDin_tUm4_so2n3A6OZF0ykeQ7U7PUt0MlTqBkybtWwca5Mb6MXY9xaaBabeOczfYLd27_ZJ6Fwbgl-pg1tePHRUk4Jl1nM52O_mKAhSmuhNO3CWgv8-7hOLxOYjnGsKwv3sgUAEjpQmjXlhw7cXyXRO-jUtXYfHeWn1c3RPi6vYOIxFYZq03vr0H8pJrnoEsC3xRFw0PEWRspvFPo"},{id:4,name:"Emily Fields",email:"emily.f@email.com",membership:"Premium Annual",status:"Expired",joinDate:"2021-01-15",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuCqqiUEAyT3s-Fwwpocy7eMwFvwh4XgDmO_H0Ya8MGW6eodSiqQ882zMxw3t94Jp2FpP-7q3r1ECYz5To_dpjI2IqhWZkwf3woexFUvumRnk4whSW6BSOX_jth7mxkoiBYLrtt-I8U3FhZI7FaT26FkvTspuvIOwVDH8RU6ne-PGmJ74zXTi8I9RawWPHcEomzPTH0IyE_eKECxnvTiUGqWfhPF1QyJ4gdItge5ir0yRTl3jgWRlxDWNRN2nyK5Cc5-avXrMnzTBhw7"},{id:5,name:"Alison DiLaurentis",email:"alison.d@email.com",membership:"Basic Monthly",status:"Active",joinDate:"2024-02-01",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuCZiZol6l3UrUqKLEGd0GbXB1Rlk63LVssxwOmQfgLHynPxU1q0a5uHNmJeyk23gbNEU2BlLxSi9pWw-uzJl9fNNS3BTDegSgjfIFTsY5H5XEkqEaS5oL_6UQDDshKJMNOEpS7mDMtii-pCuXit8po5LvnweuP-l0UKYf3HsV3UAVS2j9Soyrgb-CU6OnCMhH9uKHjGjT50TQKBF5RhESP4SMJqtRmuZZrkQWNjQtCvHN9y9OiJJoOqB8myEwYt6ub95XDcN__vySex"}],i=f=>{switch(f){case"Active":return"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300";case"Frozen":return"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-300";case"Expired":return"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300";default:return"bg-gray-100 dark:bg-gray-900/50 text-gray-700 dark:text-gray-300"}},o=()=>{console.log("Add new user clicked"),alert("Add New User functionality coming soon!")},c=f=>{console.log("Edit user clicked:",f),alert(`Edit user ${f} functionality coming soon!`)};return d.jsxs("div",{className:"flex-1 p-6 lg:p-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-6",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("p",{className:"text-gray-900 dark:text-white text-3xl font-bold tracking-tight",children:"User Accounts"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-base font-normal leading-normal",children:"View and manage user profiles, bookings, and memberships."})]}),d.jsxs("button",{onClick:o,className:"flex items-center justify-center gap-2 h-10 px-4 bg-primary text-white text-sm font-bold leading-normal tracking-wide rounded-lg shadow-sm hover:bg-primary/90 transition-colors",children:[d.jsx("span",{className:"material-symbols-outlined",children:"add"}),d.jsx("span",{className:"truncate",children:"Add New User"})]})]}),d.jsx("div",{className:"bg-white dark:bg-gray-900/50 p-4 rounded-xl border border-gray-200 dark:border-gray-800 mb-6",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsx("label",{className:"flex flex-col h-12 w-full",children:d.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-lg h-full bg-gray-100 dark:bg-gray-800",children:[d.jsx("div",{className:"text-gray-500 dark:text-gray-400 flex items-center justify-center pl-4",children:d.jsx("span",{className:"material-symbols-outlined",children:"search"})}),d.jsx("input",{className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-r-lg text-gray-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border-none bg-transparent h-full placeholder:text-gray-500 dark:placeholder:text-gray-400 pl-2 text-base font-normal leading-normal",placeholder:"Search by name, email, or user ID...",value:a,onChange:f=>r(f.target.value)})]})})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{className:"flex h-12 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-gray-100 dark:bg-gray-800 px-4 text-gray-700 dark:text-gray-300",children:[d.jsx("p",{className:"text-sm font-medium leading-normal",children:"Status: All"}),d.jsx("span",{className:"material-symbols-outlined text-base",children:"expand_more"})]}),d.jsxs("button",{className:"flex h-12 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-gray-100 dark:bg-gray-800 px-4 text-gray-700 dark:text-gray-300",children:[d.jsx("p",{className:"text-sm font-medium leading-normal",children:"Sort by: Join Date"}),d.jsx("span",{className:"material-symbols-outlined text-base",children:"expand_more"})]})]})]})}),d.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900/50",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:d.jsxs("tr",{className:"border-b border-b-gray-200 dark:border-b-gray-800",children:[d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"User"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Email"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Membership"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Status"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Join Date"}),d.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:s.map(f=>d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:`url("${f.avatarUrl}")`}}),d.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:f.name})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:f.email}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:f.membership}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${i(f.status)}`,children:f.status})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:f.joinDate}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>c(f.id),className:"text-primary hover:text-primary/80",children:"Edit"})})]},f.id))})]})})})]})},oE=()=>{const[a,r]=R.useState({name:"Alex Morgan",email:"alex.morgan@irontemple.com"}),[s,i]=R.useState({name:"Iron Temple Gym - Downtown",description:"State-of-the-art fitness facility with a wide range of cardio and strength equipment, yoga studio, and dedicated spinning room.",weekdayOpenTime:"06:00",weekdayCloseTime:"22:00",weekendOpenTime:"08:00",weekendCloseTime:"20:00"}),o=()=>{console.log("Saving account info:",a),alert("Account information saved successfully!")},c=()=>{console.log("Updating gym details:",s),alert("Gym profile updated successfully!")},f=()=>{console.log("Edit payment method"),alert("Edit payment method functionality coming soon!")},m=()=>{console.log("Add payment method"),alert("Add payment method functionality coming soon!")};return d.jsxs("div",{className:"p-8 w-full max-w-5xl mx-auto",children:[d.jsxs("div",{className:"flex flex-col gap-1 mb-8",children:[d.jsx("p",{className:"text-gray-900 dark:text-white text-4xl font-black leading-tight tracking-[-0.033em]",children:"Settings"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-base font-normal leading-normal",children:"Manage your gym and account settings."})]}),d.jsxs("div",{className:"flex flex-col gap-8",children:[d.jsx("section",{id:"account-info",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"material-symbols-outlined text-primary text-2xl",children:"person"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Account Information"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Update your profile details."})]})]}),d.jsxs("div",{className:"w-full flex flex-col gap-6 p-6 bg-background-light dark:bg-[#111618] rounded-xl border border-gray-200 dark:border-gray-800",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-20",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuDJygYcjOP01Ux90BM8tk3abFOazlABT4swT9Ai-USDPvMy9ujDy6VqAZWYLyeTil4z6KdsvpUMFwnoZU8iEh3JBy2iWT-slFFA1G57OqL_ct2u-wUX2nuxrSIM6FWR9ZQZCJ5aWjv3O6YNZe_Ll-j_HCYRyxRUkVHpIOhDMYGOJ_mY4IiQWqL6kS5JJx4_YdSymyUiCLXLimpkZQS7QP97LaMvuvIZGXv0gVuG55zytAkLPtPrNkVFxlvneXzxOFj9_ZOxRZi3FP95")'}}),d.jsx("button",{className:"absolute bottom-0 right-0 flex items-center justify-center size-7 bg-gray-900 rounded-full border-2 border-background-light dark:border-background-dark text-white hover:bg-gray-700",children:d.jsx("span",{className:"material-symbols-outlined text-base",children:"edit"})})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:a.name}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Gym Owner"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"name",children:"Full Name"}),d.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm focus:border-primary focus:ring-primary sm:text-sm text-gray-900 dark:text-white px-3 py-2",id:"name",type:"text",value:a.name,onChange:g=>r({...a,name:g.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"email",children:"Email Address"}),d.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm focus:border-primary focus:ring-primary sm:text-sm text-gray-900 dark:text-white px-3 py-2",id:"email",type:"email",value:a.email,onChange:g=>r({...a,email:g.target.value})})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{onClick:o,className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:opacity-90 transition-opacity gradient-bg",children:d.jsx("span",{className:"truncate",children:"Save Changes"})})})]})]})}),d.jsx("hr",{className:"border-gray-200 dark:border-gray-800"}),d.jsx("section",{id:"gym-details",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"material-symbols-outlined text-primary text-2xl",children:"store"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Gym Details"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage public gym information."})]})]}),d.jsxs("div",{className:"w-full flex flex-col gap-6 p-6 bg-background-light dark:bg-[#111618] rounded-xl border border-gray-200 dark:border-gray-800",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"gym-name",children:"Gym Name"}),d.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm focus:border-primary focus:ring-primary sm:text-sm text-gray-900 dark:text-white px-3 py-2",id:"gym-name",type:"text",value:s.name,onChange:g=>i({...s,name:g.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"gym-description",children:"Facility Details"}),d.jsx("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm focus:border-primary focus:ring-primary sm:text-sm text-gray-900 dark:text-white px-3 py-2",id:"gym-description",rows:4,value:s.description,onChange:g=>i({...s,description:g.target.value})})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Operating Hours"}),d.jsxs("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-16 text-sm text-gray-500 dark:text-gray-400 shrink-0",children:"Mon - Fri"}),d.jsx("input",{className:"block w-full rounded-md border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm focus:border-primary focus:ring-primary sm:text-sm text-gray-900 dark:text-white px-3 py-2",type:"time",value:s.weekdayOpenTime,onChange:g=>i({...s,weekdayOpenTime:g.target.value})}),d.jsx("span",{className:"text-gray-500",children:"-"}),d.jsx("input",{className:"block w-full rounded-md border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm focus:border-primary focus:ring-primary sm:text-sm text-gray-900 dark:text-white px-3 py-2",type:"time",value:s.weekdayCloseTime,onChange:g=>i({...s,weekdayCloseTime:g.target.value})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-16 text-sm text-gray-500 dark:text-gray-400 shrink-0",children:"Sat - Sun"}),d.jsx("input",{className:"block w-full rounded-md border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm focus:border-primary focus:ring-primary sm:text-sm text-gray-900 dark:text-white px-3 py-2",type:"time",value:s.weekendOpenTime,onChange:g=>i({...s,weekendOpenTime:g.target.value})}),d.jsx("span",{className:"text-gray-500",children:"-"}),d.jsx("input",{className:"block w-full rounded-md border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm focus:border-primary focus:ring-primary sm:text-sm text-gray-900 dark:text-white px-3 py-2",type:"time",value:s.weekendCloseTime,onChange:g=>i({...s,weekendCloseTime:g.target.value})})]})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{onClick:c,className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:opacity-90 transition-opacity gradient-bg",children:d.jsx("span",{className:"truncate",children:"Update Profile"})})})]})]})}),d.jsx("hr",{className:"border-gray-200 dark:border-gray-800"}),d.jsx("section",{id:"payment-details",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"material-symbols-outlined text-primary text-2xl",children:"payments"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Payment Details"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage billing and payments."})]})]}),d.jsxs("div",{className:"w-full flex flex-col gap-6 p-6 bg-background-light dark:bg-[#111618] rounded-xl border border-gray-200 dark:border-gray-800",children:[d.jsxs("div",{className:"flex items-start p-4 bg-gray-100 dark:bg-gray-800/50 rounded-lg",children:[d.jsx("div",{className:"w-12 h-8 bg-gray-300 dark:bg-gray-700 rounded-md flex items-center justify-center mr-4",children:d.jsx("svg",{className:"w-6 h-6 text-gray-500 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"})})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Visa ending in 1234"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Expires 12/2025"})]}),d.jsx("button",{onClick:f,className:"text-sm font-medium text-primary hover:underline",children:"Edit"})]}),d.jsx("div",{className:"flex justify-start",children:d.jsx("button",{onClick:m,className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:opacity-90 transition-opacity gradient-bg",children:d.jsx("span",{className:"truncate",children:"Add Payment Method"})})})]})]})}),d.jsx("hr",{className:"border-gray-200 dark:border-gray-800"}),d.jsx("section",{id:"privacy-settings",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"material-symbols-outlined text-primary text-2xl",children:"shield"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Privacy Settings"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Control security and data."})]})]}),d.jsxs("div",{className:"w-full flex flex-col gap-2 p-6 bg-background-light dark:bg-[#111618] rounded-xl border border-gray-200 dark:border-gray-800",children:[d.jsxs("a",{className:"flex items-center justify-between py-3 border-b border-gray-200 dark:border-gray-800",href:"#",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Change Password"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Last changed on Oct 10, 2023"})]}),d.jsx("span",{className:"material-symbols-outlined text-gray-500 dark:text-gray-400",children:"chevron_right"})]}),d.jsxs("a",{className:"flex items-center justify-between py-3 border-b border-gray-200 dark:border-gray-800",href:"#",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Two-Factor Authentication"}),d.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Enabled"})]}),d.jsx("span",{className:"material-symbols-outlined text-gray-500 dark:text-gray-400",children:"chevron_right"})]}),d.jsxs("a",{className:"flex items-center justify-between py-3",href:"#",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Download Your Data"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Export your account and gym data."})]}),d.jsx("span",{className:"material-symbols-outlined text-gray-500 dark:text-gray-400",children:"chevron_right"})]})]})]})})]})]})},Od=()=>{const{slotId:a,instanceId:r}=jf(),s=Kt(),i=fr(),{slots:o,slotInstances:c,fetchingSlots:f}=Ve(w=>w.slots),{slot:m,slotInstance:g}=R.useMemo(()=>{if(console.log("Looking for slotId:",a,"instanceId:",r),console.log("Available slots:",o.map(w=>({id:w.id,name:w.name}))),console.log("Available slot instances:",c.map(w=>({id:w.id,name:w.slot?.name}))),r){const w=c.find(_=>_.id===r);return console.log("Found slot instance:",w?{id:w.id,name:w.slot?.name}:"null"),{slot:w?.slot||null,slotInstance:w}}else if(a){const w=o.find(_=>_.id===a);return console.log("Found slot:",w?{id:w.id,name:w.name}:"null"),{slot:w,slotInstance:null}}return{slot:null,slotInstance:null}},[o,c,a,r]);R.useEffect(()=>{a&&!m&&!f&&(console.log("Slot not found in Redux, fetching slot:",a),i(Xs(a)))},[a,m,f,i]);const y=()=>{if(r)s(`/edit-slot-instance/${r}`,{state:{returnTo:`/slot-instance/${r}`}});else{const w=a||m?.id,_=`/slot/${w}`;s(`/edit-slot/${w}`,{state:{returnTo:_}})}};if(!m&&f)return d.jsx("div",{className:"p-6 lg:p-8",children:d.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Loading..."}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Fetching slot details..."})]})});if(!m)return d.jsx("div",{className:"p-6 lg:p-8",children:d.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Slot Not Found"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"The requested slot could not be found. Make sure slots are loaded for the current venue."}),d.jsx("button",{onClick:()=>s("/calendar"),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:"Return to Calendar"})]})});const b={id:m.id,name:m.name,subtitle:"",image:m.image_urls?.[0]||"https://via.placeholder.com/800x400?text=No+Image",description:m.description||"No description available.",instructor:{name:m.instructor?`${m.instructor.first_name} ${m.instructor.last_name}`:"TBA",bio:`Instructor email: ${m.instructor?.email||"N/A"}`,photo:m.instructor?.profile_url||"https://via.placeholder.com/64x64?text=Instructor"},participants:{registered:g?g.booked_count:m.booked_count,maxSpots:m.capacity},schedule:{date:new Date(g?g.start_time:m.start_time).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),time:(()=>{const w=new Date(g?g.start_time:m.start_time),_=new Date(w.getTime()+m.duration*60*1e3),S=E=>E.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:"UTC"});return`${S(w)} - ${S(_)}`})(),duration:`${m.duration} minutes`,price:m.price,isRecurring:m.is_recurring,recurrenceRules:m.recurrence_rules,recurringDays:(()=>{if(!m.is_recurring||!m.recurrence_rules)return null;const w={SU:"Sunday",MO:"Monday",TU:"Tuesday",WE:"Wednesday",TH:"Thursday",FR:"Friday",SA:"Saturday"},S=m.recurrence_rules.match(/BYDAY=([^;]+)/);if(S){const E=S[1].split(",").map(j=>w[j.trim()]).filter(Boolean);return E.length>0?E.join(", "):null}return null})()}},v=b.participants.registered/b.participants.maxSpots*100;return d.jsxs("div",{className:"p-6 lg:p-8",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[d.jsx("button",{onClick:()=>s("/calendar"),className:"hover:text-primary cursor-pointer",children:"Calendar"}),d.jsx("span",{className:"material-symbols-outlined text-base",children:"chevron_right"}),d.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:b.name})]}),d.jsx("div",{className:"flex gap-3 flex-wrap",children:d.jsxs("button",{onClick:y,className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 gradient-bg text-white text-sm font-bold leading-none tracking-[0.015em] hover:opacity-90 transition-opacity",children:[d.jsx("span",{className:"material-symbols-outlined text-sm mr-2 leading-none",children:"edit"}),d.jsx("span",{className:"truncate leading-none",children:"Edit Slot"})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-gray-900 dark:text-white text-4xl font-black leading-tight tracking-[-0.033em]",children:b.name}),b.subtitle,b.schedule.price&&d.jsxs("p",{className:"text-xl font-bold text-primary mt-2",children:["",b.schedule.price]})]}),d.jsx("div",{className:"aspect-video w-full rounded-xl bg-cover bg-center bg-gray-200 dark:bg-gray-800",style:{backgroundImage:`url("${b.image}")`}}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"About this slot"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:b.description})]}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Instructor"}),d.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-background-light dark:bg-background-dark border border-gray-200 dark:border-gray-800",children:[d.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-16 shrink-0 bg-gray-300 dark:bg-gray-700",style:{backgroundImage:`url("${b.instructor.photo}")`}}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.instructor.name}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 leading-relaxed",children:b.instructor.bio})]})]})]})]}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"sticky top-8 bg-background-light dark:bg-background-dark p-6 rounded-xl border border-gray-200 dark:border-gray-800 flex flex-col gap-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:"Participants"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-primary",children:"group"}),d.jsxs("span",{className:"text-gray-800 dark:text-gray-200",children:[b.participants.registered," registered"]})]}),d.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["of ",b.participants.maxSpots]})]}),d.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 mt-2",children:d.jsx("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-300",style:{width:`${v}%`}})})]}),d.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"Schedule"}),d.jsx("div",{className:"flex flex-col gap-3",children:b.schedule.isRecurring?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex items-center justify-center size-10 rounded-lg bg-blue-100 dark:bg-blue-900/50",children:d.jsx("span",{className:"material-symbols-outlined text-blue-600 dark:text-blue-300",children:"repeat"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Recurring Days"}),d.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:b.schedule.recurringDays||"Pattern not specified"})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex items-center justify-center size-10 rounded-lg bg-gray-200 dark:bg-gray-800",children:d.jsx("span",{className:"material-symbols-outlined text-gray-600 dark:text-gray-300",children:"schedule"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Time"}),d.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:b.schedule.time})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex items-center justify-center size-10 rounded-lg bg-gray-200 dark:bg-gray-800",children:d.jsx("span",{className:"material-symbols-outlined text-gray-600 dark:text-gray-300",children:"hourglass_top"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Duration"}),d.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:b.schedule.duration})]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex items-center justify-center size-10 rounded-lg bg-gray-200 dark:bg-gray-800",children:d.jsx("span",{className:"material-symbols-outlined text-gray-600 dark:text-gray-300",children:"calendar_today"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date"}),d.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:b.schedule.date})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex items-center justify-center size-10 rounded-lg bg-gray-200 dark:bg-gray-800",children:d.jsx("span",{className:"material-symbols-outlined text-gray-600 dark:text-gray-300",children:"schedule"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Time"}),d.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:b.schedule.time})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex items-center justify-center size-10 rounded-lg bg-gray-200 dark:bg-gray-800",children:d.jsx("span",{className:"material-symbols-outlined text-gray-600 dark:text-gray-300",children:"hourglass_top"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Duration"}),d.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:b.schedule.duration})]})]})]})})]})]})})]})]})};function cE(){return d.jsxs("div",{className:"relative hidden lg:flex w-full lg:w-3/5 flex-col justify-center p-12 overflow-hidden bg-[#111618]",children:[d.jsxs("div",{className:"absolute inset-0 z-0",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#101c22]/95 via-[#101c22]/80 to-primary/20 z-10"}),d.jsx("div",{className:"h-full w-full bg-cover bg-center",style:{backgroundImage:"url('https://lh3.googleusercontent.com/aida-public/AB6AXuAm8eRcipQ7ao7iXsl_KSTg3iXYvDtRkERWt9WoGhIUTAQ5yT7IJgDrF8orX80Emr7taUfVVta9-VFqsw_TOtNrviWiMCdxWFh1Qh1gm1XtoFxSrEjTuaJ2WNF6c9078mKx40wB5tcrKcmIS7GMbVrb29Rs3SNGEicvqzE1qFlsh7XqMtluWdI60GyIjhRXGvQKHg4vZSM964j4iBt5ZURNgGABrFF4tma5FFbosebzHnA1MwK5ux0-TuehigqK8P0hM5huFebnjZv7')"}})]}),d.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[d.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-white",children:d.jsx("span",{className:"material-symbols-outlined",children:"fitness_center"})}),d.jsx("span",{className:"text-xl font-bold tracking-tight text-white",children:"FitPulse Partner"})]}),d.jsxs("div",{className:"max-w-2xl flex-1 flex flex-col justify-center ml-8",children:[d.jsx("h1",{className:"text-white tracking-tight text-4xl lg:text-5xl font-bold leading-tight mb-6",children:"Scale Your Fitness Business"}),d.jsx("p",{className:"text-gray-300 text-lg font-normal leading-relaxed mb-10 max-w-xl",children:"The all-in-one platform for bookings, user management, and growth analytics. Join thousands of gym owners optimizing their operations."}),d.jsxs("div",{className:"grid gap-6",children:[d.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl border border-[#3b4b54] bg-[#1c2327]/80 backdrop-blur-sm transition-all hover:bg-[#1c2327]",children:[d.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-lg bg-primary/20 text-primary",children:d.jsx("span",{className:"material-symbols-outlined text-[28px]",children:"cloud_sync"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-white text-lg font-bold leading-tight mb-1",children:"Instant Booking Sync"}),d.jsx("p",{className:"text-[#9db0b9] text-sm font-normal",children:"Sync your schedule in real-time across all devices and prevent double bookings."})]})]}),d.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl border border-[#3b4b54] bg-[#1c2327]/80 backdrop-blur-sm transition-all hover:bg-[#1c2327]",children:[d.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-lg bg-primary/20 text-primary",children:d.jsx("span",{className:"material-symbols-outlined text-[28px]",children:"bar_chart"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-white text-lg font-bold leading-tight mb-1",children:"Deep Data Analytics"}),d.jsx("p",{className:"text-[#9db0b9] text-sm font-normal",children:"Gain actionable insights into member behavior and identify new revenue streams."})]})]}),d.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl border border-[#3b4b54] bg-[#1c2327]/80 backdrop-blur-sm transition-all hover:bg-[#1c2327]",children:[d.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-lg bg-primary/20 text-primary",children:d.jsx("span",{className:"material-symbols-outlined text-[28px]",children:"group_add"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-white text-lg font-bold leading-tight mb-1",children:"User Retention Tools"}),d.jsx("p",{className:"text-[#9db0b9] text-sm font-normal",children:"Automated tools designed to keep your members engaged and coming back."})]})]})]})]})]})]})}function uE(){const{session:a,loading:r}=Af(),s=Kt(),[i,o]=R.useState(!1),[c,f]=R.useState(""),[m,g]=R.useState(""),[y,b]=R.useState(""),w=new URLSearchParams(window.location.search).get("token_hash"),[_]=R.useState(!!w),[S,E]=R.useState(!1),[j,C]=R.useState(!1),D=async M=>{M.preventDefault(),o(!0);try{const{data:z,error:K}=await ge.auth.signUp({email:c,password:m,options:{data:{full_name:y}}});K?alert("Error creating account: "+K.message):z.user&&(z.user.email_confirmed_at?(alert("Account created successfully! Redirecting to setup..."),s("/welcome")):alert("Please check your email and click the confirmation link to activate your account."))}catch(z){console.error("Signup error:",z),alert("An error occurred during signup. Please try again.")}finally{o(!1)}},T=async()=>{try{const{error:M}=await ge.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}`,queryParams:{access_type:"offline",prompt:"consent"}}});M&&alert("Error with Google login: "+M.message)}catch(M){console.error("Google login error:",M),alert("An error occurred during Google login. Please try again.")}};R.useEffect(()=>{a&&!r&&s("/welcome")},[a,r,s]);const P=async()=>{if(!c){alert("Please enter your email address first.");return}o(!0);try{const{error:M}=await ge.auth.resetPasswordForEmail(c,{redirectTo:`${window.location.origin}/reset-password`});M?alert("Error sending reset email: "+M.message):(alert("Password reset email sent! Check your inbox and click the link to reset your password."),C(!1))}catch(M){console.error("Forgot password error:",M),alert("An error occurred. Please try again.")}finally{o(!1)}},N=async M=>{M.preventDefault(),o(!0);try{if(m){const{data:z,error:K}=await ge.auth.signInWithPassword({email:c,password:m});K?alert("Login failed: "+K.message):z.user&&console.log("Login successful")}else{const{error:z}=await ge.auth.signInWithOtp({email:c,options:{emailRedirectTo:window.location.origin}});alert(z?z.message:"Check your email for the login link!")}}catch(z){console.error("Login error:",z),alert("An error occurred during login. Please try again.")}finally{o(!1)}};return r||_?d.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-[#101c22]",children:d.jsx("div",{className:"text-white text-lg",children:"Loading..."})}):d.jsxs("div",{className:"flex h-screen w-full flex-col lg:flex-row overflow-hidden",children:[d.jsx(cE,{}),d.jsxs("div",{className:"flex w-full lg:w-2/5 flex-col bg-[#101c22] overflow-y-auto scrollbar-hide",children:[d.jsx("div",{className:"flex flex-1 flex-col justify-center px-8 py-12 sm:px-12 md:px-16 lg:px-20 xl:px-24",children:d.jsxs("div",{className:"mx-auto w-full max-w-sm lg:w-96",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsx("h2",{className:"mt-6 text-3xl font-extrabold tracking-tight text-slate-900 dark:text-white",children:"Partner Portal"}),d.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:j?"Enter your email to receive a password reset link.":S?"Create your account to get started.":"Welcome back! Please enter your details."})]}),!j&&d.jsxs("div",{className:"mb-8 grid grid-cols-2 gap-1 rounded-lg bg-gray-200 dark:bg-[#1c2327] p-1",children:[d.jsx("button",{onClick:()=>E(!1),className:`flex items-center justify-center rounded-md py-2 text-sm font-medium shadow-sm transition-opacity cursor-pointer ${S?"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200":"text-white hover:opacity-90 gradient-bg"}`,children:"Log In"}),d.jsx("button",{onClick:()=>E(!0),className:`flex items-center justify-center rounded-md py-2 text-sm font-medium shadow-sm transition-opacity cursor-pointer ${S?"text-white hover:opacity-90 gradient-bg":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:"Sign Up"})]}),d.jsxs("form",{onSubmit:j?M=>{M.preventDefault(),P()}:S?D:N,className:"space-y-6",children:[S&&!j&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",htmlFor:"name",children:"Full Name"}),d.jsxs("div",{className:"mt-1 relative",children:[d.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:d.jsx("span",{className:"material-symbols-outlined text-gray-400 text-[20px]",children:"person"})}),d.jsx("input",{autoComplete:"name",className:"block w-full rounded-lg border border-gray-300 dark:border-[#3b4b54] bg-white dark:bg-[#111618] py-3 pl-10 pr-3 text-slate-900 dark:text-white placeholder-gray-400 focus:border-primary focus:ring-primary sm:text-sm",id:"name",name:"name",placeholder:"John Doe",type:"text",value:y,onChange:M=>b(M.target.value),required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",htmlFor:"email",children:"Email address"}),d.jsxs("div",{className:"mt-1 relative",children:[d.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:d.jsx("span",{className:"material-symbols-outlined text-gray-400 text-[20px]",children:"mail"})}),d.jsx("input",{autoComplete:"email",className:"block w-full rounded-lg border border-gray-300 dark:border-[#3b4b54] bg-white dark:bg-[#111618] py-3 pl-10 pr-3 text-slate-900 dark:text-white placeholder-gray-400 focus:border-primary focus:ring-primary sm:text-sm",id:"email",name:"email",placeholder:"gym@partner.com",type:"email",value:c,onChange:M=>f(M.target.value),required:!0})]})]}),!j&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"mt-1 relative",children:[d.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:d.jsx("span",{className:"material-symbols-outlined text-gray-400 text-[20px]",children:"lock"})}),d.jsx("input",{autoComplete:S?"new-password":"current-password",className:"block w-full rounded-lg border border-gray-300 dark:border-[#3b4b54] bg-white dark:bg-[#111618] py-3 pl-10 pr-3 text-slate-900 dark:text-white placeholder-gray-400 focus:border-primary focus:ring-primary sm:text-sm",id:"password",name:"password",placeholder:"",type:"password",value:m,onChange:M=>g(M.target.value),required:!0})]})]}),!j&&!S&&d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary bg-white dark:bg-[#111618] dark:border-[#3b4b54]",id:"remember-me",name:"remember-me",type:"checkbox"}),d.jsx("label",{className:"ml-2 block text-sm text-slate-600 dark:text-slate-400",htmlFor:"remember-me",children:"Remember me"})]}),d.jsx("div",{className:"text-sm",children:d.jsx("button",{type:"button",onClick:()=>C(!0),className:"font-medium text-primary hover:text-primary/80",children:"Forgot password?"})})]}),j&&d.jsx("div",{className:"text-center",children:d.jsx("button",{type:"button",onClick:()=>C(!1),className:"text-sm font-medium text-primary hover:text-primary/80",children:" Back to login"})}),d.jsx("div",{children:d.jsx("button",{className:"flex w-full justify-center rounded-lg px-4 py-3 text-sm font-bold text-white shadow-sm hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-[#101c22] transition-opacity cursor-pointer gradient-bg disabled:opacity-50",type:"submit",disabled:i,children:i?"Please wait...":j?"Send Reset Link":S?"Sign up":"Log in"})})]}),!j&&d.jsxs("div",{className:"mt-6",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-200 dark:border-[#3b4b54]"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"bg-[#101c22] px-2 text-slate-500 dark:text-slate-400",children:"Or continue with"})})]}),d.jsx("div",{className:"mt-6",children:d.jsxs("button",{onClick:T,className:"flex w-full items-center justify-center gap-3 rounded-lg bg-white dark:bg-[#1c2327] px-4 py-3 text-sm font-medium text-slate-700 dark:text-white shadow-sm hover:bg-gray-50 dark:hover:bg-[#252e33] transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-[#101c22] cursor-pointer gradient-border",type:"button",children:[d.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),d.jsx("span",{className:"text-sm font-medium",children:"Google"})]})})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsx("a",{className:"text-xs text-slate-400 hover:text-slate-500 dark:hover:text-slate-300",href:"#",children:"Having trouble? Contact Support"})})]})}),d.jsx("div",{className:"p-6 text-center text-xs text-slate-400",children:" 2023 FitPulse. All rights reserved."})]})]})}const dE=()=>{const a=fr(),r=Kt(),[s,i]=R.useState(!1),o=Hb(()=>{i(!1)}),{slots:c,fetchingSlots:f,error:m}=Ve(N=>N.slots),{selectedVenueId:g,userVenues:y,fetchingUserVenues:b}=Ve(N=>N.venue),{user:v}=Ve(N=>N.user),w=c.filter(N=>N.is_recurring),_=c.filter(N=>!N.is_recurring),S=N=>{r(`/slot/${N}`)},E=(N,M)=>{N.stopPropagation(),r(`/edit-slot/${M}`)};R.useEffect(()=>{(async()=>{if(v?.id&&y.length===0&&!b)try{const M=await a(ei());if(M.payload&&typeof M.payload=="object"&&"venueAccess"in M.payload&&Array.isArray(M.payload.venueAccess)&&M.payload.venueAccess.length>0){const z=M.payload.venueAccess.map(K=>K.venue_id);await a(ai(z))}}catch(M){console.error("Error loading user venues:",M)}})()},[a,v?.id,y.length,b]);const j=N=>{a(_b(N)),i(!1)};R.useEffect(()=>{if(g){const N=parseInt(g,10);isNaN(N)||a(Pa(N))}},[a,g]);const C=N=>{const M=new Date(N),z=M.getHours(),K=M.getMinutes(),Z=z>=12?"PM":"AM";return`${z===0?12:z>12?z-12:z}:${K.toString().padStart(2,"0")} ${Z}`},D=(N,M)=>{const z=new Date(N);return new Date(z.getTime()+M*6e4).toISOString()},T=N=>N.image_urls&&N.image_urls.length>0?N.image_urls[0]:null,P=y.find(N=>N.id===g);return d.jsx("div",{className:"flex-1 p-4 sm:p-6 lg:p-8",children:d.jsxs("div",{className:"mx-auto max-w-7xl",children:[d.jsx("div",{className:"mb-8",children:d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-3xl lg:text-4xl font-black leading-tight tracking-[-0.033em] text-gray-900 dark:text-white",children:"Slots Management"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Manage your class slots from this central dashboard."})]}),y.length>0&&d.jsxs("div",{className:"relative",ref:o,children:[d.jsxs("button",{onClick:()=>i(!s),disabled:b,className:"flex items-center min-w-[200px] max-w-[300px] cursor-pointer justify-between overflow-hidden rounded-lg h-10 px-4 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm font-medium leading-normal tracking-[0.015em] border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[d.jsx("span",{className:"truncate flex-1 text-left",children:b?"Loading venues...":P?P.name:"Select venue"}),d.jsx($b,{className:"w-4 h-4 ml-2 flex-shrink-0"})]}),s&&y.length>0&&d.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 max-h-60 overflow-y-auto",children:y.map(N=>d.jsxs("button",{onClick:()=>j(N.id),className:`w-full px-4 py-3 text-left text-sm hover:bg-gray-50 dark:hover:bg-gray-700 first:rounded-t-lg last:rounded-b-lg ${N.id===g?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300"}`,children:[d.jsx("div",{className:"truncate font-medium",children:N.name}),N.details&&d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-1",children:N.details.city})]},N.id))})]})]})}),d.jsx("div",{children:d.jsx("div",{className:"py-6",children:f||b?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"flex items-center gap-3 text-gray-500",children:[d.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-gray-300 border-t-primary"}),d.jsx("span",{children:b?"Loading venues...":"Loading slots..."})]})}):m?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"text-red-500",children:["Error loading slots: ",m]})}):g?d.jsxs("div",{className:"space-y-8",children:[w.length>0&&d.jsxs("div",{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Recurring Classes"}),d.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["Classes that repeat weekly (",w.length,")"]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:w.map(N=>d.jsxs("div",{onClick:()=>S(N.id),className:"relative group overflow-hidden rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 cursor-pointer hover:shadow-lg transition-shadow",children:[T(N)?d.jsx("img",{alt:N.name,className:"aspect-[4/3] w-full object-cover",src:T(N)}):d.jsx("div",{className:"aspect-[4/3] w-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400 dark:text-gray-500 mb-2 block",children:"fitness_center"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:N.name})]})}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),d.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[d.jsx("h3",{className:"font-bold text-white text-lg",children:N.name}),d.jsxs("p",{className:"text-sm text-gray-300",children:[C(N.start_time)," - ",C(D(N.start_time,N.duration))]}),d.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[d.jsx("span",{className:"material-symbols-outlined text-sm text-yellow-400",children:"repeat"}),d.jsx("span",{className:"text-xs text-yellow-400",children:"Recurring"})]}),N.instructor&&d.jsxs("p",{className:"text-xs text-gray-300 mt-1",children:[N.instructor.first_name," ",N.instructor.last_name]})]}),d.jsx("button",{onClick:M=>E(M,N.id),className:"absolute top-3 right-3 flex items-center justify-center rounded-lg h-9 w-9 bg-black/50 text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-black/70 cursor-pointer",children:d.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})})]},N.id))})]}),_.length>0&&d.jsxs("div",{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"One-Time Classes"}),d.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["Individual class sessions (",_.length,")"]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:_.map(N=>d.jsxs("div",{onClick:()=>S(N.id),className:"relative group overflow-hidden rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 cursor-pointer hover:shadow-lg transition-shadow",children:[T(N)?d.jsx("img",{alt:N.name,className:"aspect-[4/3] w-full object-cover",src:T(N)}):d.jsx("div",{className:"aspect-[4/3] w-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400 dark:text-gray-500 mb-2 block",children:"event"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:N.name})]})}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),d.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[d.jsx("h3",{className:"font-bold text-white text-lg",children:N.name}),d.jsxs("p",{className:"text-sm text-gray-300",children:[C(N.start_time)," - ",C(D(N.start_time,N.duration))]}),d.jsx("p",{className:"text-xs text-blue-400 mt-1",children:"One-time class"}),N.instructor&&d.jsxs("p",{className:"text-xs text-gray-300 mt-1",children:[N.instructor.first_name," ",N.instructor.last_name]})]}),d.jsx("button",{onClick:M=>E(M,N.id),className:"absolute top-3 right-3 flex items-center justify-center rounded-lg h-9 w-9 bg-black/50 text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-black/70 cursor-pointer",children:d.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})})]},N.id))})]}),c.length===0&&d.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[d.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 mb-4",children:"event_available"}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No slots found"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Get started by creating your first class slot"})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:d.jsxs("a",{className:"group flex aspect-[4/3] w-full cursor-pointer flex-col items-center justify-center rounded-xl border-2 border-dashed border-gray-300 bg-gray-100 text-gray-500 transition-colors hover:border-primary hover:bg-primary/10 hover:text-primary dark:border-gray-700 dark:bg-gray-800/50 dark:text-gray-400 dark:hover:border-primary dark:hover:bg-primary/10 dark:hover:text-primary",href:"/add-new-slot",children:[d.jsx("span",{className:"material-symbols-outlined text-4xl",children:"add"}),d.jsx("p",{className:"mt-2 text-sm font-bold",children:"Create New Slot"})]})})]}):d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx("div",{className:"text-gray-500",children:"Please select a venue to view slots"})})})})]})})},fE=()=>{const a=Kt(),r=fr(),{user:s,loading:i}=Af(),{loading:o,error:c,shouldSkipWelcome:f,onboardingStatus:m,checkingOnboardingStatus:g}=Ve(I=>I.user),{loading:y,error:b}=Ve(I=>I.venue),[v,w]=R.useState(""),[_,S]=R.useState(""),[E,j]=R.useState(""),[C,D]=R.useState(""),[T,P]=R.useState(""),[N,M]=R.useState(""),[z,K]=R.useState(""),[Z,Q]=R.useState(""),[de,ne]=R.useState(""),[Ue,_e]=R.useState(""),[Ne,$]=R.useState(""),[X,ae]=R.useState(["Mon","Tue","Wed","Thu","Fri"]);R.useEffect(()=>{if(!i)if(!s)a("/");else{if(r(Ws()),!v&&(s.user_metadata?.full_name||s.user_metadata?.name)){const I=s.user_metadata.full_name||s.user_metadata.name||"",J=I.split(" ");J.length>1?(w(J[0]),S(J.slice(1).join(" "))):w(I)}!C&&s.email&&D(s.email)}},[s,i,a,r,v,C]),R.useEffect(()=>{console.log("shouldSkipWelcome:",f),f&&(console.log("Redirecting to dashboard..."),a("/dashboard"))},[f,a]);const xe=I=>{X.includes(I)?ae(X.filter(J=>J!==I)):ae([...X,I])},Se=I=>{const J={Mon:1,Tue:2,Wed:4,Thu:8,Fri:16,Sat:32,Sun:64};return I.reduce((oe,ce)=>oe+(J[ce]||0),0)},O=async I=>{I.preventDefault();const J=v&&_&&C,ce=!m.showBothSections||T&&N&&Z&&de&&Ue&&Ne;if(!J||!ce){alert("Please fill in all required fields");return}try{r(dj({fullName:v,lastName:_,age:E,email:C})),m.showBothSections&&r(mj({venueName:T,address:`${N}${z?", "+z:""}, ${Z}, ${de}`,openingTime:Ue,closingTime:Ne,operatingDays:X}));const he=await r(Zs({firstName:v,lastName:_,age:E,email:C}));if(Zs.rejected.match(he)){alert(`Failed to create user: ${he.payload}`);return}if(m.showBothSections){const et=await r(ti({name:T,contactEmail:C}));if(ti.rejected.match(et)){alert(`Failed to create venue: ${et.payload}`);return}const $e=et.payload.id,ma=Se(X),ga=await r(ri({id:$e,addressLine1:N,addressLine2:z||void 0,city:Z,postalCode:de,openingTime:Ue,closingTime:Ne,operatingDaysBitmask:ma}));if(ri.rejected.match(ga)){alert(`Failed to create venue details: ${ga.payload}`);return}}a("/dashboard")}catch(he){console.error("Form submission error:",he),alert("An unexpected error occurred. Please try again.")}},Y=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return i||g?d.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-100 dark:bg-[#101c22]",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),d.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-lg",children:i?"Loading...":"Checking your account status..."})]})}):d.jsx("div",{className:"relative flex h-auto min-h-screen w-full flex-col bg-gray-100 dark:bg-[#101c22]",children:d.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[d.jsx("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-gray-200 dark:border-gray-800 px-4 sm:px-6 lg:px-8 py-3 bg-white dark:bg-[#111618]",children:d.jsxs("div",{className:"flex items-center gap-4 text-gray-900 dark:text-white",children:[d.jsx("div",{className:"text-primary size-6",children:d.jsxs("svg",{fill:"currentColor",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{clipRule:"evenodd",d:"M24 18.4228L42 11.475V34.3663C42 34.7796 41.7457 35.1504 41.3601 35.2992L24 42V18.4228Z",fillRule:"evenodd"}),d.jsx("path",{clipRule:"evenodd",d:"M24 8.18819L33.4123 11.574L24 15.2071L14.5877 11.574L24 8.18819ZM9 15.8487L21 20.4805V37.6263L9 32.9945V15.8487ZM27 37.6263V20.4805L39 15.8487V32.9945L27 37.6263ZM25.354 2.29885C24.4788 1.98402 23.5212 1.98402 22.646 2.29885L4.98454 8.65208C3.7939 9.08038 3 10.2097 3 11.475V34.3663C3 36.0196 4.01719 37.5026 5.55962 38.098L22.9197 44.7987C23.6149 45.0671 24.3851 45.0671 25.0803 44.7987L42.4404 38.098C43.9828 37.5026 45 36.0196 45 34.3663V11.475C45 10.2097 44.2061 9.08038 43.0155 8.65208L25.354 2.29885Z",fillRule:"evenodd"})]})}),d.jsx("h2",{className:"text-lg font-bold leading-tight tracking-[-0.015em]",children:"Admin Dashboard"})]})}),d.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 flex justify-center items-start bg-gray-100 dark:bg-[#101c22]",children:d.jsxs("div",{className:"w-full max-w-4xl space-y-8",children:[d.jsxs("div",{className:"mb-8 text-center sm:text-left",children:[d.jsx("p",{className:"text-3xl lg:text-4xl font-black leading-tight tracking-[-0.033em] text-gray-900 dark:text-white",children:"Welcome, Partner!"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 text-lg",children:m.showOnlyPersonalInfo?"Please complete your profile information to get started.":"Let's get your gym set up and ready for bookings. This will only take a few minutes."})]}),d.jsx("div",{className:"mb-10",children:d.jsxs("div",{className:"flex items-center w-full",children:[d.jsxs("div",{className:"flex items-center text-primary relative",children:[d.jsx("div",{className:"rounded-full transition duration-500 ease-in-out h-10 w-10 py-3 border-2 border-primary bg-primary text-white font-bold flex items-center justify-center",children:"1"}),d.jsx("div",{className:"absolute top-0 -ml-10 text-center mt-12 w-32 text-xs font-bold uppercase text-primary",children:"Personal Details"})]}),d.jsx("div",{className:"flex-auto border-t-2 transition duration-500 ease-in-out border-gray-300 dark:border-gray-700"}),d.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400 relative",children:[d.jsx("div",{className:"rounded-full transition duration-500 ease-in-out h-10 w-10 py-3 border-2 border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 font-bold flex items-center justify-center",children:"2"}),d.jsx("div",{className:"absolute top-0 -ml-10 text-center mt-12 w-32 text-xs font-medium uppercase text-gray-500 dark:text-gray-400",children:"Venue Info"})]}),d.jsx("div",{className:"flex-auto border-t-2 transition duration-500 ease-in-out border-gray-300 dark:border-gray-700"}),d.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400 relative",children:[d.jsx("div",{className:"rounded-full transition duration-500 ease-in-out h-10 w-10 py-3 border-2 border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 font-bold flex items-center justify-center",children:"3"}),d.jsx("div",{className:"absolute top-0 -ml-10 text-center mt-12 w-32 text-xs font-medium uppercase text-gray-500 dark:text-gray-400",children:"Complete"})]})]})}),(c||b)&&d.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2 text-red-800 dark:text-red-200",children:[d.jsx("span",{className:"material-symbols-outlined text-lg",children:"error"}),d.jsx("p",{className:"font-medium",children:"Setup Error"})]}),d.jsx("p",{className:"mt-1 text-sm text-red-700 dark:text-red-300",children:c||b})]}),d.jsxs("form",{onSubmit:O,children:[d.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800 shadow-sm p-6 sm:p-8",children:[d.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-primary",children:"person"}),"Personal Information"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"col-span-1",children:[d.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",htmlFor:"first-name",children:["First Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary focus:ring-primary sm:text-sm p-3",id:"first-name",name:"first-name",placeholder:"e.g. John",type:"text",value:v,onChange:I=>w(I.target.value),required:!0})]}),d.jsxs("div",{className:"col-span-1",children:[d.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",htmlFor:"last-name",children:["Last Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary focus:ring-primary sm:text-sm p-3",id:"last-name",name:"last-name",placeholder:"e.g. Doe",type:"text",value:_,onChange:I=>S(I.target.value),required:!0})]}),d.jsxs("div",{className:"col-span-1",children:[d.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",htmlFor:"age",children:"Age"}),d.jsx("input",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary focus:ring-primary sm:text-sm p-3",id:"age",max:"100",min:"18",name:"age",placeholder:"e.g. 34",type:"number",value:E,onChange:I=>j(I.target.value)})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",htmlFor:"email",children:["Email Address ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary focus:ring-primary sm:text-sm p-3",id:"email",name:"email",placeholder:"e.g. john@gymdomain.com",type:"email",value:C,onChange:I=>D(I.target.value),required:!0})]})]})]}),m.showBothSections&&d.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800 shadow-sm p-6 sm:p-8 mt-6",children:[d.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-primary",children:"storefront"}),"Primary Venue Details"]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",htmlFor:"venue-name",children:["Venue Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary focus:ring-primary sm:text-sm p-3",id:"venue-name",name:"venue-name",placeholder:"e.g. Iron Pump Fitness Center",type:"text",value:T,onChange:I=>P(I.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",htmlFor:"address-line-1",children:["Address Line 1 ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:d.jsx("span",{className:"material-symbols-outlined text-gray-400 text-lg",children:"location_on"})}),d.jsx("input",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 pl-10 text-gray-900 dark:text-white focus:border-primary focus:ring-primary sm:text-sm p-3",id:"address-line-1",name:"address-line-1",placeholder:"e.g. 123 Main Street",type:"text",value:N,onChange:I=>M(I.target.value),required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",htmlFor:"address-line-2",children:"Address Line 2"}),d.jsx("input",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary focus:ring-primary sm:text-sm p-3",id:"address-line-2",name:"address-line-2",placeholder:"e.g. Suite 100, Floor 2",type:"text",value:z,onChange:I=>K(I.target.value)})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",htmlFor:"city",children:["City ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary focus:ring-primary sm:text-sm p-3",id:"city",name:"city",placeholder:"e.g. New York",type:"text",value:Z,onChange:I=>Q(I.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",htmlFor:"postal-code",children:["Postal Code ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary focus:ring-primary sm:text-sm p-3",id:"postal-code",name:"postal-code",placeholder:"e.g. 10001",type:"text",value:de,onChange:I=>ne(I.target.value),required:!0})]})]}),d.jsxs("div",{className:"mt-4 h-48 w-full bg-gray-100 dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-700 flex items-center justify-center text-gray-500 dark:text-gray-400 relative overflow-hidden group",children:[d.jsx("img",{alt:"Map View",className:"absolute inset-0 w-full h-full object-cover opacity-50 group-hover:opacity-60 transition-opacity",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuAAEpOwtRPkWzz18BXJBtGLnIDuHnw_G3eGXmqnh0qBpaAGG1hmuC8xg4B1Z-g_9TmYsPNXIXTlTf9H-PZJYcTgZNlcNURTicxW_YtAuU-JbdJy8ufkyFJKGoX5kG7ZPXB_kIyDKePOn-wE0JbxNjDBu_rIs8sfkCD4Uigg5dqC6fHTnKQ74YycakuVtm4z4XvXlodvSwvr0sAhqSAIX9PhuJNK4ptGx4fE8IujtwqgLUIXaapcS_4rcAxx_0VEAPX-1h0F2xNXMaTX"}),d.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2 bg-white/80 dark:bg-black/60 p-4 rounded-lg backdrop-blur-sm",children:[d.jsx("span",{className:"material-symbols-outlined text-3xl text-primary",children:"map"}),d.jsx("span",{className:"text-sm font-medium",children:"Click to adjust pin location"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:["Opening Time ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary focus:ring-primary sm:text-sm p-3",type:"time",value:Ue,onChange:I=>_e(I.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:["Closing Time ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary focus:ring-primary sm:text-sm p-3",type:"time",value:Ne,onChange:I=>$(I.target.value),required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Operating Days"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map(I=>d.jsxs("label",{className:`inline-flex cursor-pointer items-center gap-2 rounded-lg border px-3 py-2 text-sm font-medium transition-colors ${X.includes(I)?"border-primary bg-primary/5 text-primary":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[d.jsx("input",{type:"checkbox",className:"sr-only",checked:X.includes(I),onChange:()=>xe(I)}),d.jsx("span",{children:I})]},I))})]})]})]}),d.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200 dark:border-gray-800 mt-6",children:[d.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 text-sm font-bold text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",type:"button",onClick:()=>a("/"),children:[d.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"}),"Back"]}),d.jsx("button",{className:"flex items-center gap-2 px-8 py-3 rounded-lg bg-primary hover:bg-primary/90 text-white text-sm font-bold shadow-lg shadow-primary/30 transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",type:"submit",disabled:o||y,children:o||y?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Setting up..."]}):d.jsxs(d.Fragment,{children:[m.showOnlyPersonalInfo?"Update Profile":"Complete Setup",d.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]})})]})]})]})})]})})};function hE(){const a=fr();return R.useEffect(()=>{(async()=>{try{const s=await a(Ln());Ln.fulfilled.match(s)&&s.payload&&await a(Ws())}catch(s){console.error("Failed to initialize user:",s)}})()},[a]),d.jsx(C2,{children:d.jsxs(By,{children:[d.jsx(ut,{path:"/",element:d.jsx(uE,{})}),d.jsx(ut,{path:"/welcome",element:d.jsx(fE,{})}),d.jsx(ut,{path:"/*",element:d.jsxs("div",{className:"flex h-screen w-full overflow-hidden font-sans text-gray-800 dark:text-gray-200",children:[d.jsx($2,{}),d.jsx("main",{className:"flex-1 flex flex-col overflow-y-auto bg-gray-100 dark:bg-[#101c22]",children:d.jsxs(By,{children:[d.jsx(ut,{path:"/calendar",element:d.jsx(aE,{})}),d.jsx(ut,{path:"/add-slot",element:d.jsx(Cd,{})}),d.jsx(ut,{path:"/add-slot/:slotId",element:d.jsx(Cd,{})}),d.jsx(ut,{path:"/edit-slot/:slotId",element:d.jsx(Cd,{})}),d.jsx(ut,{path:"/edit-slot-instance/:instanceId",element:d.jsx(nE,{})}),d.jsx(ut,{path:"/bookings",element:d.jsx(sE,{})}),d.jsx(ut,{path:"/dashboard",element:d.jsx(iE,{})}),d.jsx(ut,{path:"/slots-venues",element:d.jsx(dE,{})}),d.jsx(ut,{path:"/users",element:d.jsx(lE,{})}),d.jsx(ut,{path:"/settings",element:d.jsx(oE,{})}),d.jsx(ut,{path:"/slot/:slotId",element:d.jsx(Od,{})}),d.jsx(ut,{path:"/slot-instance/:instanceId",element:d.jsx(Od,{})}),d.jsx(ut,{path:"/class/:classId",element:d.jsx(Od,{})})," "]})})]})})]})})}document.documentElement.classList.add("dark");document.body.className="bg-background-light dark:bg-background-dark font-display text-gray-800 dark:text-gray-200";Sw.createRoot(document.getElementById("root")).render(d.jsx(gw.StrictMode,{children:d.jsx($w,{store:yj,children:d.jsx(hE,{})})}));
